var pE=Object.defineProperty;var gE=(t,e,n)=>e in t?pE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var yn=(t,e,n)=>gE(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ec(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Py={exports:{}},bc={},jy={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ko=Symbol.for("react.element"),yE=Symbol.for("react.portal"),vE=Symbol.for("react.fragment"),xE=Symbol.for("react.strict_mode"),wE=Symbol.for("react.profiler"),_E=Symbol.for("react.provider"),EE=Symbol.for("react.context"),bE=Symbol.for("react.forward_ref"),TE=Symbol.for("react.suspense"),IE=Symbol.for("react.memo"),NE=Symbol.for("react.lazy"),Op=Symbol.iterator;function SE(t){return t===null||typeof t!="object"?null:(t=Op&&t[Op]||t["@@iterator"],typeof t=="function"?t:null)}var Dy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Oy=Object.assign,My={};function us(t,e,n){this.props=t,this.context=e,this.refs=My,this.updater=n||Dy}us.prototype.isReactComponent={};us.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};us.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ly(){}Ly.prototype=us.prototype;function zh(t,e,n){this.props=t,this.context=e,this.refs=My,this.updater=n||Dy}var $h=zh.prototype=new Ly;$h.constructor=zh;Oy($h,us.prototype);$h.isPureReactComponent=!0;var Mp=Array.isArray,Vy=Object.prototype.hasOwnProperty,Bh={current:null},Fy={key:!0,ref:!0,__self:!0,__source:!0};function Uy(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Vy.call(e,r)&&!Fy.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Ko,type:t,key:s,ref:o,props:i,_owner:Bh.current}}function CE(t,e){return{$$typeof:Ko,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wh(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ko}function kE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Lp=/\/+/g;function ku(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kE(""+t.key):e.toString(36)}function nl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ko:case yE:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ku(o,0):r,Mp(i)?(n="",t!=null&&(n=t.replace(Lp,"$&/")+"/"),nl(i,e,n,"",function(d){return d})):i!=null&&(Wh(i)&&(i=CE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Lp,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Mp(t))for(var c=0;c<t.length;c++){s=t[c];var u=r+ku(s,c);o+=nl(s,e,n,u,i)}else if(u=SE(t),typeof u=="function")for(t=u.call(t),c=0;!(s=t.next()).done;)s=s.value,u=r+ku(s,c++),o+=nl(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ka(t,e,n){if(t==null)return t;var r=[],i=0;return nl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function AE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dt={current:null},rl={transition:null},RE={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:rl,ReactCurrentOwner:Bh};function zy(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:ka,forEach:function(t,e,n){ka(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ka(t,function(){e++}),e},toArray:function(t){return ka(t,function(e){return e})||[]},only:function(t){if(!Wh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=us;Z.Fragment=vE;Z.Profiler=wE;Z.PureComponent=zh;Z.StrictMode=xE;Z.Suspense=TE;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RE;Z.act=zy;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Oy({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Bh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)Vy.call(e,u)&&!Fy.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:Ko,type:t.type,key:i,ref:s,props:r,_owner:o}};Z.createContext=function(t){return t={$$typeof:EE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_E,_context:t},t.Consumer=t};Z.createElement=Uy;Z.createFactory=function(t){var e=Uy.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:bE,render:t}};Z.isValidElement=Wh;Z.lazy=function(t){return{$$typeof:NE,_payload:{_status:-1,_result:t},_init:AE}};Z.memo=function(t,e){return{$$typeof:IE,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=rl.transition;rl.transition={};try{t()}finally{rl.transition=e}};Z.unstable_act=zy;Z.useCallback=function(t,e){return dt.current.useCallback(t,e)};Z.useContext=function(t){return dt.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return dt.current.useDeferredValue(t)};Z.useEffect=function(t,e){return dt.current.useEffect(t,e)};Z.useId=function(){return dt.current.useId()};Z.useImperativeHandle=function(t,e,n){return dt.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return dt.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return dt.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return dt.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return dt.current.useReducer(t,e,n)};Z.useRef=function(t){return dt.current.useRef(t)};Z.useState=function(t){return dt.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return dt.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return dt.current.useTransition()};Z.version="18.3.1";jy.exports=Z;var j=jy.exports;const rr=Ec(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE=j,jE=Symbol.for("react.element"),DE=Symbol.for("react.fragment"),OE=Object.prototype.hasOwnProperty,ME=PE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LE={key:!0,ref:!0,__self:!0,__source:!0};function $y(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)OE.call(e,r)&&!LE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jE,type:t,key:s,ref:o,props:i,_owner:ME.current}}bc.Fragment=DE;bc.jsx=$y;bc.jsxs=$y;Py.exports=bc;var l=Py.exports,By={exports:{}},It={},Wy={exports:{}},Hy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Q){var J=$.length;$.push(Q);e:for(;0<J;){var _e=J-1>>>1,ue=$[_e];if(0<i(ue,Q))$[_e]=Q,$[J]=ue,J=_e;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Q=$[0],J=$.pop();if(J!==Q){$[0]=J;e:for(var _e=0,ue=$.length,Ce=ue>>>1;_e<Ce;){var dn=2*(_e+1)-1,hn=$[dn],fn=dn+1,mn=$[fn];if(0>i(hn,J))fn<ue&&0>i(mn,hn)?($[_e]=mn,$[fn]=J,_e=fn):($[_e]=hn,$[dn]=J,_e=dn);else if(fn<ue&&0>i(mn,J))$[_e]=mn,$[fn]=J,_e=fn;else break e}}return Q}function i($,Q){var J=$.sortIndex-Q.sortIndex;return J!==0?J:$.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],d=[],f=1,p=null,g=3,T=!1,C=!1,A=!1,P=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b($){for(var Q=n(d);Q!==null;){if(Q.callback===null)r(d);else if(Q.startTime<=$)r(d),Q.sortIndex=Q.expirationTime,e(u,Q);else break;Q=n(d)}}function D($){if(A=!1,b($),!C)if(n(u)!==null)C=!0,fe(V);else{var Q=n(d);Q!==null&&Qe(D,Q.startTime-$)}}function V($,Q){C=!1,A&&(A=!1,_(v),v=-1),T=!0;var J=g;try{for(b(Q),p=n(u);p!==null&&(!(p.expirationTime>Q)||$&&!S());){var _e=p.callback;if(typeof _e=="function"){p.callback=null,g=p.priorityLevel;var ue=_e(p.expirationTime<=Q);Q=t.unstable_now(),typeof ue=="function"?p.callback=ue:p===n(u)&&r(u),b(Q)}else r(u);p=n(u)}if(p!==null)var Ce=!0;else{var dn=n(d);dn!==null&&Qe(D,dn.startTime-Q),Ce=!1}return Ce}finally{p=null,g=J,T=!1}}var U=!1,I=null,v=-1,E=5,w=-1;function S(){return!(t.unstable_now()-w<E)}function k(){if(I!==null){var $=t.unstable_now();w=$;var Q=!0;try{Q=I(!0,$)}finally{Q?N():(U=!1,I=null)}}else U=!1}var N;if(typeof x=="function")N=function(){x(k)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,ae=ve.port2;ve.port1.onmessage=k,N=function(){ae.postMessage(null)}}else N=function(){P(k,0)};function fe($){I=$,U||(U=!0,N())}function Qe($,Q){v=P(function(){$(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){C||T||(C=!0,fe(V))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function($){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var J=g;g=Q;try{return $()}finally{g=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var J=g;g=$;try{return Q()}finally{g=J}},t.unstable_scheduleCallback=function($,Q,J){var _e=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?_e+J:_e):J=_e,$){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=J+ue,$={id:f++,callback:Q,priorityLevel:$,startTime:J,expirationTime:ue,sortIndex:-1},J>_e?($.sortIndex=J,e(d,$),n(u)===null&&$===n(d)&&(A?(_(v),v=-1):A=!0,Qe(D,J-_e))):($.sortIndex=ue,e(u,$),C||T||(C=!0,fe(V))),$},t.unstable_shouldYield=S,t.unstable_wrapCallback=function($){var Q=g;return function(){var J=g;g=Q;try{return $.apply(this,arguments)}finally{g=J}}}})(Hy);Wy.exports=Hy;var VE=Wy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE=j,Tt=VE;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qy=new Set,xo={};function si(t,e){Gi(t,e),Gi(t+"Capture",e)}function Gi(t,e){for(xo[t]=e,t=0;t<e.length;t++)qy.add(e[t])}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xd=Object.prototype.hasOwnProperty,UE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vp={},Fp={};function zE(t){return xd.call(Fp,t)?!0:xd.call(Vp,t)?!1:UE.test(t)?Fp[t]=!0:(Vp[t]=!0,!1)}function $E(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function BE(t,e,n,r){if(e===null||typeof e>"u"||$E(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ht(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qe[t]=new ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qe[e]=new ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qe[t]=new ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qe[t]=new ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qe[t]=new ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qe[t]=new ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qe[t]=new ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qe[t]=new ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qe[t]=new ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hh=/[\-:]([a-z])/g;function qh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hh,qh);qe[e]=new ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hh,qh);qe[e]=new ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hh,qh);qe[e]=new ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qe[t]=new ht(t,1,!1,t.toLowerCase(),null,!1,!1)});qe.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qe[t]=new ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function Kh(t,e,n,r){var i=qe.hasOwnProperty(e)?qe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(BE(e,n,i,r)&&(n=null),r||i===null?zE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fn=FE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Aa=Symbol.for("react.element"),bi=Symbol.for("react.portal"),Ti=Symbol.for("react.fragment"),Gh=Symbol.for("react.strict_mode"),wd=Symbol.for("react.profiler"),Ky=Symbol.for("react.provider"),Gy=Symbol.for("react.context"),Qh=Symbol.for("react.forward_ref"),_d=Symbol.for("react.suspense"),Ed=Symbol.for("react.suspense_list"),Yh=Symbol.for("react.memo"),Qn=Symbol.for("react.lazy"),Qy=Symbol.for("react.offscreen"),Up=Symbol.iterator;function Vs(t){return t===null||typeof t!="object"?null:(t=Up&&t[Up]||t["@@iterator"],typeof t=="function"?t:null)}var Te=Object.assign,Au;function Xs(t){if(Au===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Au=e&&e[1]||""}return`
`+Au+t}var Ru=!1;function Pu(t,e){if(!t||Ru)return"";Ru=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,c=s.length-1;1<=o&&0<=c&&i[o]!==s[c];)c--;for(;1<=o&&0<=c;o--,c--)if(i[o]!==s[c]){if(o!==1||c!==1)do if(o--,c--,0>c||i[o]!==s[c]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=c);break}}}finally{Ru=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xs(t):""}function WE(t){switch(t.tag){case 5:return Xs(t.type);case 16:return Xs("Lazy");case 13:return Xs("Suspense");case 19:return Xs("SuspenseList");case 0:case 2:case 15:return t=Pu(t.type,!1),t;case 11:return t=Pu(t.type.render,!1),t;case 1:return t=Pu(t.type,!0),t;default:return""}}function bd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ti:return"Fragment";case bi:return"Portal";case wd:return"Profiler";case Gh:return"StrictMode";case _d:return"Suspense";case Ed:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gy:return(t.displayName||"Context")+".Consumer";case Ky:return(t._context.displayName||"Context")+".Provider";case Qh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yh:return e=t.displayName||null,e!==null?e:bd(t.type)||"Memo";case Qn:e=t._payload,t=t._init;try{return bd(t(e))}catch{}}return null}function HE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bd(e);case 8:return e===Gh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _r(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qE(t){var e=Yy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ra(t){t._valueTracker||(t._valueTracker=qE(t))}function Xy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Yy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Cl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Td(t,e){var n=e.checked;return Te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_r(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Jy(t,e){e=e.checked,e!=null&&Kh(t,"checked",e,!1)}function Id(t,e){Jy(t,e);var n=_r(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nd(t,e.type,_r(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $p(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Nd(t,e,n){(e!=="number"||Cl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Js=Array.isArray;function Mi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_r(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Sd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(Js(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_r(n)}}function Zy(t,e){var n=_r(e.value),r=_r(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Wp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ev(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ev(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pa,tv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pa=Pa||document.createElement("div"),Pa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KE=["Webkit","ms","Moz","O"];Object.keys(io).forEach(function(t){KE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),io[e]=io[t]})});function nv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||io.hasOwnProperty(t)&&io[t]?(""+e).trim():e+"px"}function rv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=nv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var GE=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kd(t,e){if(e){if(GE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Ad(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rd=null;function Xh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pd=null,Li=null,Vi=null;function Hp(t){if(t=Yo(t)){if(typeof Pd!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Cc(e),Pd(t.stateNode,t.type,e))}}function iv(t){Li?Vi?Vi.push(t):Vi=[t]:Li=t}function sv(){if(Li){var t=Li,e=Vi;if(Vi=Li=null,Hp(t),e)for(t=0;t<e.length;t++)Hp(e[t])}}function ov(t,e){return t(e)}function av(){}var ju=!1;function lv(t,e,n){if(ju)return t(e,n);ju=!0;try{return ov(t,e,n)}finally{ju=!1,(Li!==null||Vi!==null)&&(av(),sv())}}function _o(t,e){var n=t.stateNode;if(n===null)return null;var r=Cc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var jd=!1;if(kn)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){jd=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{jd=!1}function QE(t,e,n,r,i,s,o,c,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var so=!1,kl=null,Al=!1,Dd=null,YE={onError:function(t){so=!0,kl=t}};function XE(t,e,n,r,i,s,o,c,u){so=!1,kl=null,QE.apply(YE,arguments)}function JE(t,e,n,r,i,s,o,c,u){if(XE.apply(this,arguments),so){if(so){var d=kl;so=!1,kl=null}else throw Error(F(198));Al||(Al=!0,Dd=d)}}function oi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qp(t){if(oi(t)!==t)throw Error(F(188))}function ZE(t){var e=t.alternate;if(!e){if(e=oi(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return qp(i),t;if(s===r)return qp(i),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function uv(t){return t=ZE(t),t!==null?dv(t):null}function dv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dv(t);if(e!==null)return e;t=t.sibling}return null}var hv=Tt.unstable_scheduleCallback,Kp=Tt.unstable_cancelCallback,eb=Tt.unstable_shouldYield,tb=Tt.unstable_requestPaint,Ae=Tt.unstable_now,nb=Tt.unstable_getCurrentPriorityLevel,Jh=Tt.unstable_ImmediatePriority,fv=Tt.unstable_UserBlockingPriority,Rl=Tt.unstable_NormalPriority,rb=Tt.unstable_LowPriority,mv=Tt.unstable_IdlePriority,Tc=null,nn=null;function ib(t){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Tc,t,void 0,(t.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:ab,sb=Math.log,ob=Math.LN2;function ab(t){return t>>>=0,t===0?32:31-(sb(t)/ob|0)|0}var ja=64,Da=4194304;function Zs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var c=o&~i;c!==0?r=Zs(c):(s&=o,s!==0&&(r=Zs(s)))}else o=n&~i,o!==0?r=Zs(o):s!==0&&(r=Zs(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wt(e),i=1<<n,r|=t[n],e&=~i;return r}function lb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Wt(s),c=1<<o,u=i[o];u===-1?(!(c&n)||c&r)&&(i[o]=lb(c,e)):u<=e&&(t.expiredLanes|=c),s&=~c}}function Od(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pv(){var t=ja;return ja<<=1,!(ja&4194240)&&(ja=64),t}function Du(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Go(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wt(e),t[e]=n}function ub(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Wt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Zh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ce=0;function gv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yv,ef,vv,xv,wv,Md=!1,Oa=[],ar=null,lr=null,cr=null,Eo=new Map,bo=new Map,Xn=[],db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gp(t,e){switch(t){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Eo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(e.pointerId)}}function Us(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Yo(e),e!==null&&ef(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hb(t,e,n,r,i){switch(e){case"focusin":return ar=Us(ar,t,e,n,r,i),!0;case"dragenter":return lr=Us(lr,t,e,n,r,i),!0;case"mouseover":return cr=Us(cr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Eo.set(s,Us(Eo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,bo.set(s,Us(bo.get(s)||null,t,e,n,r,i)),!0}return!1}function _v(t){var e=zr(t.target);if(e!==null){var n=oi(e);if(n!==null){if(e=n.tag,e===13){if(e=cv(n),e!==null){t.blockedOn=e,wv(t.priority,function(){vv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function il(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ld(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rd=r,n.target.dispatchEvent(r),Rd=null}else return e=Yo(n),e!==null&&ef(e),t.blockedOn=n,!1;e.shift()}return!0}function Qp(t,e,n){il(t)&&n.delete(e)}function fb(){Md=!1,ar!==null&&il(ar)&&(ar=null),lr!==null&&il(lr)&&(lr=null),cr!==null&&il(cr)&&(cr=null),Eo.forEach(Qp),bo.forEach(Qp)}function zs(t,e){t.blockedOn===e&&(t.blockedOn=null,Md||(Md=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,fb)))}function To(t){function e(i){return zs(i,t)}if(0<Oa.length){zs(Oa[0],t);for(var n=1;n<Oa.length;n++){var r=Oa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ar!==null&&zs(ar,t),lr!==null&&zs(lr,t),cr!==null&&zs(cr,t),Eo.forEach(e),bo.forEach(e),n=0;n<Xn.length;n++)r=Xn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xn.length&&(n=Xn[0],n.blockedOn===null);)_v(n),n.blockedOn===null&&Xn.shift()}var Fi=Fn.ReactCurrentBatchConfig,jl=!0;function mb(t,e,n,r){var i=ce,s=Fi.transition;Fi.transition=null;try{ce=1,tf(t,e,n,r)}finally{ce=i,Fi.transition=s}}function pb(t,e,n,r){var i=ce,s=Fi.transition;Fi.transition=null;try{ce=4,tf(t,e,n,r)}finally{ce=i,Fi.transition=s}}function tf(t,e,n,r){if(jl){var i=Ld(t,e,n,r);if(i===null)Wu(t,e,r,Dl,n),Gp(t,r);else if(hb(i,t,e,n,r))r.stopPropagation();else if(Gp(t,r),e&4&&-1<db.indexOf(t)){for(;i!==null;){var s=Yo(i);if(s!==null&&yv(s),s=Ld(t,e,n,r),s===null&&Wu(t,e,r,Dl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Wu(t,e,r,null,n)}}var Dl=null;function Ld(t,e,n,r){if(Dl=null,t=Xh(r),t=zr(t),t!==null)if(e=oi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=cv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Dl=t,null}function Ev(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nb()){case Jh:return 1;case fv:return 4;case Rl:case rb:return 16;case mv:return 536870912;default:return 16}default:return 16}}var ir=null,nf=null,sl=null;function bv(){if(sl)return sl;var t,e=nf,n=e.length,r,i="value"in ir?ir.value:ir.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return sl=i.slice(t,1<r?1-r:void 0)}function ol(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ma(){return!0}function Yp(){return!1}function Nt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ma:Yp,this.isPropagationStopped=Yp,this}return Te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ma)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ma)},persist:function(){},isPersistent:Ma}),e}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rf=Nt(ds),Qo=Te({},ds,{view:0,detail:0}),gb=Nt(Qo),Ou,Mu,$s,Ic=Te({},Qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$s&&($s&&t.type==="mousemove"?(Ou=t.screenX-$s.screenX,Mu=t.screenY-$s.screenY):Mu=Ou=0,$s=t),Ou)},movementY:function(t){return"movementY"in t?t.movementY:Mu}}),Xp=Nt(Ic),yb=Te({},Ic,{dataTransfer:0}),vb=Nt(yb),xb=Te({},Qo,{relatedTarget:0}),Lu=Nt(xb),wb=Te({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),_b=Nt(wb),Eb=Te({},ds,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bb=Nt(Eb),Tb=Te({},ds,{data:0}),Jp=Nt(Tb),Ib={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Sb[t])?!!e[t]:!1}function sf(){return Cb}var kb=Te({},Qo,{key:function(t){if(t.key){var e=Ib[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ol(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sf,charCode:function(t){return t.type==="keypress"?ol(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ol(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ab=Nt(kb),Rb=Te({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zp=Nt(Rb),Pb=Te({},Qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sf}),jb=Nt(Pb),Db=Te({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ob=Nt(Db),Mb=Te({},Ic,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lb=Nt(Mb),Vb=[9,13,27,32],of=kn&&"CompositionEvent"in window,oo=null;kn&&"documentMode"in document&&(oo=document.documentMode);var Fb=kn&&"TextEvent"in window&&!oo,Tv=kn&&(!of||oo&&8<oo&&11>=oo),eg=" ",tg=!1;function Iv(t,e){switch(t){case"keyup":return Vb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ii=!1;function Ub(t,e){switch(t){case"compositionend":return Nv(e);case"keypress":return e.which!==32?null:(tg=!0,eg);case"textInput":return t=e.data,t===eg&&tg?null:t;default:return null}}function zb(t,e){if(Ii)return t==="compositionend"||!of&&Iv(t,e)?(t=bv(),sl=nf=ir=null,Ii=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tv&&e.locale!=="ko"?null:e.data;default:return null}}var $b={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ng(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$b[t.type]:e==="textarea"}function Sv(t,e,n,r){iv(r),e=Ol(e,"onChange"),0<e.length&&(n=new rf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ao=null,Io=null;function Bb(t){Vv(t,0)}function Nc(t){var e=Ci(t);if(Xy(e))return t}function Wb(t,e){if(t==="change")return e}var Cv=!1;if(kn){var Vu;if(kn){var Fu="oninput"in document;if(!Fu){var rg=document.createElement("div");rg.setAttribute("oninput","return;"),Fu=typeof rg.oninput=="function"}Vu=Fu}else Vu=!1;Cv=Vu&&(!document.documentMode||9<document.documentMode)}function ig(){ao&&(ao.detachEvent("onpropertychange",kv),Io=ao=null)}function kv(t){if(t.propertyName==="value"&&Nc(Io)){var e=[];Sv(e,Io,t,Xh(t)),lv(Bb,e)}}function Hb(t,e,n){t==="focusin"?(ig(),ao=e,Io=n,ao.attachEvent("onpropertychange",kv)):t==="focusout"&&ig()}function qb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nc(Io)}function Kb(t,e){if(t==="click")return Nc(e)}function Gb(t,e){if(t==="input"||t==="change")return Nc(e)}function Qb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qt=typeof Object.is=="function"?Object.is:Qb;function No(t,e){if(qt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xd.call(e,i)||!qt(t[i],e[i]))return!1}return!0}function sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function og(t,e){var n=sg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sg(n)}}function Av(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Av(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Rv(){for(var t=window,e=Cl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cl(t.document)}return e}function af(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Yb(t){var e=Rv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Av(n.ownerDocument.documentElement,n)){if(r!==null&&af(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=og(n,s);var o=og(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Xb=kn&&"documentMode"in document&&11>=document.documentMode,Ni=null,Vd=null,lo=null,Fd=!1;function ag(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fd||Ni==null||Ni!==Cl(r)||(r=Ni,"selectionStart"in r&&af(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lo&&No(lo,r)||(lo=r,r=Ol(Vd,"onSelect"),0<r.length&&(e=new rf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ni)))}function La(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Si={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionend:La("Transition","TransitionEnd")},Uu={},Pv={};kn&&(Pv=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function Sc(t){if(Uu[t])return Uu[t];if(!Si[t])return t;var e=Si[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Pv)return Uu[t]=e[n];return t}var jv=Sc("animationend"),Dv=Sc("animationiteration"),Ov=Sc("animationstart"),Mv=Sc("transitionend"),Lv=new Map,lg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,e){Lv.set(t,e),si(e,[t])}for(var zu=0;zu<lg.length;zu++){var $u=lg[zu],Jb=$u.toLowerCase(),Zb=$u[0].toUpperCase()+$u.slice(1);Ar(Jb,"on"+Zb)}Ar(jv,"onAnimationEnd");Ar(Dv,"onAnimationIteration");Ar(Ov,"onAnimationStart");Ar("dblclick","onDoubleClick");Ar("focusin","onFocus");Ar("focusout","onBlur");Ar(Mv,"onTransitionEnd");Gi("onMouseEnter",["mouseout","mouseover"]);Gi("onMouseLeave",["mouseout","mouseover"]);Gi("onPointerEnter",["pointerout","pointerover"]);Gi("onPointerLeave",["pointerout","pointerover"]);si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));si("onBeforeInput",["compositionend","keypress","textInput","paste"]);si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e2=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function cg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,JE(r,e,void 0,t),t.currentTarget=null}function Vv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var c=r[o],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==s&&i.isPropagationStopped())break e;cg(i,c,d),s=u}else for(o=0;o<r.length;o++){if(c=r[o],u=c.instance,d=c.currentTarget,c=c.listener,u!==s&&i.isPropagationStopped())break e;cg(i,c,d),s=u}}}if(Al)throw t=Dd,Al=!1,Dd=null,t}function pe(t,e){var n=e[Wd];n===void 0&&(n=e[Wd]=new Set);var r=t+"__bubble";n.has(r)||(Fv(e,t,2,!1),n.add(r))}function Bu(t,e,n){var r=0;e&&(r|=4),Fv(n,t,r,e)}var Va="_reactListening"+Math.random().toString(36).slice(2);function So(t){if(!t[Va]){t[Va]=!0,qy.forEach(function(n){n!=="selectionchange"&&(e2.has(n)||Bu(n,!1,t),Bu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Va]||(e[Va]=!0,Bu("selectionchange",!1,e))}}function Fv(t,e,n,r){switch(Ev(e)){case 1:var i=mb;break;case 4:i=pb;break;default:i=tf}n=i.bind(null,e,n,t),i=void 0,!jd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Wu(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;c!==null;){if(o=zr(c),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}c=c.parentNode}}r=r.return}lv(function(){var d=s,f=Xh(n),p=[];e:{var g=Lv.get(t);if(g!==void 0){var T=rf,C=t;switch(t){case"keypress":if(ol(n)===0)break e;case"keydown":case"keyup":T=Ab;break;case"focusin":C="focus",T=Lu;break;case"focusout":C="blur",T=Lu;break;case"beforeblur":case"afterblur":T=Lu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=Xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=vb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=jb;break;case jv:case Dv:case Ov:T=_b;break;case Mv:T=Ob;break;case"scroll":T=gb;break;case"wheel":T=Lb;break;case"copy":case"cut":case"paste":T=bb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=Zp}var A=(e&4)!==0,P=!A&&t==="scroll",_=A?g!==null?g+"Capture":null:g;A=[];for(var x=d,b;x!==null;){b=x;var D=b.stateNode;if(b.tag===5&&D!==null&&(b=D,_!==null&&(D=_o(x,_),D!=null&&A.push(Co(x,D,b)))),P)break;x=x.return}0<A.length&&(g=new T(g,C,null,n,f),p.push({event:g,listeners:A}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",g&&n!==Rd&&(C=n.relatedTarget||n.fromElement)&&(zr(C)||C[An]))break e;if((T||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,T?(C=n.relatedTarget||n.toElement,T=d,C=C?zr(C):null,C!==null&&(P=oi(C),C!==P||C.tag!==5&&C.tag!==6)&&(C=null)):(T=null,C=d),T!==C)){if(A=Xp,D="onMouseLeave",_="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(A=Zp,D="onPointerLeave",_="onPointerEnter",x="pointer"),P=T==null?g:Ci(T),b=C==null?g:Ci(C),g=new A(D,x+"leave",T,n,f),g.target=P,g.relatedTarget=b,D=null,zr(f)===d&&(A=new A(_,x+"enter",C,n,f),A.target=b,A.relatedTarget=P,D=A),P=D,T&&C)t:{for(A=T,_=C,x=0,b=A;b;b=pi(b))x++;for(b=0,D=_;D;D=pi(D))b++;for(;0<x-b;)A=pi(A),x--;for(;0<b-x;)_=pi(_),b--;for(;x--;){if(A===_||_!==null&&A===_.alternate)break t;A=pi(A),_=pi(_)}A=null}else A=null;T!==null&&ug(p,g,T,A,!1),C!==null&&P!==null&&ug(p,P,C,A,!0)}}e:{if(g=d?Ci(d):window,T=g.nodeName&&g.nodeName.toLowerCase(),T==="select"||T==="input"&&g.type==="file")var V=Wb;else if(ng(g))if(Cv)V=Gb;else{V=qb;var U=Hb}else(T=g.nodeName)&&T.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(V=Kb);if(V&&(V=V(t,d))){Sv(p,V,n,f);break e}U&&U(t,g,d),t==="focusout"&&(U=g._wrapperState)&&U.controlled&&g.type==="number"&&Nd(g,"number",g.value)}switch(U=d?Ci(d):window,t){case"focusin":(ng(U)||U.contentEditable==="true")&&(Ni=U,Vd=d,lo=null);break;case"focusout":lo=Vd=Ni=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,ag(p,n,f);break;case"selectionchange":if(Xb)break;case"keydown":case"keyup":ag(p,n,f)}var I;if(of)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ii?Iv(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Tv&&n.locale!=="ko"&&(Ii||v!=="onCompositionStart"?v==="onCompositionEnd"&&Ii&&(I=bv()):(ir=f,nf="value"in ir?ir.value:ir.textContent,Ii=!0)),U=Ol(d,v),0<U.length&&(v=new Jp(v,t,null,n,f),p.push({event:v,listeners:U}),I?v.data=I:(I=Nv(n),I!==null&&(v.data=I)))),(I=Fb?Ub(t,n):zb(t,n))&&(d=Ol(d,"onBeforeInput"),0<d.length&&(f=new Jp("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:d}),f.data=I))}Vv(p,e)})}function Co(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ol(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_o(t,n),s!=null&&r.unshift(Co(t,s,i)),s=_o(t,e),s!=null&&r.push(Co(t,s,i))),t=t.return}return r}function pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ug(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var c=n,u=c.alternate,d=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&d!==null&&(c=d,i?(u=_o(n,s),u!=null&&o.unshift(Co(n,u,c))):i||(u=_o(n,s),u!=null&&o.push(Co(n,u,c)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var t2=/\r\n?/g,n2=/\u0000|\uFFFD/g;function dg(t){return(typeof t=="string"?t:""+t).replace(t2,`
`).replace(n2,"")}function Fa(t,e,n){if(e=dg(e),dg(t)!==e&&n)throw Error(F(425))}function Ml(){}var Ud=null,zd=null;function $d(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bd=typeof setTimeout=="function"?setTimeout:void 0,r2=typeof clearTimeout=="function"?clearTimeout:void 0,hg=typeof Promise=="function"?Promise:void 0,i2=typeof queueMicrotask=="function"?queueMicrotask:typeof hg<"u"?function(t){return hg.resolve(null).then(t).catch(s2)}:Bd;function s2(t){setTimeout(function(){throw t})}function Hu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),To(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);To(e)}function ur(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hs=Math.random().toString(36).slice(2),en="__reactFiber$"+hs,ko="__reactProps$"+hs,An="__reactContainer$"+hs,Wd="__reactEvents$"+hs,o2="__reactListeners$"+hs,a2="__reactHandles$"+hs;function zr(t){var e=t[en];if(e)return e;for(var n=t.parentNode;n;){if(e=n[An]||n[en]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fg(t);t!==null;){if(n=t[en])return n;t=fg(t)}return e}t=n,n=t.parentNode}return null}function Yo(t){return t=t[en]||t[An],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ci(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Cc(t){return t[ko]||null}var Hd=[],ki=-1;function Rr(t){return{current:t}}function ye(t){0>ki||(t.current=Hd[ki],Hd[ki]=null,ki--)}function he(t,e){ki++,Hd[ki]=t.current,t.current=e}var Er={},st=Rr(Er),yt=Rr(!1),Qr=Er;function Qi(t,e){var n=t.type.contextTypes;if(!n)return Er;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vt(t){return t=t.childContextTypes,t!=null}function Ll(){ye(yt),ye(st)}function mg(t,e,n){if(st.current!==Er)throw Error(F(168));he(st,e),he(yt,n)}function Uv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,HE(t)||"Unknown",i));return Te({},n,r)}function Vl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Er,Qr=st.current,he(st,t),he(yt,yt.current),!0}function pg(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=Uv(t,e,Qr),r.__reactInternalMemoizedMergedChildContext=t,ye(yt),ye(st),he(st,t)):ye(yt),he(yt,n)}var wn=null,kc=!1,qu=!1;function zv(t){wn===null?wn=[t]:wn.push(t)}function l2(t){kc=!0,zv(t)}function Pr(){if(!qu&&wn!==null){qu=!0;var t=0,e=ce;try{var n=wn;for(ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wn=null,kc=!1}catch(i){throw wn!==null&&(wn=wn.slice(t+1)),hv(Jh,Pr),i}finally{ce=e,qu=!1}}return null}var Ai=[],Ri=0,Fl=null,Ul=0,Ct=[],kt=0,Yr=null,_n=1,En="";function Lr(t,e){Ai[Ri++]=Ul,Ai[Ri++]=Fl,Fl=t,Ul=e}function $v(t,e,n){Ct[kt++]=_n,Ct[kt++]=En,Ct[kt++]=Yr,Yr=t;var r=_n;t=En;var i=32-Wt(r)-1;r&=~(1<<i),n+=1;var s=32-Wt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_n=1<<32-Wt(e)+i|n<<i|r,En=s+t}else _n=1<<s|n<<i|r,En=t}function lf(t){t.return!==null&&(Lr(t,1),$v(t,1,0))}function cf(t){for(;t===Fl;)Fl=Ai[--Ri],Ai[Ri]=null,Ul=Ai[--Ri],Ai[Ri]=null;for(;t===Yr;)Yr=Ct[--kt],Ct[kt]=null,En=Ct[--kt],Ct[kt]=null,_n=Ct[--kt],Ct[kt]=null}var bt=null,Et=null,xe=!1,zt=null;function Bv(t,e){var n=Rt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function gg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bt=t,Et=ur(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bt=t,Et=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yr!==null?{id:_n,overflow:En}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bt=t,Et=null,!0):!1;default:return!1}}function qd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kd(t){if(xe){var e=Et;if(e){var n=e;if(!gg(t,e)){if(qd(t))throw Error(F(418));e=ur(n.nextSibling);var r=bt;e&&gg(t,e)?Bv(r,n):(t.flags=t.flags&-4097|2,xe=!1,bt=t)}}else{if(qd(t))throw Error(F(418));t.flags=t.flags&-4097|2,xe=!1,bt=t}}}function yg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bt=t}function Ua(t){if(t!==bt)return!1;if(!xe)return yg(t),xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$d(t.type,t.memoizedProps)),e&&(e=Et)){if(qd(t))throw Wv(),Error(F(418));for(;e;)Bv(t,e),e=ur(e.nextSibling)}if(yg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Et=ur(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Et=null}}else Et=bt?ur(t.stateNode.nextSibling):null;return!0}function Wv(){for(var t=Et;t;)t=ur(t.nextSibling)}function Yi(){Et=bt=null,xe=!1}function uf(t){zt===null?zt=[t]:zt.push(t)}var c2=Fn.ReactCurrentBatchConfig;function Bs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var c=i.refs;o===null?delete c[s]:c[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function za(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vg(t){var e=t._init;return e(t._payload)}function Hv(t){function e(_,x){if(t){var b=_.deletions;b===null?(_.deletions=[x],_.flags|=16):b.push(x)}}function n(_,x){if(!t)return null;for(;x!==null;)e(_,x),x=x.sibling;return null}function r(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function i(_,x){return _=mr(_,x),_.index=0,_.sibling=null,_}function s(_,x,b){return _.index=b,t?(b=_.alternate,b!==null?(b=b.index,b<x?(_.flags|=2,x):b):(_.flags|=2,x)):(_.flags|=1048576,x)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function c(_,x,b,D){return x===null||x.tag!==6?(x=Zu(b,_.mode,D),x.return=_,x):(x=i(x,b),x.return=_,x)}function u(_,x,b,D){var V=b.type;return V===Ti?f(_,x,b.props.children,D,b.key):x!==null&&(x.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Qn&&vg(V)===x.type)?(D=i(x,b.props),D.ref=Bs(_,x,b),D.return=_,D):(D=fl(b.type,b.key,b.props,null,_.mode,D),D.ref=Bs(_,x,b),D.return=_,D)}function d(_,x,b,D){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=ed(b,_.mode,D),x.return=_,x):(x=i(x,b.children||[]),x.return=_,x)}function f(_,x,b,D,V){return x===null||x.tag!==7?(x=Kr(b,_.mode,D,V),x.return=_,x):(x=i(x,b),x.return=_,x)}function p(_,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Zu(""+x,_.mode,b),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Aa:return b=fl(x.type,x.key,x.props,null,_.mode,b),b.ref=Bs(_,null,x),b.return=_,b;case bi:return x=ed(x,_.mode,b),x.return=_,x;case Qn:var D=x._init;return p(_,D(x._payload),b)}if(Js(x)||Vs(x))return x=Kr(x,_.mode,b,null),x.return=_,x;za(_,x)}return null}function g(_,x,b,D){var V=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return V!==null?null:c(_,x,""+b,D);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Aa:return b.key===V?u(_,x,b,D):null;case bi:return b.key===V?d(_,x,b,D):null;case Qn:return V=b._init,g(_,x,V(b._payload),D)}if(Js(b)||Vs(b))return V!==null?null:f(_,x,b,D,null);za(_,b)}return null}function T(_,x,b,D,V){if(typeof D=="string"&&D!==""||typeof D=="number")return _=_.get(b)||null,c(x,_,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Aa:return _=_.get(D.key===null?b:D.key)||null,u(x,_,D,V);case bi:return _=_.get(D.key===null?b:D.key)||null,d(x,_,D,V);case Qn:var U=D._init;return T(_,x,b,U(D._payload),V)}if(Js(D)||Vs(D))return _=_.get(b)||null,f(x,_,D,V,null);za(x,D)}return null}function C(_,x,b,D){for(var V=null,U=null,I=x,v=x=0,E=null;I!==null&&v<b.length;v++){I.index>v?(E=I,I=null):E=I.sibling;var w=g(_,I,b[v],D);if(w===null){I===null&&(I=E);break}t&&I&&w.alternate===null&&e(_,I),x=s(w,x,v),U===null?V=w:U.sibling=w,U=w,I=E}if(v===b.length)return n(_,I),xe&&Lr(_,v),V;if(I===null){for(;v<b.length;v++)I=p(_,b[v],D),I!==null&&(x=s(I,x,v),U===null?V=I:U.sibling=I,U=I);return xe&&Lr(_,v),V}for(I=r(_,I);v<b.length;v++)E=T(I,_,v,b[v],D),E!==null&&(t&&E.alternate!==null&&I.delete(E.key===null?v:E.key),x=s(E,x,v),U===null?V=E:U.sibling=E,U=E);return t&&I.forEach(function(S){return e(_,S)}),xe&&Lr(_,v),V}function A(_,x,b,D){var V=Vs(b);if(typeof V!="function")throw Error(F(150));if(b=V.call(b),b==null)throw Error(F(151));for(var U=V=null,I=x,v=x=0,E=null,w=b.next();I!==null&&!w.done;v++,w=b.next()){I.index>v?(E=I,I=null):E=I.sibling;var S=g(_,I,w.value,D);if(S===null){I===null&&(I=E);break}t&&I&&S.alternate===null&&e(_,I),x=s(S,x,v),U===null?V=S:U.sibling=S,U=S,I=E}if(w.done)return n(_,I),xe&&Lr(_,v),V;if(I===null){for(;!w.done;v++,w=b.next())w=p(_,w.value,D),w!==null&&(x=s(w,x,v),U===null?V=w:U.sibling=w,U=w);return xe&&Lr(_,v),V}for(I=r(_,I);!w.done;v++,w=b.next())w=T(I,_,v,w.value,D),w!==null&&(t&&w.alternate!==null&&I.delete(w.key===null?v:w.key),x=s(w,x,v),U===null?V=w:U.sibling=w,U=w);return t&&I.forEach(function(k){return e(_,k)}),xe&&Lr(_,v),V}function P(_,x,b,D){if(typeof b=="object"&&b!==null&&b.type===Ti&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Aa:e:{for(var V=b.key,U=x;U!==null;){if(U.key===V){if(V=b.type,V===Ti){if(U.tag===7){n(_,U.sibling),x=i(U,b.props.children),x.return=_,_=x;break e}}else if(U.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Qn&&vg(V)===U.type){n(_,U.sibling),x=i(U,b.props),x.ref=Bs(_,U,b),x.return=_,_=x;break e}n(_,U);break}else e(_,U);U=U.sibling}b.type===Ti?(x=Kr(b.props.children,_.mode,D,b.key),x.return=_,_=x):(D=fl(b.type,b.key,b.props,null,_.mode,D),D.ref=Bs(_,x,b),D.return=_,_=D)}return o(_);case bi:e:{for(U=b.key;x!==null;){if(x.key===U)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(_,x.sibling),x=i(x,b.children||[]),x.return=_,_=x;break e}else{n(_,x);break}else e(_,x);x=x.sibling}x=ed(b,_.mode,D),x.return=_,_=x}return o(_);case Qn:return U=b._init,P(_,x,U(b._payload),D)}if(Js(b))return C(_,x,b,D);if(Vs(b))return A(_,x,b,D);za(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(_,x.sibling),x=i(x,b),x.return=_,_=x):(n(_,x),x=Zu(b,_.mode,D),x.return=_,_=x),o(_)):n(_,x)}return P}var Xi=Hv(!0),qv=Hv(!1),zl=Rr(null),$l=null,Pi=null,df=null;function hf(){df=Pi=$l=null}function ff(t){var e=zl.current;ye(zl),t._currentValue=e}function Gd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ui(t,e){$l=t,df=Pi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gt=!0),t.firstContext=null)}function Dt(t){var e=t._currentValue;if(df!==t)if(t={context:t,memoizedValue:e,next:null},Pi===null){if($l===null)throw Error(F(308));Pi=t,$l.dependencies={lanes:0,firstContext:t}}else Pi=Pi.next=t;return e}var $r=null;function mf(t){$r===null?$r=[t]:$r.push(t)}function Kv(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,mf(e)):(n.next=i.next,i.next=n),e.interleaved=n,Rn(t,r)}function Rn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yn=!1;function pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Nn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function dr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Rn(t,n)}return i=r.interleaved,i===null?(e.next=e,mf(r)):(e.next=i.next,i.next=e),r.interleaved=e,Rn(t,n)}function al(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zh(t,n)}}function xg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bl(t,e,n,r){var i=t.updateQueue;Yn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var u=c,d=u.next;u.next=null,o===null?s=d:o.next=d,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==o&&(c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,f=d=u=null,c=s;do{var g=c.lane,T=c.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:T,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var C=t,A=c;switch(g=e,T=n,A.tag){case 1:if(C=A.payload,typeof C=="function"){p=C.call(T,p,g);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=A.payload,g=typeof C=="function"?C.call(T,p,g):C,g==null)break e;p=Te({},p,g);break e;case 2:Yn=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[c]:g.push(c))}else T={eventTime:T,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(d=f=T,u=p):f=f.next=T,o|=g;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;g=c,c=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(u=p),i.baseState=u,i.firstBaseUpdate=d,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Jr|=o,t.lanes=o,t.memoizedState=p}}function wg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var Xo={},rn=Rr(Xo),Ao=Rr(Xo),Ro=Rr(Xo);function Br(t){if(t===Xo)throw Error(F(174));return t}function gf(t,e){switch(he(Ro,e),he(Ao,t),he(rn,Xo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Cd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Cd(e,t)}ye(rn),he(rn,e)}function Ji(){ye(rn),ye(Ao),ye(Ro)}function Qv(t){Br(Ro.current);var e=Br(rn.current),n=Cd(e,t.type);e!==n&&(he(Ao,t),he(rn,n))}function yf(t){Ao.current===t&&(ye(rn),ye(Ao))}var Ee=Rr(0);function Wl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ku=[];function vf(){for(var t=0;t<Ku.length;t++)Ku[t]._workInProgressVersionPrimary=null;Ku.length=0}var ll=Fn.ReactCurrentDispatcher,Gu=Fn.ReactCurrentBatchConfig,Xr=0,be=null,De=null,Fe=null,Hl=!1,co=!1,Po=0,u2=0;function Ze(){throw Error(F(321))}function xf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qt(t[n],e[n]))return!1;return!0}function wf(t,e,n,r,i,s){if(Xr=s,be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ll.current=t===null||t.memoizedState===null?m2:p2,t=n(r,i),co){s=0;do{if(co=!1,Po=0,25<=s)throw Error(F(301));s+=1,Fe=De=null,e.updateQueue=null,ll.current=g2,t=n(r,i)}while(co)}if(ll.current=ql,e=De!==null&&De.next!==null,Xr=0,Fe=De=be=null,Hl=!1,e)throw Error(F(300));return t}function _f(){var t=Po!==0;return Po=0,t}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?be.memoizedState=Fe=t:Fe=Fe.next=t,Fe}function Ot(){if(De===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var e=Fe===null?be.memoizedState:Fe.next;if(e!==null)Fe=e,De=t;else{if(t===null)throw Error(F(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Fe===null?be.memoizedState=Fe=t:Fe=Fe.next=t}return Fe}function jo(t,e){return typeof e=="function"?e(t):e}function Qu(t){var e=Ot(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=De,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var c=o=null,u=null,d=s;do{var f=d.lane;if((Xr&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=p,o=r):u=u.next=p,be.lanes|=f,Jr|=f}d=d.next}while(d!==null&&d!==s);u===null?o=r:u.next=c,qt(r,e.memoizedState)||(gt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,be.lanes|=s,Jr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yu(t){var e=Ot(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);qt(s,e.memoizedState)||(gt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Yv(){}function Xv(t,e){var n=be,r=Ot(),i=e(),s=!qt(r.memoizedState,i);if(s&&(r.memoizedState=i,gt=!0),r=r.queue,Ef(ex.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,Do(9,Zv.bind(null,n,r,i,e),void 0,null),Ue===null)throw Error(F(349));Xr&30||Jv(n,e,i)}return i}function Jv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Zv(t,e,n,r){e.value=n,e.getSnapshot=r,tx(e)&&nx(t)}function ex(t,e,n){return n(function(){tx(e)&&nx(t)})}function tx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qt(t,n)}catch{return!0}}function nx(t){var e=Rn(t,1);e!==null&&Ht(e,t,1,-1)}function _g(t){var e=Jt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:t},e.queue=t,t=t.dispatch=f2.bind(null,be,t),[e.memoizedState,t]}function Do(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function rx(){return Ot().memoizedState}function cl(t,e,n,r){var i=Jt();be.flags|=t,i.memoizedState=Do(1|e,n,void 0,r===void 0?null:r)}function Ac(t,e,n,r){var i=Ot();r=r===void 0?null:r;var s=void 0;if(De!==null){var o=De.memoizedState;if(s=o.destroy,r!==null&&xf(r,o.deps)){i.memoizedState=Do(e,n,s,r);return}}be.flags|=t,i.memoizedState=Do(1|e,n,s,r)}function Eg(t,e){return cl(8390656,8,t,e)}function Ef(t,e){return Ac(2048,8,t,e)}function ix(t,e){return Ac(4,2,t,e)}function sx(t,e){return Ac(4,4,t,e)}function ox(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ax(t,e,n){return n=n!=null?n.concat([t]):null,Ac(4,4,ox.bind(null,e,t),n)}function bf(){}function lx(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function cx(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ux(t,e,n){return Xr&21?(qt(n,e)||(n=pv(),be.lanes|=n,Jr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gt=!0),t.memoizedState=n)}function d2(t,e){var n=ce;ce=n!==0&&4>n?n:4,t(!0);var r=Gu.transition;Gu.transition={};try{t(!1),e()}finally{ce=n,Gu.transition=r}}function dx(){return Ot().memoizedState}function h2(t,e,n){var r=fr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hx(t))fx(e,n);else if(n=Kv(t,e,n,r),n!==null){var i=ut();Ht(n,t,r,i),mx(n,e,r)}}function f2(t,e,n){var r=fr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hx(t))fx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,c=s(o,n);if(i.hasEagerState=!0,i.eagerState=c,qt(c,o)){var u=e.interleaved;u===null?(i.next=i,mf(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Kv(t,e,i,r),n!==null&&(i=ut(),Ht(n,t,r,i),mx(n,e,r))}}function hx(t){var e=t.alternate;return t===be||e!==null&&e===be}function fx(t,e){co=Hl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zh(t,n)}}var ql={readContext:Dt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},m2={readContext:Dt,useCallback:function(t,e){return Jt().memoizedState=[t,e===void 0?null:e],t},useContext:Dt,useEffect:Eg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cl(4194308,4,ox.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cl(4194308,4,t,e)},useInsertionEffect:function(t,e){return cl(4,2,t,e)},useMemo:function(t,e){var n=Jt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=h2.bind(null,be,t),[r.memoizedState,t]},useRef:function(t){var e=Jt();return t={current:t},e.memoizedState=t},useState:_g,useDebugValue:bf,useDeferredValue:function(t){return Jt().memoizedState=t},useTransition:function(){var t=_g(!1),e=t[0];return t=d2.bind(null,t[1]),Jt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=be,i=Jt();if(xe){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),Ue===null)throw Error(F(349));Xr&30||Jv(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Eg(ex.bind(null,r,s,t),[t]),r.flags|=2048,Do(9,Zv.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Jt(),e=Ue.identifierPrefix;if(xe){var n=En,r=_n;n=(r&~(1<<32-Wt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Po++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=u2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},p2={readContext:Dt,useCallback:lx,useContext:Dt,useEffect:Ef,useImperativeHandle:ax,useInsertionEffect:ix,useLayoutEffect:sx,useMemo:cx,useReducer:Qu,useRef:rx,useState:function(){return Qu(jo)},useDebugValue:bf,useDeferredValue:function(t){var e=Ot();return ux(e,De.memoizedState,t)},useTransition:function(){var t=Qu(jo)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:Yv,useSyncExternalStore:Xv,useId:dx,unstable_isNewReconciler:!1},g2={readContext:Dt,useCallback:lx,useContext:Dt,useEffect:Ef,useImperativeHandle:ax,useInsertionEffect:ix,useLayoutEffect:sx,useMemo:cx,useReducer:Yu,useRef:rx,useState:function(){return Yu(jo)},useDebugValue:bf,useDeferredValue:function(t){var e=Ot();return De===null?e.memoizedState=t:ux(e,De.memoizedState,t)},useTransition:function(){var t=Yu(jo)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:Yv,useSyncExternalStore:Xv,useId:dx,unstable_isNewReconciler:!1};function Ft(t,e){if(t&&t.defaultProps){e=Te({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Qd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rc={isMounted:function(t){return(t=t._reactInternals)?oi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ut(),i=fr(t),s=Nn(r,i);s.payload=e,n!=null&&(s.callback=n),e=dr(t,s,i),e!==null&&(Ht(e,t,i,r),al(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ut(),i=fr(t),s=Nn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=dr(t,s,i),e!==null&&(Ht(e,t,i,r),al(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ut(),r=fr(t),i=Nn(n,r);i.tag=2,e!=null&&(i.callback=e),e=dr(t,i,r),e!==null&&(Ht(e,t,r,n),al(e,t,r))}};function bg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!No(n,r)||!No(i,s):!0}function px(t,e,n){var r=!1,i=Er,s=e.contextType;return typeof s=="object"&&s!==null?s=Dt(s):(i=vt(e)?Qr:st.current,r=e.contextTypes,s=(r=r!=null)?Qi(t,i):Er),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Tg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rc.enqueueReplaceState(e,e.state,null)}function Yd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},pf(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Dt(s):(s=vt(e)?Qr:st.current,i.context=Qi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Qd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Rc.enqueueReplaceState(i,i.state,null),Bl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Zi(t,e){try{var n="",r=e;do n+=WE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Xu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var y2=typeof WeakMap=="function"?WeakMap:Map;function gx(t,e,n){n=Nn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gl||(Gl=!0,ah=r),Xd(t,e)},n}function yx(t,e,n){n=Nn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Xd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Xd(t,e),typeof r!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ig(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new y2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=R2.bind(null,t,e,n),e.then(t,t))}function Ng(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Nn(-1,1),e.tag=2,dr(n,e,1))),n.lanes|=1),t)}var v2=Fn.ReactCurrentOwner,gt=!1;function ct(t,e,n,r){e.child=t===null?qv(e,null,n,r):Xi(e,t.child,n,r)}function Cg(t,e,n,r,i){n=n.render;var s=e.ref;return Ui(e,i),r=wf(t,e,n,r,s,i),n=_f(),t!==null&&!gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pn(t,e,i)):(xe&&n&&lf(e),e.flags|=1,ct(t,e,r,i),e.child)}function kg(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Rf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,vx(t,e,s,r,i)):(t=fl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:No,n(o,r)&&t.ref===e.ref)return Pn(t,e,i)}return e.flags|=1,t=mr(s,r),t.ref=e.ref,t.return=e,e.child=t}function vx(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(No(s,r)&&t.ref===e.ref)if(gt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(gt=!0);else return e.lanes=t.lanes,Pn(t,e,i)}return Jd(t,e,n,r,i)}function xx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Di,_t),_t|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,he(Di,_t),_t|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,he(Di,_t),_t|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,he(Di,_t),_t|=r;return ct(t,e,i,n),e.child}function wx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jd(t,e,n,r,i){var s=vt(n)?Qr:st.current;return s=Qi(e,s),Ui(e,i),n=wf(t,e,n,r,s,i),r=_f(),t!==null&&!gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pn(t,e,i)):(xe&&r&&lf(e),e.flags|=1,ct(t,e,n,i),e.child)}function Ag(t,e,n,r,i){if(vt(n)){var s=!0;Vl(e)}else s=!1;if(Ui(e,i),e.stateNode===null)ul(t,e),px(e,n,r),Yd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,c=e.memoizedProps;o.props=c;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Dt(d):(d=vt(n)?Qr:st.current,d=Qi(e,d));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||u!==d)&&Tg(e,o,r,d),Yn=!1;var g=e.memoizedState;o.state=g,Bl(e,r,o,i),u=e.memoizedState,c!==r||g!==u||yt.current||Yn?(typeof f=="function"&&(Qd(e,n,f,r),u=e.memoizedState),(c=Yn||bg(e,n,c,r,g,u,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=d,r=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Gv(t,e),c=e.memoizedProps,d=e.type===e.elementType?c:Ft(e.type,c),o.props=d,p=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Dt(u):(u=vt(n)?Qr:st.current,u=Qi(e,u));var T=n.getDerivedStateFromProps;(f=typeof T=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==p||g!==u)&&Tg(e,o,r,u),Yn=!1,g=e.memoizedState,o.state=g,Bl(e,r,o,i);var C=e.memoizedState;c!==p||g!==C||yt.current||Yn?(typeof T=="function"&&(Qd(e,n,T,r),C=e.memoizedState),(d=Yn||bg(e,n,d,r,g,C,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Zd(t,e,n,r,s,i)}function Zd(t,e,n,r,i,s){wx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&pg(e,n,!1),Pn(t,e,s);r=e.stateNode,v2.current=e;var c=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xi(e,t.child,null,s),e.child=Xi(e,null,c,s)):ct(t,e,c,s),e.memoizedState=r.state,i&&pg(e,n,!0),e.child}function _x(t){var e=t.stateNode;e.pendingContext?mg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mg(t,e.context,!1),gf(t,e.containerInfo)}function Rg(t,e,n,r,i){return Yi(),uf(i),e.flags|=256,ct(t,e,n,r),e.child}var eh={dehydrated:null,treeContext:null,retryLane:0};function th(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ex(t,e,n){var r=e.pendingProps,i=Ee.current,s=!1,o=(e.flags&128)!==0,c;if((c=o)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),he(Ee,i&1),t===null)return Kd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Dc(o,r,0,null),t=Kr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=th(n),e.memoizedState=eh,t):Tf(e,o));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return x2(t,e,o,r,c,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,c=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=mr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=mr(c,s):(s=Kr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?th(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=eh,r}return s=t.child,t=s.sibling,r=mr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Tf(t,e){return e=Dc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $a(t,e,n,r){return r!==null&&uf(r),Xi(e,t.child,null,n),t=Tf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function x2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Xu(Error(F(422))),$a(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Dc({mode:"visible",children:r.children},i,0,null),s=Kr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Xi(e,t.child,null,o),e.child.memoizedState=th(o),e.memoizedState=eh,s);if(!(e.mode&1))return $a(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error(F(419)),r=Xu(s,r,void 0),$a(t,e,o,r)}if(c=(o&t.childLanes)!==0,gt||c){if(r=Ue,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Rn(t,i),Ht(r,t,i,-1))}return Af(),r=Xu(Error(F(421))),$a(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=P2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Et=ur(i.nextSibling),bt=e,xe=!0,zt=null,t!==null&&(Ct[kt++]=_n,Ct[kt++]=En,Ct[kt++]=Yr,_n=t.id,En=t.overflow,Yr=e),e=Tf(e,r.children),e.flags|=4096,e)}function Pg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gd(t.return,e,n)}function Ju(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function bx(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ct(t,e,r.children,n),r=Ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pg(t,n,e);else if(t.tag===19)Pg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(he(Ee,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ju(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ju(e,!0,n,null,s);break;case"together":Ju(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ul(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=mr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=mr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function w2(t,e,n){switch(e.tag){case 3:_x(e),Yi();break;case 5:Qv(e);break;case 1:vt(e.type)&&Vl(e);break;case 4:gf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;he(zl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(he(Ee,Ee.current&1),e.flags|=128,null):n&e.child.childLanes?Ex(t,e,n):(he(Ee,Ee.current&1),t=Pn(t,e,n),t!==null?t.sibling:null);he(Ee,Ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return bx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(Ee,Ee.current),r)break;return null;case 22:case 23:return e.lanes=0,xx(t,e,n)}return Pn(t,e,n)}var Tx,nh,Ix,Nx;Tx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nh=function(){};Ix=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Br(rn.current);var s=null;switch(n){case"input":i=Td(t,i),r=Td(t,r),s=[];break;case"select":i=Te({},i,{value:void 0}),r=Te({},r,{value:void 0}),s=[];break;case"textarea":i=Sd(t,i),r=Sd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ml)}kd(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var c=i[d];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(xo.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(c=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(s=s||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(xo.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&pe("scroll",t),s||c===u||(s=[])):(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};Nx=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ws(t,e){if(!xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _2(t,e,n){var r=e.pendingProps;switch(cf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(e),null;case 1:return vt(e.type)&&Ll(),et(e),null;case 3:return r=e.stateNode,Ji(),ye(yt),ye(st),vf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ua(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zt!==null&&(uh(zt),zt=null))),nh(t,e),et(e),null;case 5:yf(e);var i=Br(Ro.current);if(n=e.type,t!==null&&e.stateNode!=null)Ix(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return et(e),null}if(t=Br(rn.current),Ua(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[en]=e,r[ko]=s,t=(e.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(i=0;i<eo.length;i++)pe(eo[i],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":zp(r,s),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},pe("invalid",r);break;case"textarea":Bp(r,s),pe("invalid",r)}kd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var c=s[o];o==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&Fa(r.textContent,c,t),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&Fa(r.textContent,c,t),i=["children",""+c]):xo.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&pe("scroll",r)}switch(n){case"input":Ra(r),$p(r,s,!0);break;case"textarea":Ra(r),Wp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ml)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ev(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[en]=e,t[ko]=r,Tx(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ad(n,r),n){case"dialog":pe("cancel",t),pe("close",t),i=r;break;case"iframe":case"object":case"embed":pe("load",t),i=r;break;case"video":case"audio":for(i=0;i<eo.length;i++)pe(eo[i],t);i=r;break;case"source":pe("error",t),i=r;break;case"img":case"image":case"link":pe("error",t),pe("load",t),i=r;break;case"details":pe("toggle",t),i=r;break;case"input":zp(t,r),i=Td(t,r),pe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Te({},r,{value:void 0}),pe("invalid",t);break;case"textarea":Bp(t,r),i=Sd(t,r),pe("invalid",t);break;default:i=r}kd(n,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var u=c[s];s==="style"?rv(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&tv(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&wo(t,u):typeof u=="number"&&wo(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xo.hasOwnProperty(s)?u!=null&&s==="onScroll"&&pe("scroll",t):u!=null&&Kh(t,s,u,o))}switch(n){case"input":Ra(t),$p(t,r,!1);break;case"textarea":Ra(t),Wp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_r(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Mi(t,!!r.multiple,s,!1):r.defaultValue!=null&&Mi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ml)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return et(e),null;case 6:if(t&&e.stateNode!=null)Nx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=Br(Ro.current),Br(rn.current),Ua(e)){if(r=e.stateNode,n=e.memoizedProps,r[en]=e,(s=r.nodeValue!==n)&&(t=bt,t!==null))switch(t.tag){case 3:Fa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fa(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[en]=e,e.stateNode=r}return et(e),null;case 13:if(ye(Ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xe&&Et!==null&&e.mode&1&&!(e.flags&128))Wv(),Yi(),e.flags|=98560,s=!1;else if(s=Ua(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[en]=e}else Yi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;et(e),s=!1}else zt!==null&&(uh(zt),zt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ee.current&1?Oe===0&&(Oe=3):Af())),e.updateQueue!==null&&(e.flags|=4),et(e),null);case 4:return Ji(),nh(t,e),t===null&&So(e.stateNode.containerInfo),et(e),null;case 10:return ff(e.type._context),et(e),null;case 17:return vt(e.type)&&Ll(),et(e),null;case 19:if(ye(Ee),s=e.memoizedState,s===null)return et(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ws(s,!1);else{if(Oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wl(t),o!==null){for(e.flags|=128,Ws(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return he(Ee,Ee.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ae()>es&&(e.flags|=128,r=!0,Ws(s,!1),e.lanes=4194304)}else{if(!r)if(t=Wl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ws(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!xe)return et(e),null}else 2*Ae()-s.renderingStartTime>es&&n!==1073741824&&(e.flags|=128,r=!0,Ws(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ae(),e.sibling=null,n=Ee.current,he(Ee,r?n&1|2:n&1),e):(et(e),null);case 22:case 23:return kf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_t&1073741824&&(et(e),e.subtreeFlags&6&&(e.flags|=8192)):et(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function E2(t,e){switch(cf(e),e.tag){case 1:return vt(e.type)&&Ll(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ji(),ye(yt),ye(st),vf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yf(e),null;case 13:if(ye(Ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));Yi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ye(Ee),null;case 4:return Ji(),null;case 10:return ff(e.type._context),null;case 22:case 23:return kf(),null;case 24:return null;default:return null}}var Ba=!1,rt=!1,b2=typeof WeakSet=="function"?WeakSet:Set,W=null;function ji(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(t,e,r)}else n.current=null}function rh(t,e,n){try{n()}catch(r){Se(t,e,r)}}var jg=!1;function T2(t,e){if(Ud=jl,t=Rv(),af(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,c=-1,u=-1,d=0,f=0,p=t,g=null;t:for(;;){for(var T;p!==n||i!==0&&p.nodeType!==3||(c=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(T=p.firstChild)!==null;)g=p,p=T;for(;;){if(p===t)break t;if(g===n&&++d===i&&(c=o),g===s&&++f===r&&(u=o),(T=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=T}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(zd={focusedElem:t,selectionRange:n},jl=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var A=C.memoizedProps,P=C.memoizedState,_=e.stateNode,x=_.getSnapshotBeforeUpdate(e.elementType===e.type?A:Ft(e.type,A),P);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(D){Se(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return C=jg,jg=!1,C}function uo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&rh(e,n,s)}i=i.next}while(i!==r)}}function Pc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ih(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Sx(t){var e=t.alternate;e!==null&&(t.alternate=null,Sx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[en],delete e[ko],delete e[Wd],delete e[o2],delete e[a2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Cx(t){return t.tag===5||t.tag===3||t.tag===4}function Dg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ml));else if(r!==4&&(t=t.child,t!==null))for(sh(t,e,n),t=t.sibling;t!==null;)sh(t,e,n),t=t.sibling}function oh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(oh(t,e,n),t=t.sibling;t!==null;)oh(t,e,n),t=t.sibling}var $e=null,Ut=!1;function Hn(t,e,n){for(n=n.child;n!==null;)kx(t,e,n),n=n.sibling}function kx(t,e,n){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Tc,n)}catch{}switch(n.tag){case 5:rt||ji(n,e);case 6:var r=$e,i=Ut;$e=null,Hn(t,e,n),$e=r,Ut=i,$e!==null&&(Ut?(t=$e,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(Ut?(t=$e,n=n.stateNode,t.nodeType===8?Hu(t.parentNode,n):t.nodeType===1&&Hu(t,n),To(t)):Hu($e,n.stateNode));break;case 4:r=$e,i=Ut,$e=n.stateNode.containerInfo,Ut=!0,Hn(t,e,n),$e=r,Ut=i;break;case 0:case 11:case 14:case 15:if(!rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&rh(n,e,o),i=i.next}while(i!==r)}Hn(t,e,n);break;case 1:if(!rt&&(ji(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Se(n,e,c)}Hn(t,e,n);break;case 21:Hn(t,e,n);break;case 22:n.mode&1?(rt=(r=rt)||n.memoizedState!==null,Hn(t,e,n),rt=r):Hn(t,e,n);break;default:Hn(t,e,n)}}function Og(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new b2),e.forEach(function(r){var i=j2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 5:$e=c.stateNode,Ut=!1;break e;case 3:$e=c.stateNode.containerInfo,Ut=!0;break e;case 4:$e=c.stateNode.containerInfo,Ut=!0;break e}c=c.return}if($e===null)throw Error(F(160));kx(s,o,i),$e=null,Ut=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(d){Se(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ax(e,t),e=e.sibling}function Ax(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vt(e,t),Xt(t),r&4){try{uo(3,t,t.return),Pc(3,t)}catch(A){Se(t,t.return,A)}try{uo(5,t,t.return)}catch(A){Se(t,t.return,A)}}break;case 1:Vt(e,t),Xt(t),r&512&&n!==null&&ji(n,n.return);break;case 5:if(Vt(e,t),Xt(t),r&512&&n!==null&&ji(n,n.return),t.flags&32){var i=t.stateNode;try{wo(i,"")}catch(A){Se(t,t.return,A)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&Jy(i,s),Ad(c,o);var d=Ad(c,s);for(o=0;o<u.length;o+=2){var f=u[o],p=u[o+1];f==="style"?rv(i,p):f==="dangerouslySetInnerHTML"?tv(i,p):f==="children"?wo(i,p):Kh(i,f,p,d)}switch(c){case"input":Id(i,s);break;case"textarea":Zy(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var T=s.value;T!=null?Mi(i,!!s.multiple,T,!1):g!==!!s.multiple&&(s.defaultValue!=null?Mi(i,!!s.multiple,s.defaultValue,!0):Mi(i,!!s.multiple,s.multiple?[]:"",!1))}i[ko]=s}catch(A){Se(t,t.return,A)}}break;case 6:if(Vt(e,t),Xt(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(A){Se(t,t.return,A)}}break;case 3:if(Vt(e,t),Xt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{To(e.containerInfo)}catch(A){Se(t,t.return,A)}break;case 4:Vt(e,t),Xt(t);break;case 13:Vt(e,t),Xt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Sf=Ae())),r&4&&Og(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(rt=(d=rt)||f,Vt(e,t),rt=d):Vt(e,t),Xt(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(W=t,f=t.child;f!==null;){for(p=W=f;W!==null;){switch(g=W,T=g.child,g.tag){case 0:case 11:case 14:case 15:uo(4,g,g.return);break;case 1:ji(g,g.return);var C=g.stateNode;if(typeof C.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(A){Se(r,n,A)}}break;case 5:ji(g,g.return);break;case 22:if(g.memoizedState!==null){Lg(p);continue}}T!==null?(T.return=g,W=T):Lg(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=nv("display",o))}catch(A){Se(t,t.return,A)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(A){Se(t,t.return,A)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Vt(e,t),Xt(t),r&4&&Og(t);break;case 21:break;default:Vt(e,t),Xt(t)}}function Xt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Cx(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wo(i,""),r.flags&=-33);var s=Dg(t);oh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,c=Dg(t);sh(t,c,o);break;default:throw Error(F(161))}}catch(u){Se(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function I2(t,e,n){W=t,Rx(t)}function Rx(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ba;if(!o){var c=i.alternate,u=c!==null&&c.memoizedState!==null||rt;c=Ba;var d=rt;if(Ba=o,(rt=u)&&!d)for(W=i;W!==null;)o=W,u=o.child,o.tag===22&&o.memoizedState!==null?Vg(i):u!==null?(u.return=o,W=u):Vg(i);for(;s!==null;)W=s,Rx(s),s=s.sibling;W=i,Ba=c,rt=d}Mg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):Mg(t)}}function Mg(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rt||Pc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ft(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&wg(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}wg(e,o,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&To(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}rt||e.flags&512&&ih(e)}catch(g){Se(e,e.return,g)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Lg(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function Vg(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pc(4,e)}catch(u){Se(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Se(e,i,u)}}var s=e.return;try{ih(e)}catch(u){Se(e,s,u)}break;case 5:var o=e.return;try{ih(e)}catch(u){Se(e,o,u)}}}catch(u){Se(e,e.return,u)}if(e===t){W=null;break}var c=e.sibling;if(c!==null){c.return=e.return,W=c;break}W=e.return}}var N2=Math.ceil,Kl=Fn.ReactCurrentDispatcher,If=Fn.ReactCurrentOwner,Pt=Fn.ReactCurrentBatchConfig,ie=0,Ue=null,Pe=null,He=0,_t=0,Di=Rr(0),Oe=0,Oo=null,Jr=0,jc=0,Nf=0,ho=null,pt=null,Sf=0,es=1/0,xn=null,Gl=!1,ah=null,hr=null,Wa=!1,sr=null,Ql=0,fo=0,lh=null,dl=-1,hl=0;function ut(){return ie&6?Ae():dl!==-1?dl:dl=Ae()}function fr(t){return t.mode&1?ie&2&&He!==0?He&-He:c2.transition!==null?(hl===0&&(hl=pv()),hl):(t=ce,t!==0||(t=window.event,t=t===void 0?16:Ev(t.type)),t):1}function Ht(t,e,n,r){if(50<fo)throw fo=0,lh=null,Error(F(185));Go(t,n,r),(!(ie&2)||t!==Ue)&&(t===Ue&&(!(ie&2)&&(jc|=n),Oe===4&&Jn(t,He)),xt(t,r),n===1&&ie===0&&!(e.mode&1)&&(es=Ae()+500,kc&&Pr()))}function xt(t,e){var n=t.callbackNode;cb(t,e);var r=Pl(t,t===Ue?He:0);if(r===0)n!==null&&Kp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Kp(n),e===1)t.tag===0?l2(Fg.bind(null,t)):zv(Fg.bind(null,t)),i2(function(){!(ie&6)&&Pr()}),n=null;else{switch(gv(r)){case 1:n=Jh;break;case 4:n=fv;break;case 16:n=Rl;break;case 536870912:n=mv;break;default:n=Rl}n=Fx(n,Px.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Px(t,e){if(dl=-1,hl=0,ie&6)throw Error(F(327));var n=t.callbackNode;if(zi()&&t.callbackNode!==n)return null;var r=Pl(t,t===Ue?He:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yl(t,r);else{e=r;var i=ie;ie|=2;var s=Dx();(Ue!==t||He!==e)&&(xn=null,es=Ae()+500,qr(t,e));do try{k2();break}catch(c){jx(t,c)}while(!0);hf(),Kl.current=s,ie=i,Pe!==null?e=0:(Ue=null,He=0,e=Oe)}if(e!==0){if(e===2&&(i=Od(t),i!==0&&(r=i,e=ch(t,i))),e===1)throw n=Oo,qr(t,0),Jn(t,r),xt(t,Ae()),n;if(e===6)Jn(t,r);else{if(i=t.current.alternate,!(r&30)&&!S2(i)&&(e=Yl(t,r),e===2&&(s=Od(t),s!==0&&(r=s,e=ch(t,s))),e===1))throw n=Oo,qr(t,0),Jn(t,r),xt(t,Ae()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:Vr(t,pt,xn);break;case 3:if(Jn(t,r),(r&130023424)===r&&(e=Sf+500-Ae(),10<e)){if(Pl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ut(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Bd(Vr.bind(null,t,pt,xn),e);break}Vr(t,pt,xn);break;case 4:if(Jn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Wt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*N2(r/1960))-r,10<r){t.timeoutHandle=Bd(Vr.bind(null,t,pt,xn),r);break}Vr(t,pt,xn);break;case 5:Vr(t,pt,xn);break;default:throw Error(F(329))}}}return xt(t,Ae()),t.callbackNode===n?Px.bind(null,t):null}function ch(t,e){var n=ho;return t.current.memoizedState.isDehydrated&&(qr(t,e).flags|=256),t=Yl(t,e),t!==2&&(e=pt,pt=n,e!==null&&uh(e)),t}function uh(t){pt===null?pt=t:pt.push.apply(pt,t)}function S2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!qt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jn(t,e){for(e&=~Nf,e&=~jc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wt(e),r=1<<n;t[n]=-1,e&=~r}}function Fg(t){if(ie&6)throw Error(F(327));zi();var e=Pl(t,0);if(!(e&1))return xt(t,Ae()),null;var n=Yl(t,e);if(t.tag!==0&&n===2){var r=Od(t);r!==0&&(e=r,n=ch(t,r))}if(n===1)throw n=Oo,qr(t,0),Jn(t,e),xt(t,Ae()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vr(t,pt,xn),xt(t,Ae()),null}function Cf(t,e){var n=ie;ie|=1;try{return t(e)}finally{ie=n,ie===0&&(es=Ae()+500,kc&&Pr())}}function Zr(t){sr!==null&&sr.tag===0&&!(ie&6)&&zi();var e=ie;ie|=1;var n=Pt.transition,r=ce;try{if(Pt.transition=null,ce=1,t)return t()}finally{ce=r,Pt.transition=n,ie=e,!(ie&6)&&Pr()}}function kf(){_t=Di.current,ye(Di)}function qr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,r2(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(cf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ll();break;case 3:Ji(),ye(yt),ye(st),vf();break;case 5:yf(r);break;case 4:Ji();break;case 13:ye(Ee);break;case 19:ye(Ee);break;case 10:ff(r.type._context);break;case 22:case 23:kf()}n=n.return}if(Ue=t,Pe=t=mr(t.current,null),He=_t=e,Oe=0,Oo=null,Nf=jc=Jr=0,pt=ho=null,$r!==null){for(e=0;e<$r.length;e++)if(n=$r[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}$r=null}return t}function jx(t,e){do{var n=Pe;try{if(hf(),ll.current=ql,Hl){for(var r=be.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hl=!1}if(Xr=0,Fe=De=be=null,co=!1,Po=0,If.current=null,n===null||n.return===null){Oe=1,Oo=e,Pe=null;break}e:{var s=t,o=n.return,c=n,u=e;if(e=He,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=c,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var T=Ng(o);if(T!==null){T.flags&=-257,Sg(T,o,c,s,e),T.mode&1&&Ig(s,d,e),e=T,u=d;var C=e.updateQueue;if(C===null){var A=new Set;A.add(u),e.updateQueue=A}else C.add(u);break e}else{if(!(e&1)){Ig(s,d,e),Af();break e}u=Error(F(426))}}else if(xe&&c.mode&1){var P=Ng(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Sg(P,o,c,s,e),uf(Zi(u,c));break e}}s=u=Zi(u,c),Oe!==4&&(Oe=2),ho===null?ho=[s]:ho.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=gx(s,u,e);xg(s,_);break e;case 1:c=u;var x=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(hr===null||!hr.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=yx(s,c,e);xg(s,D);break e}}s=s.return}while(s!==null)}Mx(n)}catch(V){e=V,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function Dx(){var t=Kl.current;return Kl.current=ql,t===null?ql:t}function Af(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Ue===null||!(Jr&268435455)&&!(jc&268435455)||Jn(Ue,He)}function Yl(t,e){var n=ie;ie|=2;var r=Dx();(Ue!==t||He!==e)&&(xn=null,qr(t,e));do try{C2();break}catch(i){jx(t,i)}while(!0);if(hf(),ie=n,Kl.current=r,Pe!==null)throw Error(F(261));return Ue=null,He=0,Oe}function C2(){for(;Pe!==null;)Ox(Pe)}function k2(){for(;Pe!==null&&!eb();)Ox(Pe)}function Ox(t){var e=Vx(t.alternate,t,_t);t.memoizedProps=t.pendingProps,e===null?Mx(t):Pe=e,If.current=null}function Mx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=E2(n,e),n!==null){n.flags&=32767,Pe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Oe=6,Pe=null;return}}else if(n=_2(n,e,_t),n!==null){Pe=n;return}if(e=e.sibling,e!==null){Pe=e;return}Pe=e=t}while(e!==null);Oe===0&&(Oe=5)}function Vr(t,e,n){var r=ce,i=Pt.transition;try{Pt.transition=null,ce=1,A2(t,e,n,r)}finally{Pt.transition=i,ce=r}return null}function A2(t,e,n,r){do zi();while(sr!==null);if(ie&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ub(t,s),t===Ue&&(Pe=Ue=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wa||(Wa=!0,Fx(Rl,function(){return zi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pt.transition,Pt.transition=null;var o=ce;ce=1;var c=ie;ie|=4,If.current=null,T2(t,n),Ax(n,t),Yb(zd),jl=!!Ud,zd=Ud=null,t.current=n,I2(n),tb(),ie=c,ce=o,Pt.transition=s}else t.current=n;if(Wa&&(Wa=!1,sr=t,Ql=i),s=t.pendingLanes,s===0&&(hr=null),ib(n.stateNode),xt(t,Ae()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,t=ah,ah=null,t;return Ql&1&&t.tag!==0&&zi(),s=t.pendingLanes,s&1?t===lh?fo++:(fo=0,lh=t):fo=0,Pr(),null}function zi(){if(sr!==null){var t=gv(Ql),e=Pt.transition,n=ce;try{if(Pt.transition=null,ce=16>t?16:t,sr===null)var r=!1;else{if(t=sr,sr=null,Ql=0,ie&6)throw Error(F(331));var i=ie;for(ie|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var c=s.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(W=d;W!==null;){var f=W;switch(f.tag){case 0:case 11:case 15:uo(8,f,s)}var p=f.child;if(p!==null)p.return=f,W=p;else for(;W!==null;){f=W;var g=f.sibling,T=f.return;if(Sx(f),f===d){W=null;break}if(g!==null){g.return=T,W=g;break}W=T}}}var C=s.alternate;if(C!==null){var A=C.child;if(A!==null){C.child=null;do{var P=A.sibling;A.sibling=null,A=P}while(A!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:uo(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,W=_;break e}W=s.return}}var x=t.current;for(W=x;W!==null;){o=W;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,W=b;else e:for(o=x;W!==null;){if(c=W,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Pc(9,c)}}catch(V){Se(c,c.return,V)}if(c===o){W=null;break e}var D=c.sibling;if(D!==null){D.return=c.return,W=D;break e}W=c.return}}if(ie=i,Pr(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Tc,t)}catch{}r=!0}return r}finally{ce=n,Pt.transition=e}}return!1}function Ug(t,e,n){e=Zi(n,e),e=gx(t,e,1),t=dr(t,e,1),e=ut(),t!==null&&(Go(t,1,e),xt(t,e))}function Se(t,e,n){if(t.tag===3)Ug(t,t,n);else for(;e!==null;){if(e.tag===3){Ug(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hr===null||!hr.has(r))){t=Zi(n,t),t=yx(e,t,1),e=dr(e,t,1),t=ut(),e!==null&&(Go(e,1,t),xt(e,t));break}}e=e.return}}function R2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ut(),t.pingedLanes|=t.suspendedLanes&n,Ue===t&&(He&n)===n&&(Oe===4||Oe===3&&(He&130023424)===He&&500>Ae()-Sf?qr(t,0):Nf|=n),xt(t,e)}function Lx(t,e){e===0&&(t.mode&1?(e=Da,Da<<=1,!(Da&130023424)&&(Da=4194304)):e=1);var n=ut();t=Rn(t,e),t!==null&&(Go(t,e,n),xt(t,n))}function P2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Lx(t,n)}function j2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),Lx(t,n)}var Vx;Vx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yt.current)gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gt=!1,w2(t,e,n);gt=!!(t.flags&131072)}else gt=!1,xe&&e.flags&1048576&&$v(e,Ul,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ul(t,e),t=e.pendingProps;var i=Qi(e,st.current);Ui(e,n),i=wf(null,e,r,t,i,n);var s=_f();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vt(r)?(s=!0,Vl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pf(e),i.updater=Rc,e.stateNode=i,i._reactInternals=e,Yd(e,r,t,n),e=Zd(null,e,r,!0,s,n)):(e.tag=0,xe&&s&&lf(e),ct(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ul(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=O2(r),t=Ft(r,t),i){case 0:e=Jd(null,e,r,t,n);break e;case 1:e=Ag(null,e,r,t,n);break e;case 11:e=Cg(null,e,r,t,n);break e;case 14:e=kg(null,e,r,Ft(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ft(r,i),Jd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ft(r,i),Ag(t,e,r,i,n);case 3:e:{if(_x(e),t===null)throw Error(F(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Gv(t,e),Bl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Zi(Error(F(423)),e),e=Rg(t,e,r,n,i);break e}else if(r!==i){i=Zi(Error(F(424)),e),e=Rg(t,e,r,n,i);break e}else for(Et=ur(e.stateNode.containerInfo.firstChild),bt=e,xe=!0,zt=null,n=qv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yi(),r===i){e=Pn(t,e,n);break e}ct(t,e,r,n)}e=e.child}return e;case 5:return Qv(e),t===null&&Kd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,$d(r,i)?o=null:s!==null&&$d(r,s)&&(e.flags|=32),wx(t,e),ct(t,e,o,n),e.child;case 6:return t===null&&Kd(e),null;case 13:return Ex(t,e,n);case 4:return gf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xi(e,null,r,n):ct(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ft(r,i),Cg(t,e,r,i,n);case 7:return ct(t,e,e.pendingProps,n),e.child;case 8:return ct(t,e,e.pendingProps.children,n),e.child;case 12:return ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,he(zl,r._currentValue),r._currentValue=o,s!==null)if(qt(s.value,o)){if(s.children===i.children&&!yt.current){e=Pn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){o=s.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Nn(-1,n&-n),u.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Gd(s.return,n,e),c.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Gd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ct(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ui(e,n),i=Dt(i),r=r(i),e.flags|=1,ct(t,e,r,n),e.child;case 14:return r=e.type,i=Ft(r,e.pendingProps),i=Ft(r.type,i),kg(t,e,r,i,n);case 15:return vx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ft(r,i),ul(t,e),e.tag=1,vt(r)?(t=!0,Vl(e)):t=!1,Ui(e,n),px(e,r,i),Yd(e,r,i,n),Zd(null,e,r,!0,t,n);case 19:return bx(t,e,n);case 22:return xx(t,e,n)}throw Error(F(156,e.tag))};function Fx(t,e){return hv(t,e)}function D2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(t,e,n,r){return new D2(t,e,n,r)}function Rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function O2(t){if(typeof t=="function")return Rf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qh)return 11;if(t===Yh)return 14}return 2}function mr(t,e){var n=t.alternate;return n===null?(n=Rt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Rf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ti:return Kr(n.children,i,s,e);case Gh:o=8,i|=8;break;case wd:return t=Rt(12,n,e,i|2),t.elementType=wd,t.lanes=s,t;case _d:return t=Rt(13,n,e,i),t.elementType=_d,t.lanes=s,t;case Ed:return t=Rt(19,n,e,i),t.elementType=Ed,t.lanes=s,t;case Qy:return Dc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ky:o=10;break e;case Gy:o=9;break e;case Qh:o=11;break e;case Yh:o=14;break e;case Qn:o=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=Rt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Kr(t,e,n,r){return t=Rt(7,t,r,e),t.lanes=n,t}function Dc(t,e,n,r){return t=Rt(22,t,r,e),t.elementType=Qy,t.lanes=n,t.stateNode={isHidden:!1},t}function Zu(t,e,n){return t=Rt(6,t,null,e),t.lanes=n,t}function ed(t,e,n){return e=Rt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function M2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Du(0),this.expirationTimes=Du(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Du(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Pf(t,e,n,r,i,s,o,c,u){return t=new M2(t,e,n,c,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Rt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pf(s),t}function L2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ux(t){if(!t)return Er;t=t._reactInternals;e:{if(oi(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(vt(n))return Uv(t,n,e)}return e}function zx(t,e,n,r,i,s,o,c,u){return t=Pf(n,r,!0,t,i,s,o,c,u),t.context=Ux(null),n=t.current,r=ut(),i=fr(n),s=Nn(r,i),s.callback=e??null,dr(n,s,i),t.current.lanes=i,Go(t,i,r),xt(t,r),t}function Oc(t,e,n,r){var i=e.current,s=ut(),o=fr(i);return n=Ux(n),e.context===null?e.context=n:e.pendingContext=n,e=Nn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=dr(i,e,o),t!==null&&(Ht(t,i,o,s),al(t,i,o)),o}function Xl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jf(t,e){zg(t,e),(t=t.alternate)&&zg(t,e)}function V2(){return null}var $x=typeof reportError=="function"?reportError:function(t){console.error(t)};function Df(t){this._internalRoot=t}Mc.prototype.render=Df.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));Oc(t,e,null,null)};Mc.prototype.unmount=Df.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zr(function(){Oc(null,t,null,null)}),e[An]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var e=xv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xn.length&&e!==0&&e<Xn[n].priority;n++);Xn.splice(n,0,t),n===0&&_v(t)}};function Of(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $g(){}function F2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=Xl(o);s.call(d)}}var o=zx(e,r,t,0,null,!1,!1,"",$g);return t._reactRootContainer=o,t[An]=o.current,So(t.nodeType===8?t.parentNode:t),Zr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var d=Xl(u);c.call(d)}}var u=Pf(t,0,!1,null,null,!1,!1,"",$g);return t._reactRootContainer=u,t[An]=u.current,So(t.nodeType===8?t.parentNode:t),Zr(function(){Oc(e,u,n,r)}),u}function Vc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var c=i;i=function(){var u=Xl(o);c.call(u)}}Oc(e,o,t,i)}else o=F2(n,e,t,i,r);return Xl(o)}yv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zs(e.pendingLanes);n!==0&&(Zh(e,n|1),xt(e,Ae()),!(ie&6)&&(es=Ae()+500,Pr()))}break;case 13:Zr(function(){var r=Rn(t,1);if(r!==null){var i=ut();Ht(r,t,1,i)}}),jf(t,1)}};ef=function(t){if(t.tag===13){var e=Rn(t,134217728);if(e!==null){var n=ut();Ht(e,t,134217728,n)}jf(t,134217728)}};vv=function(t){if(t.tag===13){var e=fr(t),n=Rn(t,e);if(n!==null){var r=ut();Ht(n,t,e,r)}jf(t,e)}};xv=function(){return ce};wv=function(t,e){var n=ce;try{return ce=t,e()}finally{ce=n}};Pd=function(t,e,n){switch(e){case"input":if(Id(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cc(r);if(!i)throw Error(F(90));Xy(r),Id(r,i)}}}break;case"textarea":Zy(t,n);break;case"select":e=n.value,e!=null&&Mi(t,!!n.multiple,e,!1)}};ov=Cf;av=Zr;var U2={usingClientEntryPoint:!1,Events:[Yo,Ci,Cc,iv,sv,Cf]},Hs={findFiberByHostInstance:zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z2={bundleType:Hs.bundleType,version:Hs.version,rendererPackageName:Hs.rendererPackageName,rendererConfig:Hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uv(t),t===null?null:t.stateNode},findFiberByHostInstance:Hs.findFiberByHostInstance||V2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ha=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ha.isDisabled&&Ha.supportsFiber)try{Tc=Ha.inject(z2),nn=Ha}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U2;It.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Of(e))throw Error(F(200));return L2(t,e,null,n)};It.createRoot=function(t,e){if(!Of(t))throw Error(F(299));var n=!1,r="",i=$x;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Pf(t,1,!1,null,null,n,!1,r,i),t[An]=e.current,So(t.nodeType===8?t.parentNode:t),new Df(e)};It.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=uv(e),t=t===null?null:t.stateNode,t};It.flushSync=function(t){return Zr(t)};It.hydrate=function(t,e,n){if(!Lc(e))throw Error(F(200));return Vc(null,t,e,!0,n)};It.hydrateRoot=function(t,e,n){if(!Of(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=$x;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=zx(e,null,t,1,n??null,i,!1,s,o),t[An]=e.current,So(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Mc(e)};It.render=function(t,e,n){if(!Lc(e))throw Error(F(200));return Vc(null,t,e,!1,n)};It.unmountComponentAtNode=function(t){if(!Lc(t))throw Error(F(40));return t._reactRootContainer?(Zr(function(){Vc(null,null,t,!1,function(){t._reactRootContainer=null,t[An]=null})}),!0):!1};It.unstable_batchedUpdates=Cf;It.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Lc(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return Vc(t,e,n,!1,r)};It.version="18.3.1-next-f1338f8080-20240426";function Bx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bx)}catch(t){console.error(t)}}Bx(),By.exports=It;var $2=By.exports,Wx,Bg=$2;Wx=Bg.createRoot,Bg.hydrateRoot;var Mf={};Object.defineProperty(Mf,"__esModule",{value:!0});Mf.parse=Q2;Mf.serialize=Y2;const B2=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,W2=/^[\u0021-\u003A\u003C-\u007E]*$/,H2=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,q2=/^[\u0020-\u003A\u003D-\u007E]*$/,K2=Object.prototype.toString,G2=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function Q2(t,e){const n=new G2,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||X2;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const c=t.indexOf(";",s),u=c===-1?r:c;if(o>u){s=t.lastIndexOf(";",o-1)+1;continue}const d=Wg(t,s,o),f=Hg(t,o,d),p=t.slice(d,f);if(n[p]===void 0){let g=Wg(t,o+1,u),T=Hg(t,u,g);const C=i(t.slice(g,T));n[p]=C}s=u+1}while(s<r);return n}function Wg(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function Hg(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function Y2(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!B2.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!W2.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!H2.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!q2.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!J2(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function X2(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function J2(t){return K2.call(t)==="[object Date]"}/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qg="popstate";function Z2(t={}){function e(r,i){let{pathname:s,search:o,hash:c}=r.location;return dh("",{pathname:s,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Mo(i)}return tT(e,n,null,t)}function we(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Kt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eT(){return Math.random().toString(36).substring(2,10)}function Kg(t,e){return{usr:t.state,key:t.key,idx:e}}function dh(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?fs(e):e,state:n,key:e&&e.key||r||eT()}}function Mo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function tT(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,c="POP",u=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function p(){c="POP";let P=f(),_=P==null?null:P-d;d=P,u&&u({action:c,location:A.location,delta:_})}function g(P,_){c="PUSH";let x=dh(A.location,P,_);d=f()+1;let b=Kg(x,d),D=A.createHref(x);try{o.pushState(b,"",D)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(D)}s&&u&&u({action:c,location:A.location,delta:1})}function T(P,_){c="REPLACE";let x=dh(A.location,P,_);d=f();let b=Kg(x,d),D=A.createHref(x);o.replaceState(b,"",D),s&&u&&u({action:c,location:A.location,delta:0})}function C(P){let _=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof P=="string"?P:Mo(P);return x=x.replace(/ $/,"%20"),we(_,`No window.location.(origin|href) available to create URL for href: ${x}`),new URL(x,_)}let A={get action(){return c},get location(){return t(i,o)},listen(P){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(qg,p),u=P,()=>{i.removeEventListener(qg,p),u=null}},createHref(P){return e(i,P)},createURL:C,encodeLocation(P){let _=C(P);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:T,go(P){return o.go(P)}};return A}function Hx(t,e,n="/"){return nT(t,e,n,!1)}function nT(t,e,n,r){let i=typeof e=="string"?fs(e):e,s=jn(i.pathname||"/",n);if(s==null)return null;let o=qx(t);rT(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let d=mT(s);c=hT(o[u],d,r)}return c}function qx(t,e=[],n=[],r=""){let i=(s,o,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(we(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let d=Sn([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(we(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),qx(s.children,e,f,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:uT(d,s.index),routesMeta:f})};return t.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,o);else for(let u of Kx(s.path))i(s,o,u)}),e}function Kx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Kx(r.join("/")),c=[];return c.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&c.push(...o),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function rT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var iT=/^:[\w-]+$/,sT=3,oT=2,aT=1,lT=10,cT=-2,Gg=t=>t==="*";function uT(t,e){let n=t.split("/"),r=n.length;return n.some(Gg)&&(r+=cT),e&&(r+=oT),n.filter(i=>!Gg(i)).reduce((i,s)=>i+(iT.test(s)?sT:s===""?aT:lT),r)}function dT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function hT(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],d=c===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=Jl({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),g=u.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=Jl({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Sn([s,p.pathname]),pathnameBase:vT(Sn([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Sn([s,p.pathnameBase]))}return o}function Jl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fT(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:p},g)=>{if(f==="*"){let C=c[g]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const T=c[g];return p&&!T?d[f]=void 0:d[f]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function fT(t,e=!1,n=!0){Kt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function mT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function jn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function pT(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?fs(t):t;return{pathname:n?n.startsWith("/")?n:gT(n,e):e,search:xT(r),hash:wT(i)}}function gT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function td(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lf(t){let e=yT(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Vf(t,e,n,r=!1){let i;typeof t=="string"?i=fs(t):(i={...t},we(!i.pathname||!i.pathname.includes("?"),td("?","pathname","search",i)),we(!i.pathname||!i.pathname.includes("#"),td("#","pathname","hash",i)),we(!i.search||!i.search.includes("#"),td("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,c;if(o==null)c=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}c=p>=0?e[p]:"/"}let u=pT(i,c),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var Sn=t=>t.join("/").replace(/\/\/+/g,"/"),vT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _T(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Gx=["POST","PUT","PATCH","DELETE"];new Set(Gx);var ET=["GET",...Gx];new Set(ET);var ms=j.createContext(null);ms.displayName="DataRouter";var Fc=j.createContext(null);Fc.displayName="DataRouterState";var Qx=j.createContext({isTransitioning:!1});Qx.displayName="ViewTransition";var bT=j.createContext(new Map);bT.displayName="Fetchers";var TT=j.createContext(null);TT.displayName="Await";var Qt=j.createContext(null);Qt.displayName="Navigation";var Jo=j.createContext(null);Jo.displayName="Location";var un=j.createContext({outlet:null,matches:[],isDataRoute:!1});un.displayName="Route";var Ff=j.createContext(null);Ff.displayName="RouteError";function IT(t,{relative:e}={}){we(ps(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(Qt),{hash:i,pathname:s,search:o}=ea(t,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:Sn([n,s])),r.createHref({pathname:c,search:o,hash:i})}function ps(){return j.useContext(Jo)!=null}function Un(){return we(ps(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Jo).location}var Yx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xx(t){j.useContext(Qt).static||j.useLayoutEffect(t)}function Zo(){let{isDataRoute:t}=j.useContext(un);return t?VT():NT()}function NT(){we(ps(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(ms),{basename:e,navigator:n}=j.useContext(Qt),{matches:r}=j.useContext(un),{pathname:i}=Un(),s=JSON.stringify(Lf(r)),o=j.useRef(!1);return Xx(()=>{o.current=!0}),j.useCallback((u,d={})=>{if(Kt(o.current,Yx),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=Vf(u,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Sn([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,s,i,t])}j.createContext(null);function ea(t,{relative:e}={}){let{matches:n}=j.useContext(un),{pathname:r}=Un(),i=JSON.stringify(Lf(n));return j.useMemo(()=>Vf(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function ST(t,e){return Jx(t,e)}function Jx(t,e,n,r){var x;we(ps(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=j.useContext(Qt),{matches:o}=j.useContext(un),c=o[o.length-1],u=c?c.params:{},d=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let b=p&&p.path||"";Zx(d,!p||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let g=Un(),T;if(e){let b=typeof e=="string"?fs(e):e;we(f==="/"||((x=b.pathname)==null?void 0:x.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${b.pathname}" was given in the \`location\` prop.`),T=b}else T=g;let C=T.pathname||"/",A=C;if(f!=="/"){let b=f.replace(/^\//,"").split("/");A="/"+C.replace(/^\//,"").split("/").slice(b.length).join("/")}let P=!s&&n&&n.matches&&n.matches.length>0?n.matches:Hx(t,{pathname:A});Kt(p||P!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Kt(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=PT(P&&P.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:Sn([f,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?f:Sn([f,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return e&&_?j.createElement(Jo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},_):_}function CT(){let t=LT(),e=_T(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:s},"ErrorBoundary")," or"," ",j.createElement("code",{style:s},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,o)}var kT=j.createElement(CT,null),AT=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?j.createElement(un.Provider,{value:this.props.routeContext},j.createElement(Ff.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RT({routeContext:t,match:e,children:n}){let r=j.useContext(ms);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(un.Provider,{value:t},n)}function PT(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let u=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);we(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,c=-1;if(n)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,g=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,d,f)=>{let p,g=!1,T=null,C=null;n&&(p=s&&d.route.id?s[d.route.id]:void 0,T=d.route.errorElement||kT,o&&(c<0&&f===0?(Zx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,C=null):c===f&&(g=!0,C=d.route.hydrateFallbackElement||null)));let A=e.concat(i.slice(0,f+1)),P=()=>{let _;return p?_=T:g?_=C:d.route.Component?_=j.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,j.createElement(RT,{match:d,routeContext:{outlet:u,matches:A,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?j.createElement(AT,{location:n.location,revalidation:n.revalidation,component:T,error:p,children:P(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):P()},null)}function Uf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jT(t){let e=j.useContext(ms);return we(e,Uf(t)),e}function DT(t){let e=j.useContext(Fc);return we(e,Uf(t)),e}function OT(t){let e=j.useContext(un);return we(e,Uf(t)),e}function zf(t){let e=OT(t),n=e.matches[e.matches.length-1];return we(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function MT(){return zf("useRouteId")}function LT(){var r;let t=j.useContext(Ff),e=DT("useRouteError"),n=zf("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function VT(){let{router:t}=jT("useNavigate"),e=zf("useNavigate"),n=j.useRef(!1);return Xx(()=>{n.current=!0}),j.useCallback(async(i,s={})=>{Kt(n.current,Yx),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Qg={};function Zx(t,e,n){!e&&!Qg[t]&&(Qg[t]=!0,Kt(!1,n))}j.memo(FT);function FT({routes:t,future:e,state:n}){return Jx(t,void 0,n,e)}function UT({to:t,replace:e,state:n,relative:r}){we(ps(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=j.useContext(Qt);Kt(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=j.useContext(un),{pathname:o}=Un(),c=Zo(),u=Vf(t,Lf(s),o,r==="path"),d=JSON.stringify(u);return j.useEffect(()=>{c(JSON.parse(d),{replace:e,state:n,relative:r})},[c,d,r,e,n]),null}function vn(t){we(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zT({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){we(!ps(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=fs(n));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:g="default"}=n,T=j.useMemo(()=>{let C=jn(u,o);return C==null?null:{location:{pathname:C,search:d,hash:f,state:p,key:g},navigationType:r}},[o,u,d,f,p,g,r]);return Kt(T!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:j.createElement(Qt.Provider,{value:c},j.createElement(Jo.Provider,{children:e,value:T}))}function $T({children:t,location:e}){return ST(hh(t),e)}function hh(t,e=[]){let n=[];return j.Children.forEach(t,(r,i)=>{if(!j.isValidElement(r))return;let s=[...e,i];if(r.type===j.Fragment){n.push.apply(n,hh(r.props.children,s));return}we(r.type===vn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),we(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=hh(r.props.children,s)),n.push(o)}),n}var ml="get",pl="application/x-www-form-urlencoded";function Uc(t){return t!=null&&typeof t.tagName=="string"}function BT(t){return Uc(t)&&t.tagName.toLowerCase()==="button"}function WT(t){return Uc(t)&&t.tagName.toLowerCase()==="form"}function HT(t){return Uc(t)&&t.tagName.toLowerCase()==="input"}function qT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KT(t,e){return t.button===0&&(!e||e==="_self")&&!qT(t)}var qa=null;function GT(){if(qa===null)try{new FormData(document.createElement("form"),0),qa=!1}catch{qa=!0}return qa}var QT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nd(t){return t!=null&&!QT.has(t)?(Kt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pl}"`),null):t}function YT(t,e){let n,r,i,s,o;if(WT(t)){let c=t.getAttribute("action");r=c?jn(c,e):null,n=t.getAttribute("method")||ml,i=nd(t.getAttribute("enctype"))||pl,s=new FormData(t)}else if(BT(t)||HT(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(r=u?jn(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||ml,i=nd(t.getAttribute("formenctype"))||nd(c.getAttribute("enctype"))||pl,s=new FormData(c,t),!GT()){let{name:d,type:f,value:p}=t;if(f==="image"){let g=d?`${d}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else d&&s.append(d,p)}}else{if(Uc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ml,r=null,i=pl,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function $f(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function XT(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JT(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ZT(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await XT(s,n);return o.links?o.links():[]}return[]}));return rI(r.flat(1).filter(JT).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Yg(t,e,n,r,i,s){let o=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,c=(u,d)=>{var f;return n[d].pathname!==u.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,d)=>o(u,d)||c(u,d)):s==="data"?e.filter((u,d)=>{var p;let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,d)||c(u,d))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function eI(t,e,{includeHydrateFallback:n}={}){return tI(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function tI(t){return[...new Set(t)]}function nI(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function rI(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(nI(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function iI(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&jn(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function ew(){let t=j.useContext(ms);return $f(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function sI(){let t=j.useContext(Fc);return $f(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Bf=j.createContext(void 0);Bf.displayName="FrameworkContext";function tw(){let t=j.useContext(Bf);return $f(t,"You must render this element inside a <HydratedRouter> element"),t}function oI(t,e){let n=j.useContext(Bf),[r,i]=j.useState(!1),[s,o]=j.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=e,g=j.useRef(null);j.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let A=_=>{_.forEach(x=>{o(x.isIntersecting)})},P=new IntersectionObserver(A,{threshold:.5});return g.current&&P.observe(g.current),()=>{P.disconnect()}}},[t]),j.useEffect(()=>{if(r){let A=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(A)}}},[r]);let T=()=>{i(!0)},C=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,g,{}]:[s,g,{onFocus:qs(c,T),onBlur:qs(u,C),onMouseEnter:qs(d,T),onMouseLeave:qs(f,C),onTouchStart:qs(p,T)}]:[!1,g,{}]}function qs(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function aI({page:t,...e}){let{router:n}=ew(),r=j.useMemo(()=>Hx(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?j.createElement(cI,{page:t,matches:r,...e}):null}function lI(t){let{manifest:e,routeModules:n}=tw(),[r,i]=j.useState([]);return j.useEffect(()=>{let s=!1;return ZT(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function cI({page:t,matches:e,...n}){let r=Un(),{manifest:i,routeModules:s}=tw(),{basename:o}=ew(),{loaderData:c,matches:u}=sI(),d=j.useMemo(()=>Yg(t,e,u,i,r,"data"),[t,e,u,i,r]),f=j.useMemo(()=>Yg(t,e,u,i,r,"assets"),[t,e,u,i,r]),p=j.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,A=!1;if(e.forEach(_=>{var b;let x=i.routes[_.route.id];!x||!x.hasLoader||(!d.some(D=>D.route.id===_.route.id)&&_.route.id in c&&((b=s[_.route.id])!=null&&b.shouldRevalidate)||x.hasClientLoader?A=!0:C.add(_.route.id))}),C.size===0)return[];let P=iI(t,o);return A&&C.size>0&&P.searchParams.set("_routes",e.filter(_=>C.has(_.route.id)).map(_=>_.route.id).join(",")),[P.pathname+P.search]},[o,c,r,i,d,e,t,s]),g=j.useMemo(()=>eI(f,i),[f,i]),T=lI(f);return j.createElement(j.Fragment,null,p.map(C=>j.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),g.map(C=>j.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),T.map(({key:C,link:A})=>j.createElement("link",{key:C,...A})))}function uI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var nw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nw&&(window.__reactRouterVersion="7.3.0")}catch{}function dI({basename:t,children:e,window:n}){let r=j.useRef();r.current==null&&(r.current=Z2({window:n,v5Compat:!0}));let i=r.current,[s,o]=j.useState({action:i.action,location:i.location}),c=j.useCallback(u=>{j.startTransition(()=>o(u))},[o]);return j.useLayoutEffect(()=>i.listen(c),[i,c]),j.createElement(zT,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var rw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iw=j.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:c,target:u,to:d,preventScrollReset:f,viewTransition:p,...g},T){let{basename:C}=j.useContext(Qt),A=typeof d=="string"&&rw.test(d),P,_=!1;if(typeof d=="string"&&A&&(P=d,nw))try{let E=new URL(window.location.href),w=d.startsWith("//")?new URL(E.protocol+d):new URL(d),S=jn(w.pathname,C);w.origin===E.origin&&S!=null?d=S+w.search+w.hash:_=!0}catch{Kt(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=IT(d,{relative:i}),[b,D,V]=oI(r,g),U=pI(d,{replace:o,state:c,target:u,preventScrollReset:f,relative:i,viewTransition:p});function I(E){e&&e(E),E.defaultPrevented||U(E)}let v=j.createElement("a",{...g,...V,href:P||x,onClick:_||s?e:I,ref:uI(T,D),target:u,"data-discover":!A&&n==="render"?"true":void 0});return b&&!A?j.createElement(j.Fragment,null,v,j.createElement(aI,{page:x})):v});iw.displayName="Link";var hI=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:c,children:u,...d},f){let p=ea(o,{relative:d.relative}),g=Un(),T=j.useContext(Fc),{navigator:C,basename:A}=j.useContext(Qt),P=T!=null&&wI(p)&&c===!0,_=C.encodeLocation?C.encodeLocation(p).pathname:p.pathname,x=g.pathname,b=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(x=x.toLowerCase(),b=b?b.toLowerCase():null,_=_.toLowerCase()),b&&A&&(b=jn(b,A)||b);const D=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let V=x===_||!i&&x.startsWith(_)&&x.charAt(D)==="/",U=b!=null&&(b===_||!i&&b.startsWith(_)&&b.charAt(_.length)==="/"),I={isActive:V,isPending:U,isTransitioning:P},v=V?e:void 0,E;typeof r=="function"?E=r(I):E=[r,V?"active":null,U?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let w=typeof s=="function"?s(I):s;return j.createElement(iw,{...d,"aria-current":v,className:E,ref:f,style:w,to:o,viewTransition:c},typeof u=="function"?u(I):u)});hI.displayName="NavLink";var fI=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=ml,action:c,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:p,...g},T)=>{let C=vI(),A=xI(c,{relative:d}),P=o.toLowerCase()==="get"?"get":"post",_=typeof c=="string"&&rw.test(c),x=b=>{if(u&&u(b),b.defaultPrevented)return;b.preventDefault();let D=b.nativeEvent.submitter,V=(D==null?void 0:D.getAttribute("formmethod"))||o;C(D||b.currentTarget,{fetcherKey:e,method:V,navigate:n,replace:i,state:s,relative:d,preventScrollReset:f,viewTransition:p})};return j.createElement("form",{ref:T,method:P,action:A,onSubmit:r?u:x,...g,"data-discover":!_&&t==="render"?"true":void 0})});fI.displayName="Form";function mI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sw(t){let e=j.useContext(ms);return we(e,mI(t)),e}function pI(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let c=Zo(),u=Un(),d=ea(t,{relative:s});return j.useCallback(f=>{if(KT(f,e)){f.preventDefault();let p=n!==void 0?n:Mo(u)===Mo(d);c(t,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[u,c,d,n,r,e,t,i,s,o])}var gI=0,yI=()=>`__${String(++gI)}__`;function vI(){let{router:t}=sw("useSubmit"),{basename:e}=j.useContext(Qt),n=MT();return j.useCallback(async(r,i={})=>{let{action:s,method:o,encType:c,formData:u,body:d}=YT(r,e);if(i.navigate===!1){let f=i.fetcherKey||yI();await t.fetch(f,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||o,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||o,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function xI(t,{relative:e}={}){let{basename:n}=j.useContext(Qt),r=j.useContext(un);we(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...ea(t||".",{relative:e})},o=Un();if(t==null){s.search=o.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(p=>p).forEach(p=>c.append("index",p));let f=c.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Sn([n,s.pathname])),Mo(s)}function wI(t,e={}){let n=j.useContext(Qx);we(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=sw("useViewTransitionState"),i=ea(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=jn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=jn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Jl(i.pathname,o)!=null||Jl(i.pathname,s)!=null}new TextEncoder;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _I={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),gs=(t,e)=>{const n=j.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:c="",children:u,...d},f)=>j.createElement("svg",{ref:f,..._I,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${EI(t)}`,c].join(" "),...d},[...e.map(([p,g])=>j.createElement(p,g)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=gs("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=gs("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=gs("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=gs("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=gs("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=gs("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var kI=typeof Element<"u",AI=typeof Map=="function",RI=typeof Set=="function",PI=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function gl(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!gl(t[r],e[r]))return!1;return!0}var s;if(AI&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!gl(r.value[1],e.get(r.value[0])))return!1;return!0}if(RI&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(PI&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(kI&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!gl(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var jI=function(e,n){try{return gl(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const DI=Ec(jI);var OI=function(t,e,n,r,i,s,o,c){if(!t){var u;if(e===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,r,i,s,o,c],f=0;u=new Error(e.replace(/%s/g,function(){return d[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}},MI=OI;const Xg=Ec(MI);var LI=function(e,n,r,i){var s=r?r.call(i,e,n):void 0;if(s!==void 0)return!!s;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),c=Object.keys(n);if(o.length!==c.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(n),d=0;d<o.length;d++){var f=o[d];if(!u(f))return!1;var p=e[f],g=n[f];if(s=r?r.call(i,p,g,f):void 0,s===!1||s===void 0&&p!==g)return!1}return!0};const VI=Ec(LI);var ow=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(ow||{}),rd={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Jg=Object.values(ow),Wf={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},FI=Object.entries(Wf).reduce((t,[e,n])=>(t[n]=e,t),{}),$t="data-rh",$i={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Bi=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},UI=t=>{let e=Bi(t,"title");const n=Bi(t,$i.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=Bi(t,$i.DEFAULT_TITLE);return e||r||void 0},zI=t=>Bi(t,$i.ON_CHANGE_CLIENT_STATE)||(()=>{}),id=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),$I=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const c=i[s].toLowerCase();if(t.indexOf(c)!==-1&&r[c])return n.concat(r)}}return n},[]),BI=t=>console&&typeof console.warn=="function"&&console.warn(t),Ks=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&BI(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,s)=>{const o={};s.filter(u=>{let d;const f=Object.keys(u);for(let g=0;g<f.length;g+=1){const T=f[g],C=T.toLowerCase();e.indexOf(C)!==-1&&!(d==="rel"&&u[d].toLowerCase()==="canonical")&&!(C==="rel"&&u[C].toLowerCase()==="stylesheet")&&(d=C),e.indexOf(T)!==-1&&(T==="innerHTML"||T==="cssText"||T==="itemprop")&&(d=T)}if(!d||!u[d])return!1;const p=u[d].toLowerCase();return r[d]||(r[d]={}),o[d]||(o[d]={}),r[d][p]?!1:(o[d][p]=!0,!0)}).reverse().forEach(u=>i.push(u));const c=Object.keys(o);for(let u=0;u<c.length;u+=1){const d=c[u],f={...r[d],...o[d]};r[d]=f}return i},[]).reverse()},WI=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},HI=t=>({baseTag:$I(["href"],t),bodyAttributes:id("bodyAttributes",t),defer:Bi(t,$i.DEFER),encode:Bi(t,$i.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:id("htmlAttributes",t),linkTags:Ks("link",["rel","href"],t),metaTags:Ks("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:Ks("noscript",["innerHTML"],t),onChangeClientState:zI(t),scriptTags:Ks("script",["src","innerHTML"],t),styleTags:Ks("style",["cssText"],t),title:UI(t),titleAttributes:id("titleAttributes",t),prioritizeSeoTags:WI(t,$i.PRIORITIZE_SEO_TAGS)}),aw=t=>Array.isArray(t)?t.join(""):t,qI=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},sd=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(qI(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},Zg=(t,e)=>({...t,[e]:void 0}),KI=["noscript","script","style"],fh=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),lw=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),GI=(t,e,n,r)=>{const i=lw(n),s=aw(e);return i?`<${t} ${$t}="true" ${i}>${fh(s,r)}</${t}>`:`<${t} ${$t}="true">${fh(s,r)}</${t}>`},QI=(t,e,n=!0)=>e.reduce((r,i)=>{const s=i,o=Object.keys(s).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,f)=>{const p=typeof s[f]>"u"?f:`${f}="${fh(s[f],n)}"`;return d?`${d} ${p}`:p},""),c=s.innerHTML||s.cssText||"",u=KI.indexOf(t)===-1;return`${r}<${t} ${$t}="true" ${o}${u?"/>":`>${c}</${t}>`}`},""),cw=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=Wf[r];return n[i||r]=t[r],n},e),YI=(t,e,n)=>{const r={key:e,[$t]:!0},i=cw(n,r);return[rr.createElement("title",i,e)]},yl=(t,e)=>e.map((n,r)=>{const i={key:r,[$t]:!0};return Object.keys(n).forEach(s=>{const c=Wf[s]||s;if(c==="innerHTML"||c==="cssText"){const u=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:u}}else i[c]=n[s]}),rr.createElement(t,i)}),St=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>YI(t,e.title,e.titleAttributes),toString:()=>GI(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>cw(e),toString:()=>lw(e)};default:return{toComponent:()=>yl(t,e),toString:()=>QI(t,e,n)}}},XI=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=sd(t,rd.meta),s=sd(e,rd.link),o=sd(n,rd.script);return{priorityMethods:{toComponent:()=>[...yl("meta",i.priority),...yl("link",s.priority),...yl("script",o.priority)],toString:()=>`${St("meta",i.priority,r)} ${St("link",s.priority,r)} ${St("script",o.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:o.default}},JI=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:o,title:c="",titleAttributes:u,prioritizeSeoTags:d}=t;let{linkTags:f,metaTags:p,scriptTags:g}=t,T={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:T,linkTags:f,metaTags:p,scriptTags:g}=XI(t)),{priority:T,base:St("base",e,r),bodyAttributes:St("bodyAttributes",n,r),htmlAttributes:St("htmlAttributes",i,r),link:St("link",f,r),meta:St("meta",p,r),noscript:St("noscript",s,r),script:St("script",g,r),style:St("style",o,r),title:St("title",{title:c,titleAttributes:u},r)}},mh=JI,Ka=[],uw=!!(typeof window<"u"&&window.document&&window.document.createElement),ph=class{constructor(t,e){yn(this,"instances",[]);yn(this,"canUseDOM",uw);yn(this,"context");yn(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Ka:this.instances,add:t=>{(this.canUseDOM?Ka:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?Ka:this.instances).indexOf(t);(this.canUseDOM?Ka:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=mh({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},ZI={},dw=rr.createContext(ZI),Hr,hw=(Hr=class extends j.Component{constructor(n){super(n);yn(this,"helmetData");this.helmetData=new ph(this.props.context||{},Hr.canUseDOM)}render(){return rr.createElement(dw.Provider,{value:this.helmetData.value},this.props.children)}},yn(Hr,"canUseDOM",uw),Hr),gi=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${$t}]`),i=[].slice.call(r),s=[];let o;return e&&e.length&&e.forEach(c=>{const u=document.createElement(t);for(const d in c)if(Object.prototype.hasOwnProperty.call(c,d))if(d==="innerHTML")u.innerHTML=c.innerHTML;else if(d==="cssText")u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{const f=d,p=typeof c[f]>"u"?"":c[f];u.setAttribute(d,p)}u.setAttribute($t,"true"),i.some((d,f)=>(o=f,u.isEqualNode(d)))?i.splice(o,1):s.push(u)}),i.forEach(c=>{var u;return(u=c.parentNode)==null?void 0:u.removeChild(c)}),s.forEach(c=>n.appendChild(c)),{oldTags:i,newTags:s}},gh=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute($t),i=r?r.split(","):[],s=[...i],o=Object.keys(e);for(const c of o){const u=e[c]||"";n.getAttribute(c)!==u&&n.setAttribute(c,u),i.indexOf(c)===-1&&i.push(c);const d=s.indexOf(c);d!==-1&&s.splice(d,1)}for(let c=s.length-1;c>=0;c-=1)n.removeAttribute(s[c]);i.length===s.length?n.removeAttribute($t):n.getAttribute($t)!==o.join(",")&&n.setAttribute($t,o.join(","))},eN=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=aw(t)),gh("title",e)},e0=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:o,noscriptTags:c,onChangeClientState:u,scriptTags:d,styleTags:f,title:p,titleAttributes:g}=t;gh("body",r),gh("html",i),eN(p,g);const T={baseTag:gi("base",n),linkTags:gi("link",s),metaTags:gi("meta",o),noscriptTags:gi("noscript",c),scriptTags:gi("script",d),styleTags:gi("style",f)},C={},A={};Object.keys(T).forEach(P=>{const{newTags:_,oldTags:x}=T[P];_.length&&(C[P]=_),x.length&&(A[P]=T[P].oldTags)}),e&&e(),u(t,C,A)},Gs=null,tN=t=>{Gs&&cancelAnimationFrame(Gs),t.defer?Gs=requestAnimationFrame(()=>{e0(t,()=>{Gs=null})}):(e0(t),Gs=null)},nN=tN,t0=class extends j.Component{constructor(){super(...arguments);yn(this,"rendered",!1)}shouldComponentUpdate(e){return!VI(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=HI(e.get().map(s=>{const o={...s.props};return delete o.context,o}));hw.canUseDOM?nN(i):mh&&(r=mh(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},vd,rN=(vd=class extends j.Component{shouldComponentUpdate(t){return!DI(Zg(this.props,"helmetData"),Zg(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return Xg(Jg.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Jg.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),Xg(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return rr.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...s}=r.props,o=Object.keys(s).reduce((u,d)=>(u[FI[d]||d]=s[d],u),{});let{type:c}=r;switch(typeof c=="symbol"?c=c.toString():this.warnOnInvalidChildren(r,i),c){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,o,i);break;default:e=this.mapObjectTypeChildren(r,e,o,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof ph)){const i=r;r=new ph(i.context,!0),delete n.helmetData}return r?rr.createElement(t0,{...n,context:r.value}):rr.createElement(dw.Consumer,null,i=>rr.createElement(t0,{...n,context:i}))}},yn(vd,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),vd);function n0({setMobileMenuOpen:t}){const e=Zo(),r=Un().pathname,[i,s]=j.useState(!1);j.useEffect(()=>{const u=()=>{s(window.scrollY>20)};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]);const o=[{path:"/",label:"Home",icon:II},{path:"/services",label:"Services",icon:TI},{path:"/guide",label:"Guides",icon:bI},{path:"/about",label:"About",icon:SI}],c=u=>{e(u),t==null||t(!1)};return l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:`flex flex-col md:flex-row md:items-center transition-all duration-300 ${i?"md:py-2":"md:py-4"}`,children:[o.map(u=>l.jsxs("button",{onClick:()=>c(u.path),className:`
              relative px-3 py-1.5 rounded-lg text-sm font-medium flex items-center 
              transition-all duration-300 ease-in-out group overflow-hidden
              md:mx-2
              ${r===u.path?"text-white bg-blue-700 md:bg-blue-700 md:text-white shadow-md":"text-white hover:bg-blue-600/40"}
              my-1 md:my-0
            `,children:[l.jsx("span",{className:"absolute inset-0 w-0 bg-blue-500/30 transition-all duration-300 ease-in-out group-hover:w-full"}),l.jsx(u.icon,{className:`mr-2 transition-transform duration-300 group-hover:scale-110 ${r===u.path?"text-white":"text-blue-200"}`,size:20}),l.jsx("span",{className:"relative z-10",children:u.label}),r===u.path&&l.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-full bg-white transform origin-left"})]},u.path)),l.jsx("button",{onClick:()=>e("/contact"),className:`
            hidden md:inline-block px-5 py-1.5 bg-white text-blue-900 rounded-full text-base font-medium 
            hover:bg-blue-50 transition-all duration-300 ml-4
            hover:shadow-md hover:scale-105 active:scale-95
          `,children:"Contact Us"})]})})}const iN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='900'%20height='600'%20viewBox='0%200%203%202'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='1'%20height='2'%20fill='%23009246'/%3e%3crect%20width='1'%20height='2'%20x='1'%20fill='%23fff'/%3e%3crect%20width='1'%20height='2'%20x='2'%20fill='%23ce2b37'/%3e%3c/svg%3e",sN="/assets/facebook-DqEEJdSt.png",oN="/assets/twitter-7VgRLBVu.png",aN="/assets/linkedin-BePj2NMB.png",lN="/assets/whatsapp-C_r0qu2D.png",cN="/assets/footer_l-Bbj7mo_1.png";function uN(){return l.jsx("footer",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 mt-16 border-t border-blue-100",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"py-10 grid grid-cols-1 md:grid-cols-2 items-center gap-8",children:[l.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[l.jsx("img",{src:cN,alt:"Logo",className:"h-32 w-auto"}),l.jsx("div",{className:"-mt-6 text-center md:text-left",children:l.jsx("p",{className:"text-gray-600 mt-0",children:"Immigration & Tax Consultant"})})]}),l.jsxs("div",{className:"flex flex-col items-center md:items-end",children:[l.jsx("p",{className:"text-gray-600 mb-3 font-medium",children:"Follow us"}),l.jsxs("div",{className:"flex space-x-5",children:[l.jsx("a",{href:"#",className:"text-blue-800 hover:text-blue-900 transition-colors duration-200","aria-label":"Facebook",children:l.jsx("img",{src:sN,alt:"Facebook",className:"w-6 h-6 hover:scale-110 transition-transform [filter:brightness(0)_saturate(100%)_invert(39%)_sepia(98%)_saturate(1900%)_hue-rotate(206deg)_brightness(97%)_contrast(95%)]"})}),l.jsx("a",{href:"#",className:"text-blue-800 hover:text-blue-900 transition-colors duration-200","aria-label":"X (Twitter)",children:l.jsx("img",{src:oN,alt:"Twitter",className:"w-6 h-6 hover:scale-110 transition-transform [filter:brightness(0)_saturate(100%)_invert(39%)_sepia(98%)_saturate(1900%)_hue-rotate(206deg)_brightness(97%)_contrast(95%)]"})}),l.jsx("a",{href:"#",className:"text-blue-800 hover:text-blue-900 transition-colors duration-200","aria-label":"LinkedIn",children:l.jsx("img",{src:aN,alt:"LinkedIn",className:"w-6 h-6 hover:scale-110 transition-transform [filter:brightness(0)_saturate(100%)_invert(39%)_sepia(98%)_saturate(1900%)_hue-rotate(206deg)_brightness(97%)_contrast(95%)]"})}),l.jsx("a",{href:"https://wa.me/393516737374",target:"_blank",rel:"noopener noreferrer",className:"text-blue-800 hover:text-blue-900 transition-colors duration-200","aria-label":"WhatsApp",children:l.jsx("img",{src:lN,alt:"WhatsApp",className:"w-6 h-6 hover:scale-110 transition-transform [filter:brightness(0)_saturate(100%)_invert(39%)_sepia(98%)_saturate(1900%)_hue-rotate(206deg)_brightness(97%)_contrast(95%)]"})})]})]})]}),l.jsxs("div",{className:"py-8 border-t border-blue-100 grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[l.jsx("h4",{className:"text-lg font-medium text-blue-800 mb-4",children:"Contact Us"}),l.jsxs("address",{className:"not-italic text-gray-600 text-sm space-y-2",children:[l.jsx("p",{children:"Khadija Zouine"}),l.jsx("p",{children:"Corso Giulio Cesare 118C"}),l.jsx("p",{children:"Turin, 10154"}),l.jsx("p",{children:"VAT: 12744510012"})]})]}),l.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[l.jsx("h4",{className:"text-lg font-medium text-blue-800 mb-4",children:"Quick Links"}),l.jsxs("nav",{className:"flex flex-col space-y-2 text-sm",children:[l.jsx("a",{href:"#",className:"text-gray-600 hover:text-blue-700 transition-colors",children:"Privacy & Cookie Policy"}),l.jsx("a",{href:"#",className:"text-gray-600 hover:text-blue-700 transition-colors",children:"Terms and Conditions"}),l.jsx("a",{href:"#",className:"text-gray-600 hover:text-blue-700 transition-colors",children:"Services"}),l.jsx("a",{href:"#",className:"text-gray-600 hover:text-blue-700 transition-colors",children:"Contact"})]})]}),l.jsxs("div",{className:"flex flex-col items-center md:items-end",children:[l.jsx("h4",{className:"text-lg font-medium text-blue-800 mb-4",children:"Language"}),l.jsx("div",{className:"flex space-x-3",children:l.jsx("a",{href:"#",className:"flex items-center space-x-2 text-gray-600 hover:text-blue-700 transition-colors",children:l.jsx("img",{src:iN,className:"h-5 w-7 shadow-sm"})})})]})]}),l.jsx("div",{className:"py-6 border-t border-blue-100",children:l.jsx("p",{className:"text-xs text-gray-500 leading-relaxed text-center",children:"E-Co Fisco Immigration Specialists is an agency for foreigners specialized in administrative assistance and advice for immigration in Italy and, when necessary, puts you in touch with an immigration expert. The information provided on this website is for general informational purposes only and does not constitute legal advice. We recommend that you consult directly with an immigration attorney working with us for specific advice regarding your individual situation."})}),l.jsx("div",{className:"py-4 border-t border-blue-100 text-center",children:l.jsxs("p",{className:"text-xs text-gray-500",children:[" ",new Date().getFullYear()," E-Co Fisco Immigration & Tax Consultant. All rights reserved."]})})]})})}const yi="/assets/italy-D-Ds6erS.png",dN="/assets/hero-DgLdeEAZ.jpg",hN=()=>{};var r0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},mw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|c>>4;let g=(c&15)<<2|d>>6,T=d&63;u||(T=64,o||(g=64)),r.push(n[f],n[p],n[g],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||p==null)throw new mN;const g=s<<2|c>>4;if(r.push(g),d!==64){const T=c<<4&240|d>>2;if(r.push(T),p!==64){const C=d<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pN=function(t){const e=fw(t);return mw.encodeByteArray(e,!0)},Zl=function(t){return pN(t).replace(/\./g,"")},pw=function(t){try{return mw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=()=>gN().__FIREBASE_DEFAULTS__,vN=()=>{if(typeof process>"u"||typeof r0>"u")return;const t=r0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pw(t[1]);return e&&JSON.parse(e)},zc=()=>{try{return hN()||yN()||vN()||xN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gw=t=>{var e,n;return(n=(e=zc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wN=t=>{const e=gw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yw=()=>{var t;return(t=zc())===null||t===void 0?void 0:t.config},vw=t=>{var e;return(e=zc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zl(JSON.stringify(n)),Zl(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function TN(){var t;const e=(t=zc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CN(){const t=ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kN(){return!TN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AN(){try{return typeof indexedDB=="object"}catch{return!1}}function RN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="FirebaseError";class zn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PN,Object.setPrototypeOf(this,zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ta.prototype.create)}}class ta{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?jN(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new zn(i,c,r)}}function jN(t,e){return t.replace(DN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const DN=/\{\$([^}]+)}/g;function ON(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ei(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(i0(s)&&i0(o)){if(!ei(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function i0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function MN(t,e){const n=new LN(t,e);return n.subscribe.bind(n)}class LN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=od),i.error===void 0&&(i.error=od),i.complete===void 0&&(i.complete=od);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function od(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){return t&&t._delegate?t._delegate:t}class ti{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _N;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zN(e))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fr){return this.instances.has(e)}getOptions(e=Fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fr){return this.component?this.component.multipleInstances?e:Fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UN(t){return t===Fr?void 0:t}function zN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ee||(ee={}));const BN={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},WN=ee.INFO,HN={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},qN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=HN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hf{constructor(e){this.name=e,this._logLevel=WN,this._logHandler=qN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}}const KN=(t,e)=>e.some(n=>t instanceof n);let s0,o0;function GN(){return s0||(s0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QN(){return o0||(o0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xw=new WeakMap,yh=new WeakMap,ww=new WeakMap,ad=new WeakMap,qf=new WeakMap;function YN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(pr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xw.set(n,t)}).catch(()=>{}),qf.set(e,t),e}function XN(t){if(yh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});yh.set(t,e)}let vh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ww.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JN(t){vh=t(vh)}function ZN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ld(this),e,...n);return ww.set(r,e.sort?e.sort():[e]),pr(r)}:QN().includes(t)?function(...e){return t.apply(ld(this),e),pr(xw.get(this))}:function(...e){return pr(t.apply(ld(this),e))}}function eS(t){return typeof t=="function"?ZN(t):(t instanceof IDBTransaction&&XN(t),KN(t,GN())?new Proxy(t,vh):t)}function pr(t){if(t instanceof IDBRequest)return YN(t);if(ad.has(t))return ad.get(t);const e=eS(t);return e!==t&&(ad.set(t,e),qf.set(e,t)),e}const ld=t=>qf.get(t);function tS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),c=pr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(pr(o.result),u.oldVersion,u.newVersion,pr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const nS=["get","getKey","getAll","getAllKeys","count"],rS=["put","add","delete","clear"],cd=new Map;function a0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cd.get(e))return cd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nS.includes(n)))return;const s=async function(o,...c){const u=this.transaction(o,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&u.done]))[0]};return cd.set(e,s),s}JN(t=>({...t,get:(e,n,r)=>a0(e,n)||t.get(e,n,r),has:(e,n)=>!!a0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xh="@firebase/app",l0="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn=new Hf("@firebase/app"),oS="@firebase/app-compat",aS="@firebase/analytics-compat",lS="@firebase/analytics",cS="@firebase/app-check-compat",uS="@firebase/app-check",dS="@firebase/auth",hS="@firebase/auth-compat",fS="@firebase/database",mS="@firebase/data-connect",pS="@firebase/database-compat",gS="@firebase/functions",yS="@firebase/functions-compat",vS="@firebase/installations",xS="@firebase/installations-compat",wS="@firebase/messaging",_S="@firebase/messaging-compat",ES="@firebase/performance",bS="@firebase/performance-compat",TS="@firebase/remote-config",IS="@firebase/remote-config-compat",NS="@firebase/storage",SS="@firebase/storage-compat",CS="@firebase/firestore",kS="@firebase/vertexai",AS="@firebase/firestore-compat",RS="firebase",PS="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="[DEFAULT]",jS={[xh]:"fire-core",[oS]:"fire-core-compat",[lS]:"fire-analytics",[aS]:"fire-analytics-compat",[uS]:"fire-app-check",[cS]:"fire-app-check-compat",[dS]:"fire-auth",[hS]:"fire-auth-compat",[fS]:"fire-rtdb",[mS]:"fire-data-connect",[pS]:"fire-rtdb-compat",[gS]:"fire-fn",[yS]:"fire-fn-compat",[vS]:"fire-iid",[xS]:"fire-iid-compat",[wS]:"fire-fcm",[_S]:"fire-fcm-compat",[ES]:"fire-perf",[bS]:"fire-perf-compat",[TS]:"fire-rc",[IS]:"fire-rc-compat",[NS]:"fire-gcs",[SS]:"fire-gcs-compat",[CS]:"fire-fst",[AS]:"fire-fst-compat",[kS]:"fire-vertex","fire-js":"fire-js",[RS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=new Map,DS=new Map,_h=new Map;function c0(t,e){try{t.container.addComponent(e)}catch(n){Dn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ts(t){const e=t.name;if(_h.has(e))return Dn.debug(`There were multiple attempts to register component ${e}.`),!1;_h.set(e,t);for(const n of ec.values())c0(n,t);for(const n of DS.values())c0(n,t);return!0}function Kf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new ta("app","Firebase",OS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=PS;function _w(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw gr.create("bad-app-name",{appName:String(i)});if(n||(n=yw()),!n)throw gr.create("no-options");const s=ec.get(i);if(s){if(ei(n,s.options)&&ei(r,s.config))return s;throw gr.create("duplicate-app",{appName:i})}const o=new $N(i);for(const u of _h.values())o.addComponent(u);const c=new MS(n,r,o);return ec.set(i,c),c}function Ew(t=wh){const e=ec.get(t);if(!e&&t===wh&&yw())return _w();if(!e)throw gr.create("no-app",{appName:t});return e}function yr(t,e,n){var r;let i=(r=jS[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dn.warn(c.join(" "));return}ts(new ti(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="firebase-heartbeat-database",VS=1,Lo="firebase-heartbeat-store";let ud=null;function bw(){return ud||(ud=tS(LS,VS,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lo)}catch(n){console.warn(n)}}}}).catch(t=>{throw gr.create("idb-open",{originalErrorMessage:t.message})})),ud}async function FS(t){try{const n=(await bw()).transaction(Lo),r=await n.objectStore(Lo).get(Tw(t));return await n.done,r}catch(e){if(e instanceof zn)Dn.warn(e.message);else{const n=gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dn.warn(n.message)}}}async function u0(t,e){try{const r=(await bw()).transaction(Lo,"readwrite");await r.objectStore(Lo).put(e,Tw(t)),await r.done}catch(n){if(n instanceof zn)Dn.warn(n.message);else{const r=gr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dn.warn(r.message)}}}function Tw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=1024,zS=30;class $S{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=d0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>zS){const o=HS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Dn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=d0(),{heartbeatsToSend:r,unsentEntries:i}=BS(this._heartbeatsCache.heartbeats),s=Zl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Dn.warn(n),""}}}function d0(){return new Date().toISOString().substring(0,10)}function BS(t,e=US){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),h0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),h0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AN()?RN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return u0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return u0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function h0(t){return Zl(JSON.stringify({version:2,heartbeats:t})).length}function HS(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(t){ts(new ti("platform-logger",e=>new iS(e),"PRIVATE")),ts(new ti("heartbeat",e=>new $S(e),"PRIVATE")),yr(xh,l0,t),yr(xh,l0,"esm2017"),yr("fire-js","")}qS("");var f0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vr,Iw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,v){function E(){}E.prototype=v.prototype,I.D=v.prototype,I.prototype=new E,I.prototype.constructor=I,I.C=function(w,S,k){for(var N=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)N[ve-2]=arguments[ve];return v.prototype[S].apply(w,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,E){E||(E=0);var w=Array(16);if(typeof v=="string")for(var S=0;16>S;++S)w[S]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(S=0;16>S;++S)w[S]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=I.g[0],E=I.g[1],S=I.g[2];var k=I.g[3],N=v+(k^E&(S^k))+w[0]+3614090360&4294967295;v=E+(N<<7&4294967295|N>>>25),N=k+(S^v&(E^S))+w[1]+3905402710&4294967295,k=v+(N<<12&4294967295|N>>>20),N=S+(E^k&(v^E))+w[2]+606105819&4294967295,S=k+(N<<17&4294967295|N>>>15),N=E+(v^S&(k^v))+w[3]+3250441966&4294967295,E=S+(N<<22&4294967295|N>>>10),N=v+(k^E&(S^k))+w[4]+4118548399&4294967295,v=E+(N<<7&4294967295|N>>>25),N=k+(S^v&(E^S))+w[5]+1200080426&4294967295,k=v+(N<<12&4294967295|N>>>20),N=S+(E^k&(v^E))+w[6]+2821735955&4294967295,S=k+(N<<17&4294967295|N>>>15),N=E+(v^S&(k^v))+w[7]+4249261313&4294967295,E=S+(N<<22&4294967295|N>>>10),N=v+(k^E&(S^k))+w[8]+1770035416&4294967295,v=E+(N<<7&4294967295|N>>>25),N=k+(S^v&(E^S))+w[9]+2336552879&4294967295,k=v+(N<<12&4294967295|N>>>20),N=S+(E^k&(v^E))+w[10]+4294925233&4294967295,S=k+(N<<17&4294967295|N>>>15),N=E+(v^S&(k^v))+w[11]+2304563134&4294967295,E=S+(N<<22&4294967295|N>>>10),N=v+(k^E&(S^k))+w[12]+1804603682&4294967295,v=E+(N<<7&4294967295|N>>>25),N=k+(S^v&(E^S))+w[13]+4254626195&4294967295,k=v+(N<<12&4294967295|N>>>20),N=S+(E^k&(v^E))+w[14]+2792965006&4294967295,S=k+(N<<17&4294967295|N>>>15),N=E+(v^S&(k^v))+w[15]+1236535329&4294967295,E=S+(N<<22&4294967295|N>>>10),N=v+(S^k&(E^S))+w[1]+4129170786&4294967295,v=E+(N<<5&4294967295|N>>>27),N=k+(E^S&(v^E))+w[6]+3225465664&4294967295,k=v+(N<<9&4294967295|N>>>23),N=S+(v^E&(k^v))+w[11]+643717713&4294967295,S=k+(N<<14&4294967295|N>>>18),N=E+(k^v&(S^k))+w[0]+3921069994&4294967295,E=S+(N<<20&4294967295|N>>>12),N=v+(S^k&(E^S))+w[5]+3593408605&4294967295,v=E+(N<<5&4294967295|N>>>27),N=k+(E^S&(v^E))+w[10]+38016083&4294967295,k=v+(N<<9&4294967295|N>>>23),N=S+(v^E&(k^v))+w[15]+3634488961&4294967295,S=k+(N<<14&4294967295|N>>>18),N=E+(k^v&(S^k))+w[4]+3889429448&4294967295,E=S+(N<<20&4294967295|N>>>12),N=v+(S^k&(E^S))+w[9]+568446438&4294967295,v=E+(N<<5&4294967295|N>>>27),N=k+(E^S&(v^E))+w[14]+3275163606&4294967295,k=v+(N<<9&4294967295|N>>>23),N=S+(v^E&(k^v))+w[3]+4107603335&4294967295,S=k+(N<<14&4294967295|N>>>18),N=E+(k^v&(S^k))+w[8]+1163531501&4294967295,E=S+(N<<20&4294967295|N>>>12),N=v+(S^k&(E^S))+w[13]+2850285829&4294967295,v=E+(N<<5&4294967295|N>>>27),N=k+(E^S&(v^E))+w[2]+4243563512&4294967295,k=v+(N<<9&4294967295|N>>>23),N=S+(v^E&(k^v))+w[7]+1735328473&4294967295,S=k+(N<<14&4294967295|N>>>18),N=E+(k^v&(S^k))+w[12]+2368359562&4294967295,E=S+(N<<20&4294967295|N>>>12),N=v+(E^S^k)+w[5]+4294588738&4294967295,v=E+(N<<4&4294967295|N>>>28),N=k+(v^E^S)+w[8]+2272392833&4294967295,k=v+(N<<11&4294967295|N>>>21),N=S+(k^v^E)+w[11]+1839030562&4294967295,S=k+(N<<16&4294967295|N>>>16),N=E+(S^k^v)+w[14]+4259657740&4294967295,E=S+(N<<23&4294967295|N>>>9),N=v+(E^S^k)+w[1]+2763975236&4294967295,v=E+(N<<4&4294967295|N>>>28),N=k+(v^E^S)+w[4]+1272893353&4294967295,k=v+(N<<11&4294967295|N>>>21),N=S+(k^v^E)+w[7]+4139469664&4294967295,S=k+(N<<16&4294967295|N>>>16),N=E+(S^k^v)+w[10]+3200236656&4294967295,E=S+(N<<23&4294967295|N>>>9),N=v+(E^S^k)+w[13]+681279174&4294967295,v=E+(N<<4&4294967295|N>>>28),N=k+(v^E^S)+w[0]+3936430074&4294967295,k=v+(N<<11&4294967295|N>>>21),N=S+(k^v^E)+w[3]+3572445317&4294967295,S=k+(N<<16&4294967295|N>>>16),N=E+(S^k^v)+w[6]+76029189&4294967295,E=S+(N<<23&4294967295|N>>>9),N=v+(E^S^k)+w[9]+3654602809&4294967295,v=E+(N<<4&4294967295|N>>>28),N=k+(v^E^S)+w[12]+3873151461&4294967295,k=v+(N<<11&4294967295|N>>>21),N=S+(k^v^E)+w[15]+530742520&4294967295,S=k+(N<<16&4294967295|N>>>16),N=E+(S^k^v)+w[2]+3299628645&4294967295,E=S+(N<<23&4294967295|N>>>9),N=v+(S^(E|~k))+w[0]+4096336452&4294967295,v=E+(N<<6&4294967295|N>>>26),N=k+(E^(v|~S))+w[7]+1126891415&4294967295,k=v+(N<<10&4294967295|N>>>22),N=S+(v^(k|~E))+w[14]+2878612391&4294967295,S=k+(N<<15&4294967295|N>>>17),N=E+(k^(S|~v))+w[5]+4237533241&4294967295,E=S+(N<<21&4294967295|N>>>11),N=v+(S^(E|~k))+w[12]+1700485571&4294967295,v=E+(N<<6&4294967295|N>>>26),N=k+(E^(v|~S))+w[3]+2399980690&4294967295,k=v+(N<<10&4294967295|N>>>22),N=S+(v^(k|~E))+w[10]+4293915773&4294967295,S=k+(N<<15&4294967295|N>>>17),N=E+(k^(S|~v))+w[1]+2240044497&4294967295,E=S+(N<<21&4294967295|N>>>11),N=v+(S^(E|~k))+w[8]+1873313359&4294967295,v=E+(N<<6&4294967295|N>>>26),N=k+(E^(v|~S))+w[15]+4264355552&4294967295,k=v+(N<<10&4294967295|N>>>22),N=S+(v^(k|~E))+w[6]+2734768916&4294967295,S=k+(N<<15&4294967295|N>>>17),N=E+(k^(S|~v))+w[13]+1309151649&4294967295,E=S+(N<<21&4294967295|N>>>11),N=v+(S^(E|~k))+w[4]+4149444226&4294967295,v=E+(N<<6&4294967295|N>>>26),N=k+(E^(v|~S))+w[11]+3174756917&4294967295,k=v+(N<<10&4294967295|N>>>22),N=S+(v^(k|~E))+w[2]+718787259&4294967295,S=k+(N<<15&4294967295|N>>>17),N=E+(k^(S|~v))+w[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(S+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+S&4294967295,I.g[3]=I.g[3]+k&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var E=v-this.blockSize,w=this.B,S=this.h,k=0;k<v;){if(S==0)for(;k<=E;)i(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<v;)if(w[S++]=I.charCodeAt(k++),S==this.blockSize){i(this,w),S=0;break}}else for(;k<v;)if(w[S++]=I[k++],S==this.blockSize){i(this,w),S=0;break}}this.h=S,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var E=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=E&255,E/=256;for(this.u(I),I=Array(16),v=E=0;4>v;++v)for(var w=0;32>w;w+=8)I[E++]=this.g[v]>>>w&255;return I};function s(I,v){var E=c;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=v(I)}function o(I,v){this.h=v;for(var E=[],w=!0,S=I.length-1;0<=S;S--){var k=I[S]|0;w&&k==v||(E[S]=k,w=!1)}this.g=E}var c={};function u(I){return-128<=I&&128>I?s(I,function(v){return new o([v|0],0>v?-1:0)}):new o([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return P(d(-I));for(var v=[],E=1,w=0;I>=E;w++)v[w]=I/E|0,E*=4294967296;return new o(v,0)}function f(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return P(f(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=d(Math.pow(v,8)),w=p,S=0;S<I.length;S+=8){var k=Math.min(8,I.length-S),N=parseInt(I.substring(S,S+k),v);8>k?(k=d(Math.pow(v,k)),w=w.j(k).add(d(N))):(w=w.j(E),w=w.add(d(N)))}return w}var p=u(0),g=u(1),T=u(16777216);t=o.prototype,t.m=function(){if(A(this))return-P(this).m();for(var I=0,v=1,E=0;E<this.g.length;E++){var w=this.i(E);I+=(0<=w?w:4294967296+w)*v,v*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(A(this))return"-"+P(this).toString(I);for(var v=d(Math.pow(I,6)),E=this,w="";;){var S=D(E,v).g;E=_(E,S.j(v));var k=((0<E.g.length?E.g[0]:E.h)>>>0).toString(I);if(E=S,C(E))return k+w;for(;6>k.length;)k="0"+k;w=k+w}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function A(I){return I.h==-1}t.l=function(I){return I=_(this,I),A(I)?-1:C(I)?0:1};function P(I){for(var v=I.g.length,E=[],w=0;w<v;w++)E[w]=~I.g[w];return new o(E,~I.h).add(g)}t.abs=function(){return A(this)?P(this):this},t.add=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],w=0,S=0;S<=v;S++){var k=w+(this.i(S)&65535)+(I.i(S)&65535),N=(k>>>16)+(this.i(S)>>>16)+(I.i(S)>>>16);w=N>>>16,k&=65535,N&=65535,E[S]=N<<16|k}return new o(E,E[E.length-1]&-2147483648?-1:0)};function _(I,v){return I.add(P(v))}t.j=function(I){if(C(this)||C(I))return p;if(A(this))return A(I)?P(this).j(P(I)):P(P(this).j(I));if(A(I))return P(this.j(P(I)));if(0>this.l(T)&&0>I.l(T))return d(this.m()*I.m());for(var v=this.g.length+I.g.length,E=[],w=0;w<2*v;w++)E[w]=0;for(w=0;w<this.g.length;w++)for(var S=0;S<I.g.length;S++){var k=this.i(w)>>>16,N=this.i(w)&65535,ve=I.i(S)>>>16,ae=I.i(S)&65535;E[2*w+2*S]+=N*ae,x(E,2*w+2*S),E[2*w+2*S+1]+=k*ae,x(E,2*w+2*S+1),E[2*w+2*S+1]+=N*ve,x(E,2*w+2*S+1),E[2*w+2*S+2]+=k*ve,x(E,2*w+2*S+2)}for(w=0;w<v;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=v;w<2*v;w++)E[w]=0;return new o(E,0)};function x(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function b(I,v){this.g=I,this.h=v}function D(I,v){if(C(v))throw Error("division by zero");if(C(I))return new b(p,p);if(A(I))return v=D(P(I),v),new b(P(v.g),P(v.h));if(A(v))return v=D(I,P(v)),new b(P(v.g),v.h);if(30<I.g.length){if(A(I)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var E=g,w=v;0>=w.l(I);)E=V(E),w=V(w);var S=U(E,1),k=U(w,1);for(w=U(w,2),E=U(E,2);!C(w);){var N=k.add(w);0>=N.l(I)&&(S=S.add(E),k=N),w=U(w,1),E=U(E,1)}return v=_(I,S.j(v)),new b(S,v)}for(S=p;0<=I.l(v);){for(E=Math.max(1,Math.floor(I.m()/v.m())),w=Math.ceil(Math.log(E)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),k=d(E),N=k.j(v);A(N)||0<N.l(I);)E-=w,k=d(E),N=k.j(v);C(k)&&(k=g),S=S.add(k),I=_(I,N)}return new b(S,I)}t.A=function(I){return D(this,I).h},t.and=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)&I.i(w);return new o(E,this.h&I.h)},t.or=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)|I.i(w);return new o(E,this.h|I.h)},t.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)^I.i(w);return new o(E,this.h^I.h)};function V(I){for(var v=I.g.length+1,E=[],w=0;w<v;w++)E[w]=I.i(w)<<1|I.i(w-1)>>>31;return new o(E,I.h)}function U(I,v){var E=v>>5;v%=32;for(var w=I.g.length-E,S=[],k=0;k<w;k++)S[k]=0<v?I.i(k+E)>>>v|I.i(k+E+1)<<32-v:I.i(k+E);return new o(S,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Iw=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,vr=o}).apply(typeof f0<"u"?f0:typeof self<"u"?self:typeof window<"u"?window:{});var Ga=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nw,to,Sw,vl,Eh,Cw,kw,Aw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,m){return a==Array.prototype||a==Object.prototype||(a[h]=m.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ga=="object"&&Ga];for(var h=0;h<a.length;++h){var m=a[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var m=r;a=a.split(".");for(var y=0;y<a.length-1;y++){var R=a[y];if(!(R in m))break e;m=m[R]}a=a[a.length-1],y=m[a],h=h(y),h!=y&&h!=null&&e(m,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var m=0,y=!1,R={next:function(){if(!y&&m<a.length){var O=m++;return{value:h(O,a[O]),done:!1}}return y=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function d(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function f(a,h,m){return a.call.apply(a.bind,arguments)}function p(a,h,m){if(!a)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,y),a.apply(h,R)}}return function(){return a.apply(h,arguments)}}function g(a,h,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function T(a,h){var m=Array.prototype.slice.call(arguments,1);return function(){var y=m.slice();return y.push.apply(y,arguments),a.apply(this,y)}}function C(a,h){function m(){}m.prototype=h.prototype,a.aa=h.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(y,R,O){for(var z=Array(arguments.length-2),de=2;de<arguments.length;de++)z[de-2]=arguments[de];return h.prototype[R].apply(y,z)}}function A(a){const h=a.length;if(0<h){const m=Array(h);for(let y=0;y<h;y++)m[y]=a[y];return m}return[]}function P(a,h){for(let m=1;m<arguments.length;m++){const y=arguments[m];if(u(y)){const R=a.length||0,O=y.length||0;a.length=R+O;for(let z=0;z<O;z++)a[R+z]=y[z]}else a.push(y)}}class _{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function x(a){return/^[\s\xa0]*$/.test(a)}function b(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function D(a){return D[" "](a),a}D[" "]=function(){};var V=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function U(a,h,m){for(const y in a)h.call(m,a[y],y,a)}function I(a,h){for(const m in a)h.call(void 0,a[m],m,a)}function v(a){const h={};for(const m in a)h[m]=a[m];return h}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,h){let m,y;for(let R=1;R<arguments.length;R++){y=arguments[R];for(m in y)a[m]=y[m];for(let O=0;O<E.length;O++)m=E[O],Object.prototype.hasOwnProperty.call(y,m)&&(a[m]=y[m])}}function S(a){var h=1;a=a.split(":");const m=[];for(;0<h&&a.length;)m.push(a.shift()),h--;return a.length&&m.push(a.join(":")),m}function k(a){c.setTimeout(()=>{throw a},0)}function N(){var a=Q;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class ve{constructor(){this.h=this.g=null}add(h,m){const y=ae.get();y.set(h,m),this.h?this.h.next=y:this.g=y,this.h=y}}var ae=new _(()=>new fe,a=>a.reset());class fe{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Qe,$=!1,Q=new ve,J=()=>{const a=c.Promise.resolve(void 0);Qe=()=>{a.then(_e)}};var _e=()=>{for(var a;a=N();){try{a.h.call(a.g)}catch(m){k(m)}var h=ae;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}$=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ce(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Ce.prototype.h=function(){this.defaultPrevented=!0};var dn=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};c.addEventListener("test",m,h),c.removeEventListener("test",m,h)}catch{}return a}();function hn(a,h){if(Ce.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,y=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(V){e:{try{D(h.nodeName);var R=!0;break e}catch{}R=!1}R||(h=null)}}else m=="mouseover"?h=a.fromElement:m=="mouseout"&&(h=a.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:fn[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&hn.aa.h.call(this)}}C(hn,Ce);var fn={2:"touch",3:"pen",4:"mouse"};hn.prototype.h=function(){hn.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var mn="closure_listenable_"+(1e6*Math.random()|0),V1=0;function F1(a,h,m,y,R){this.listener=a,this.proxy=null,this.src=h,this.type=m,this.capture=!!y,this.ha=R,this.key=++V1,this.da=this.fa=!1}function da(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ha(a){this.src=a,this.g={},this.h=0}ha.prototype.add=function(a,h,m,y,R){var O=a.toString();a=this.g[O],a||(a=this.g[O]=[],this.h++);var z=au(a,h,y,R);return-1<z?(h=a[z],m||(h.fa=!1)):(h=new F1(h,this.src,O,!!y,R),h.fa=m,a.push(h)),h};function ou(a,h){var m=h.type;if(m in a.g){var y=a.g[m],R=Array.prototype.indexOf.call(y,h,void 0),O;(O=0<=R)&&Array.prototype.splice.call(y,R,1),O&&(da(h),a.g[m].length==0&&(delete a.g[m],a.h--))}}function au(a,h,m,y){for(var R=0;R<a.length;++R){var O=a[R];if(!O.da&&O.listener==h&&O.capture==!!m&&O.ha==y)return R}return-1}var lu="closure_lm_"+(1e6*Math.random()|0),cu={};function Mm(a,h,m,y,R){if(Array.isArray(h)){for(var O=0;O<h.length;O++)Mm(a,h[O],m,y,R);return null}return m=Fm(m),a&&a[mn]?a.K(h,m,d(y)?!!y.capture:!!y,R):U1(a,h,m,!1,y,R)}function U1(a,h,m,y,R,O){if(!h)throw Error("Invalid event type");var z=d(R)?!!R.capture:!!R,de=du(a);if(de||(a[lu]=de=new ha(a)),m=de.add(h,m,y,z,O),m.proxy)return m;if(y=z1(),m.proxy=y,y.src=a,y.listener=m,a.addEventListener)dn||(R=z),R===void 0&&(R=!1),a.addEventListener(h.toString(),y,R);else if(a.attachEvent)a.attachEvent(Vm(h.toString()),y);else if(a.addListener&&a.removeListener)a.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return m}function z1(){function a(m){return h.call(a.src,a.listener,m)}const h=$1;return a}function Lm(a,h,m,y,R){if(Array.isArray(h))for(var O=0;O<h.length;O++)Lm(a,h[O],m,y,R);else y=d(y)?!!y.capture:!!y,m=Fm(m),a&&a[mn]?(a=a.i,h=String(h).toString(),h in a.g&&(O=a.g[h],m=au(O,m,y,R),-1<m&&(da(O[m]),Array.prototype.splice.call(O,m,1),O.length==0&&(delete a.g[h],a.h--)))):a&&(a=du(a))&&(h=a.g[h.toString()],a=-1,h&&(a=au(h,m,y,R)),(m=-1<a?h[a]:null)&&uu(m))}function uu(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[mn])ou(h.i,a);else{var m=a.type,y=a.proxy;h.removeEventListener?h.removeEventListener(m,y,a.capture):h.detachEvent?h.detachEvent(Vm(m),y):h.addListener&&h.removeListener&&h.removeListener(y),(m=du(h))?(ou(m,a),m.h==0&&(m.src=null,h[lu]=null)):da(a)}}}function Vm(a){return a in cu?cu[a]:cu[a]="on"+a}function $1(a,h){if(a.da)a=!0;else{h=new hn(h,this);var m=a.listener,y=a.ha||a.src;a.fa&&uu(a),a=m.call(y,h)}return a}function du(a){return a=a[lu],a instanceof ha?a:null}var hu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fm(a){return typeof a=="function"?a:(a[hu]||(a[hu]=function(h){return a.handleEvent(h)}),a[hu])}function Ye(){ue.call(this),this.i=new ha(this),this.M=this,this.F=null}C(Ye,ue),Ye.prototype[mn]=!0,Ye.prototype.removeEventListener=function(a,h,m,y){Lm(this,a,h,m,y)};function at(a,h){var m,y=a.F;if(y)for(m=[];y;y=y.F)m.push(y);if(a=a.M,y=h.type||h,typeof h=="string")h=new Ce(h,a);else if(h instanceof Ce)h.target=h.target||a;else{var R=h;h=new Ce(y,a),w(h,R)}if(R=!0,m)for(var O=m.length-1;0<=O;O--){var z=h.g=m[O];R=fa(z,y,!0,h)&&R}if(z=h.g=a,R=fa(z,y,!0,h)&&R,R=fa(z,y,!1,h)&&R,m)for(O=0;O<m.length;O++)z=h.g=m[O],R=fa(z,y,!1,h)&&R}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var m=a.g[h],y=0;y<m.length;y++)da(m[y]);delete a.g[h],a.h--}}this.F=null},Ye.prototype.K=function(a,h,m,y){return this.i.add(String(a),h,!1,m,y)},Ye.prototype.L=function(a,h,m,y){return this.i.add(String(a),h,!0,m,y)};function fa(a,h,m,y){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var R=!0,O=0;O<h.length;++O){var z=h[O];if(z&&!z.da&&z.capture==m){var de=z.listener,ze=z.ha||z.src;z.fa&&ou(a.i,z),R=de.call(ze,y)!==!1&&R}}return R&&!y.defaultPrevented}function Um(a,h,m){if(typeof a=="function")m&&(a=g(a,m));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:c.setTimeout(a,h||0)}function zm(a){a.g=Um(()=>{a.g=null,a.i&&(a.i=!1,zm(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class B1 extends ue{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:zm(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Is(a){ue.call(this),this.h=a,this.g={}}C(Is,ue);var $m=[];function Bm(a){U(a.g,function(h,m){this.g.hasOwnProperty(m)&&uu(h)},a),a.g={}}Is.prototype.N=function(){Is.aa.N.call(this),Bm(this)},Is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fu=c.JSON.stringify,W1=c.JSON.parse,H1=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function mu(){}mu.prototype.h=null;function Wm(a){return a.h||(a.h=a.i())}function Hm(){}var Ns={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pu(){Ce.call(this,"d")}C(pu,Ce);function gu(){Ce.call(this,"c")}C(gu,Ce);var jr={},qm=null;function ma(){return qm=qm||new Ye}jr.La="serverreachability";function Km(a){Ce.call(this,jr.La,a)}C(Km,Ce);function Ss(a){const h=ma();at(h,new Km(h))}jr.STAT_EVENT="statevent";function Gm(a,h){Ce.call(this,jr.STAT_EVENT,a),this.stat=h}C(Gm,Ce);function lt(a){const h=ma();at(h,new Gm(h,a))}jr.Ma="timingevent";function Qm(a,h){Ce.call(this,jr.Ma,a),this.size=h}C(Qm,Ce);function Cs(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},h)}function ks(){this.g=!0}ks.prototype.xa=function(){this.g=!1};function q1(a,h,m,y,R,O){a.info(function(){if(a.g)if(O)for(var z="",de=O.split("&"),ze=0;ze<de.length;ze++){var se=de[ze].split("=");if(1<se.length){var Xe=se[0];se=se[1];var Je=Xe.split("_");z=2<=Je.length&&Je[1]=="type"?z+(Xe+"="+se+"&"):z+(Xe+"=redacted&")}}else z=null;else z=O;return"XMLHTTP REQ ("+y+") [attempt "+R+"]: "+h+`
`+m+`
`+z})}function K1(a,h,m,y,R,O,z){a.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+R+"]: "+h+`
`+m+`
`+O+" "+z})}function di(a,h,m,y){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+Q1(a,m)+(y?" "+y:"")})}function G1(a,h){a.info(function(){return"TIMEOUT: "+h})}ks.prototype.info=function(){};function Q1(a,h){if(!a.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var y=m[a];if(!(2>y.length)){var R=y[1];if(Array.isArray(R)&&!(1>R.length)){var O=R[0];if(O!="noop"&&O!="stop"&&O!="close")for(var z=1;z<R.length;z++)R[z]=""}}}}return fu(m)}catch{return h}}var pa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ym={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yu;function ga(){}C(ga,mu),ga.prototype.g=function(){return new XMLHttpRequest},ga.prototype.i=function(){return{}},yu=new ga;function $n(a,h,m,y){this.j=a,this.i=h,this.l=m,this.R=y||1,this.U=new Is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xm}function Xm(){this.i=null,this.g="",this.h=!1}var Jm={},vu={};function xu(a,h,m){a.L=1,a.v=wa(pn(h)),a.m=m,a.P=!0,Zm(a,null)}function Zm(a,h){a.F=Date.now(),ya(a),a.A=pn(a.v);var m=a.A,y=a.R;Array.isArray(y)||(y=[String(y)]),fp(m.i,"t",y),a.C=0,m=a.j.J,a.h=new Xm,a.g=Rp(a.j,m?h:null,!a.m),0<a.O&&(a.M=new B1(g(a.Y,a,a.g),a.O)),h=a.U,m=a.g,y=a.ca;var R="readystatechange";Array.isArray(R)||(R&&($m[0]=R.toString()),R=$m);for(var O=0;O<R.length;O++){var z=Mm(m,R[O],y||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),Ss(),q1(a.i,a.u,a.A,a.l,a.R,a.m)}$n.prototype.ca=function(a){a=a.target;const h=this.M;h&&gn(a)==3?h.j():this.Y(a)},$n.prototype.Y=function(a){try{if(a==this.g)e:{const Je=gn(this.g);var h=this.g.Ba();const mi=this.g.Z();if(!(3>Je)&&(Je!=3||this.g&&(this.h.h||this.g.oa()||wp(this.g)))){this.J||Je!=4||h==7||(h==8||0>=mi?Ss(3):Ss(2)),wu(this);var m=this.g.Z();this.X=m;t:if(ep(this)){var y=wp(this.g);a="";var R=y.length,O=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dr(this),As(this);var z="";break t}this.h.i=new c.TextDecoder}for(h=0;h<R;h++)this.h.h=!0,a+=this.h.i.decode(y[h],{stream:!(O&&h==R-1)});y.length=0,this.h.g+=a,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=m==200,K1(this.i,this.u,this.A,this.l,this.R,Je,m),this.o){if(this.T&&!this.K){t:{if(this.g){var de,ze=this.g;if((de=ze.g?ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(de)){var se=de;break t}}se=null}if(m=se)di(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_u(this,m);else{this.o=!1,this.s=3,lt(12),Dr(this),As(this);break e}}if(this.P){m=!0;let Lt;for(;!this.J&&this.C<z.length;)if(Lt=Y1(this,z),Lt==vu){Je==4&&(this.s=4,lt(14),m=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==Jm){this.s=4,lt(15),di(this.i,this.l,z,"[Invalid Chunk]"),m=!1;break}else di(this.i,this.l,Lt,null),_u(this,Lt);if(ep(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Je!=4||z.length!=0||this.h.h||(this.s=1,lt(16),m=!1),this.o=this.o&&m,!m)di(this.i,this.l,z,"[Invalid Chunked Response]"),Dr(this),As(this);else if(0<z.length&&!this.W){this.W=!0;var Xe=this.j;Xe.g==this&&Xe.ba&&!Xe.M&&(Xe.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Su(Xe),Xe.M=!0,lt(11))}}else di(this.i,this.l,z,null),_u(this,z);Je==4&&Dr(this),this.o&&!this.J&&(Je==4?Sp(this.j,this):(this.o=!1,ya(this)))}else fE(this.g),m==400&&0<z.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Dr(this),As(this)}}}catch{}finally{}};function ep(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Y1(a,h){var m=a.C,y=h.indexOf(`
`,m);return y==-1?vu:(m=Number(h.substring(m,y)),isNaN(m)?Jm:(y+=1,y+m>h.length?vu:(h=h.slice(y,y+m),a.C=y+m,h)))}$n.prototype.cancel=function(){this.J=!0,Dr(this)};function ya(a){a.S=Date.now()+a.I,tp(a,a.I)}function tp(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Cs(g(a.ba,a),h)}function wu(a){a.B&&(c.clearTimeout(a.B),a.B=null)}$n.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(G1(this.i,this.A),this.L!=2&&(Ss(),lt(17)),Dr(this),this.s=2,As(this)):tp(this,this.S-a)};function As(a){a.j.G==0||a.J||Sp(a.j,a)}function Dr(a){wu(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,Bm(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function _u(a,h){try{var m=a.j;if(m.G!=0&&(m.g==a||Eu(m.h,a))){if(!a.K&&Eu(m.h,a)&&m.G==3){try{var y=m.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var R=y;if(R[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)Na(m),Ta(m);else break e;Nu(m),lt(18)}}else m.za=R[1],0<m.za-m.T&&37500>R[2]&&m.F&&m.v==0&&!m.C&&(m.C=Cs(g(m.Za,m),6e3));if(1>=ip(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Mr(m,11)}else if((a.K||m.g==a)&&Na(m),!x(h))for(R=m.Da.g.parse(h),h=0;h<R.length;h++){let se=R[h];if(m.T=se[0],se=se[1],m.G==2)if(se[0]=="c"){m.K=se[1],m.ia=se[2];const Xe=se[3];Xe!=null&&(m.la=Xe,m.j.info("VER="+m.la));const Je=se[4];Je!=null&&(m.Aa=Je,m.j.info("SVER="+m.Aa));const mi=se[5];mi!=null&&typeof mi=="number"&&0<mi&&(y=1.5*mi,m.L=y,m.j.info("backChannelRequestTimeoutMs_="+y)),y=m;const Lt=a.g;if(Lt){const Ca=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ca){var O=y.h;O.g||Ca.indexOf("spdy")==-1&&Ca.indexOf("quic")==-1&&Ca.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(bu(O,O.h),O.h=null))}if(y.D){const Cu=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;Cu&&(y.ya=Cu,me(y.I,y.D,Cu))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),y=m;var z=a;if(y.qa=Ap(y,y.J?y.ia:null,y.W),z.K){sp(y.h,z);var de=z,ze=y.L;ze&&(de.I=ze),de.B&&(wu(de),ya(de)),y.g=z}else Ip(y);0<m.i.length&&Ia(m)}else se[0]!="stop"&&se[0]!="close"||Mr(m,7);else m.G==3&&(se[0]=="stop"||se[0]=="close"?se[0]=="stop"?Mr(m,7):Iu(m):se[0]!="noop"&&m.l&&m.l.ta(se),m.v=0)}}Ss(4)}catch{}}var X1=class{constructor(a,h){this.g=a,this.map=h}};function np(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rp(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function ip(a){return a.h?1:a.g?a.g.size:0}function Eu(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function bu(a,h){a.g?a.g.add(h):a.h=h}function sp(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}np.prototype.cancel=function(){if(this.i=op(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function op(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const m of a.g.values())h=h.concat(m.D);return h}return A(a.i)}function J1(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],m=a.length,y=0;y<m;y++)h.push(a[y]);return h}h=[],m=0;for(y in a)h[m++]=a[y];return h}function Z1(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var m=0;m<a;m++)h.push(m);return h}h=[],m=0;for(const y in a)h[m++]=y;return h}}}function ap(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var m=Z1(a),y=J1(a),R=y.length,O=0;O<R;O++)h.call(void 0,y[O],m&&m[O],a)}var lp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eE(a,h){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var y=a[m].indexOf("="),R=null;if(0<=y){var O=a[m].substring(0,y);R=a[m].substring(y+1)}else O=a[m];h(O,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function Or(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Or){this.h=a.h,va(this,a.j),this.o=a.o,this.g=a.g,xa(this,a.s),this.l=a.l;var h=a.i,m=new js;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),cp(this,m),this.m=a.m}else a&&(h=String(a).match(lp))?(this.h=!1,va(this,h[1]||"",!0),this.o=Rs(h[2]||""),this.g=Rs(h[3]||"",!0),xa(this,h[4]),this.l=Rs(h[5]||"",!0),cp(this,h[6]||"",!0),this.m=Rs(h[7]||"")):(this.h=!1,this.i=new js(null,this.h))}Or.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Ps(h,up,!0),":");var m=this.g;return(m||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Ps(h,up,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(Ps(m,m.charAt(0)=="/"?rE:nE,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",Ps(m,sE)),a.join("")};function pn(a){return new Or(a)}function va(a,h,m){a.j=m?Rs(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function xa(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function cp(a,h,m){h instanceof js?(a.i=h,oE(a.i,a.h)):(m||(h=Ps(h,iE)),a.i=new js(h,a.h))}function me(a,h,m){a.i.set(h,m)}function wa(a){return me(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Rs(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ps(a,h,m){return typeof a=="string"?(a=encodeURI(a).replace(h,tE),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function tE(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var up=/[#\/\?@]/g,nE=/[#\?:]/g,rE=/[#\?]/g,iE=/[#\?@]/g,sE=/#/g;function js(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Bn(a){a.g||(a.g=new Map,a.h=0,a.i&&eE(a.i,function(h,m){a.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=js.prototype,t.add=function(a,h){Bn(this),this.i=null,a=hi(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(h),this.h+=1,this};function dp(a,h){Bn(a),h=hi(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function hp(a,h){return Bn(a),h=hi(a,h),a.g.has(h)}t.forEach=function(a,h){Bn(this),this.g.forEach(function(m,y){m.forEach(function(R){a.call(h,R,y,this)},this)},this)},t.na=function(){Bn(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let y=0;y<h.length;y++){const R=a[y];for(let O=0;O<R.length;O++)m.push(h[y])}return m},t.V=function(a){Bn(this);let h=[];if(typeof a=="string")hp(this,a)&&(h=h.concat(this.g.get(hi(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)h=h.concat(a[m])}return h},t.set=function(a,h){return Bn(this),this.i=null,a=hi(this,a),hp(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function fp(a,h,m){dp(a,h),0<m.length&&(a.i=null,a.g.set(hi(a,h),A(m)),a.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var y=h[m];const O=encodeURIComponent(String(y)),z=this.V(y);for(y=0;y<z.length;y++){var R=O;z[y]!==""&&(R+="="+encodeURIComponent(String(z[y]))),a.push(R)}}return this.i=a.join("&")};function hi(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function oE(a,h){h&&!a.j&&(Bn(a),a.i=null,a.g.forEach(function(m,y){var R=y.toLowerCase();y!=R&&(dp(this,y),fp(this,R,m))},a)),a.j=h}function aE(a,h){const m=new ks;if(c.Image){const y=new Image;y.onload=T(Wn,m,"TestLoadImage: loaded",!0,h,y),y.onerror=T(Wn,m,"TestLoadImage: error",!1,h,y),y.onabort=T(Wn,m,"TestLoadImage: abort",!1,h,y),y.ontimeout=T(Wn,m,"TestLoadImage: timeout",!1,h,y),c.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=a}else h(!1)}function lE(a,h){const m=new ks,y=new AbortController,R=setTimeout(()=>{y.abort(),Wn(m,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:y.signal}).then(O=>{clearTimeout(R),O.ok?Wn(m,"TestPingServer: ok",!0,h):Wn(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(R),Wn(m,"TestPingServer: error",!1,h)})}function Wn(a,h,m,y,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),y(m)}catch{}}function cE(){this.g=new H1}function uE(a,h,m){const y=m||"";try{ap(a,function(R,O){let z=R;d(R)&&(z=fu(R)),h.push(y+O+"="+encodeURIComponent(z))})}catch(R){throw h.push(y+"type="+encodeURIComponent("_badmap")),R}}function _a(a){this.l=a.Ub||null,this.j=a.eb||!1}C(_a,mu),_a.prototype.g=function(){return new Ea(this.l,this.j)},_a.prototype.i=function(a){return function(){return a}}({});function Ea(a,h){Ye.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ea,Ye),t=Ea.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Os(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||c).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Os(this)),this.g&&(this.readyState=3,Os(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mp(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function mp(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Ds(this):Os(this),this.readyState==3&&mp(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Ds(this))},t.Qa=function(a){this.g&&(this.response=a,Ds(this))},t.ga=function(){this.g&&Ds(this)};function Ds(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Os(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=h.next();return a.join(`\r
`)};function Os(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function pp(a){let h="";return U(a,function(m,y){h+=y,h+=":",h+=m,h+=`\r
`}),h}function Tu(a,h,m){e:{for(y in m){var y=!1;break e}y=!0}y||(m=pp(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):me(a,h,m))}function Ne(a){Ye.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ne,Ye);var dE=/^https?$/i,hE=["POST","PUT"];t=Ne.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,m,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yu.g(),this.v=this.o?Wm(this.o):Wm(yu),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(O){gp(this,O);return}if(a=m||"",m=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var R in y)m.set(R,y[R]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const O of y.keys())m.set(O,y.get(O));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(m.keys()).find(O=>O.toLowerCase()=="content-type"),R=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(hE,h,void 0))||y||R||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,z]of m)this.g.setRequestHeader(O,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xp(this),this.u=!0,this.g.send(a),this.u=!1}catch(O){gp(this,O)}};function gp(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,yp(a),ba(a)}function yp(a){a.A||(a.A=!0,at(a,"complete"),at(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,at(this,"complete"),at(this,"abort"),ba(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ba(this,!0)),Ne.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vp(this):this.bb())},t.bb=function(){vp(this)};function vp(a){if(a.h&&typeof o<"u"&&(!a.v[1]||gn(a)!=4||a.Z()!=2)){if(a.u&&gn(a)==4)Um(a.Ea,0,a);else if(at(a,"readystatechange"),gn(a)==4){a.h=!1;try{const z=a.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var y;if(y=z===0){var R=String(a.D).match(lp)[1]||null;!R&&c.self&&c.self.location&&(R=c.self.location.protocol.slice(0,-1)),y=!dE.test(R?R.toLowerCase():"")}m=y}if(m)at(a,"complete"),at(a,"success");else{a.m=6;try{var O=2<gn(a)?a.g.statusText:""}catch{O=""}a.l=O+" ["+a.Z()+"]",yp(a)}}finally{ba(a)}}}}function ba(a,h){if(a.g){xp(a);const m=a.g,y=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||at(a,"ready");try{m.onreadystatechange=y}catch{}}}function xp(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function gn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),W1(h)}};function wp(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function fE(a){const h={};a=(a.g&&2<=gn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<a.length;y++){if(x(a[y]))continue;var m=S(a[y]);const R=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const O=h[R]||[];h[R]=O,O.push(m)}I(h,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(a,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||h}function _p(a){this.Aa=0,this.i=[],this.j=new ks,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ms("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ms("baseRetryDelayMs",5e3,a),this.cb=Ms("retryDelaySeedMs",1e4,a),this.Wa=Ms("forwardChannelMaxRetries",2,a),this.wa=Ms("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new np(a&&a.concurrentRequestLimit),this.Da=new cE,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_p.prototype,t.la=8,t.G=1,t.connect=function(a,h,m,y){lt(0),this.W=a,this.H=h||{},m&&y!==void 0&&(this.H.OSID=m,this.H.OAID=y),this.F=this.X,this.I=Ap(this,null,this.W),Ia(this)};function Iu(a){if(Ep(a),a.G==3){var h=a.U++,m=pn(a.I);if(me(m,"SID",a.K),me(m,"RID",h),me(m,"TYPE","terminate"),Ls(a,m),h=new $n(a,a.j,h),h.L=2,h.v=wa(pn(m)),m=!1,c.navigator&&c.navigator.sendBeacon)try{m=c.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&c.Image&&(new Image().src=h.v,m=!0),m||(h.g=Rp(h.j,null),h.g.ea(h.v)),h.F=Date.now(),ya(h)}kp(a)}function Ta(a){a.g&&(Su(a),a.g.cancel(),a.g=null)}function Ep(a){Ta(a),a.u&&(c.clearTimeout(a.u),a.u=null),Na(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Ia(a){if(!rp(a.h)&&!a.s){a.s=!0;var h=a.Ga;Qe||J(),$||(Qe(),$=!0),Q.add(h,a),a.B=0}}function mE(a,h){return ip(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Cs(g(a.Ga,a,h),Cp(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const R=new $n(this,this.j,a);let O=this.o;if(this.S&&(O?(O=v(O),w(O,this.S)):O=this.S),this.m!==null||this.O||(R.H=O,O=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var y=this.i[m];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=Tp(this,R,h),m=pn(this.I),me(m,"RID",a),me(m,"CVER",22),this.D&&me(m,"X-HTTP-Session-Id",this.D),Ls(this,m),O&&(this.O?h="headers="+encodeURIComponent(String(pp(O)))+"&"+h:this.m&&Tu(m,this.m,O)),bu(this.h,R),this.Ua&&me(m,"TYPE","init"),this.P?(me(m,"$req",h),me(m,"SID","null"),R.T=!0,xu(R,m,null)):xu(R,m,h),this.G=2}}else this.G==3&&(a?bp(this,a):this.i.length==0||rp(this.h)||bp(this))};function bp(a,h){var m;h?m=h.l:m=a.U++;const y=pn(a.I);me(y,"SID",a.K),me(y,"RID",m),me(y,"AID",a.T),Ls(a,y),a.m&&a.o&&Tu(y,a.m,a.o),m=new $n(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),h&&(a.i=h.D.concat(a.i)),h=Tp(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),bu(a.h,m),xu(m,y,h)}function Ls(a,h){a.H&&U(a.H,function(m,y){me(h,y,m)}),a.l&&ap({},function(m,y){me(h,y,m)})}function Tp(a,h,m){m=Math.min(a.i.length,m);var y=a.l?g(a.l.Na,a.l,a):null;e:{var R=a.i;let O=-1;for(;;){const z=["count="+m];O==-1?0<m?(O=R[0].g,z.push("ofs="+O)):O=0:z.push("ofs="+O);let de=!0;for(let ze=0;ze<m;ze++){let se=R[ze].g;const Xe=R[ze].map;if(se-=O,0>se)O=Math.max(0,R[ze].g-100),de=!1;else try{uE(Xe,z,"req"+se+"_")}catch{y&&y(Xe)}}if(de){y=z.join("&");break e}}}return a=a.i.splice(0,m),h.D=a,y}function Ip(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;Qe||J(),$||(Qe(),$=!0),Q.add(h,a),a.v=0}}function Nu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Cs(g(a.Fa,a),Cp(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Np(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Cs(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Ta(this),Np(this))};function Su(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Np(a){a.g=new $n(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=pn(a.qa);me(h,"RID","rpc"),me(h,"SID",a.K),me(h,"AID",a.T),me(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&me(h,"TO",a.ja),me(h,"TYPE","xmlhttp"),Ls(a,h),a.m&&a.o&&Tu(h,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=wa(pn(h)),m.m=null,m.P=!0,Zm(m,a)}t.Za=function(){this.C!=null&&(this.C=null,Ta(this),Nu(this),lt(19))};function Na(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Sp(a,h){var m=null;if(a.g==h){Na(a),Su(a),a.g=null;var y=2}else if(Eu(a.h,h))m=h.D,sp(a.h,h),y=1;else return;if(a.G!=0){if(h.o)if(y==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var R=a.B;y=ma(),at(y,new Qm(y,m)),Ia(a)}else Ip(a);else if(R=h.s,R==3||R==0&&0<h.X||!(y==1&&mE(a,h)||y==2&&Nu(a)))switch(m&&0<m.length&&(h=a.h,h.i=h.i.concat(m)),R){case 1:Mr(a,5);break;case 4:Mr(a,10);break;case 3:Mr(a,6);break;default:Mr(a,2)}}}function Cp(a,h){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*h}function Mr(a,h){if(a.j.info("Error code "+h),h==2){var m=g(a.fb,a),y=a.Xa;const R=!y;y=new Or(y||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||va(y,"https"),wa(y),R?aE(y.toString(),m):lE(y.toString(),m)}else lt(2);a.G=0,a.l&&a.l.sa(h),kp(a),Ep(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function kp(a){if(a.G=0,a.ka=[],a.l){const h=op(a.h);(h.length!=0||a.i.length!=0)&&(P(a.ka,h),P(a.ka,a.i),a.h.i.length=0,A(a.i),a.i.length=0),a.l.ra()}}function Ap(a,h,m){var y=m instanceof Or?pn(m):new Or(m);if(y.g!="")h&&(y.g=h+"."+y.g),xa(y,y.s);else{var R=c.location;y=R.protocol,h=h?h+"."+R.hostname:R.hostname,R=+R.port;var O=new Or(null);y&&va(O,y),h&&(O.g=h),R&&xa(O,R),m&&(O.l=m),y=O}return m=a.D,h=a.ya,m&&h&&me(y,m,h),me(y,"VER",a.la),Ls(a,y),y}function Rp(a,h,m){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new Ne(new _a({eb:m})):new Ne(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pp(){}t=Pp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sa(){}Sa.prototype.g=function(a,h){return new wt(a,h)};function wt(a,h){Ye.call(this),this.g=new _p(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!x(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!x(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new fi(this)}C(wt,Ye),wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wt.prototype.close=function(){Iu(this.g)},wt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=fu(a),a=m);h.i.push(new X1(h.Ya++,a)),h.G==3&&Ia(h)},wt.prototype.N=function(){this.g.l=null,delete this.j,Iu(this.g),delete this.g,wt.aa.N.call(this)};function jp(a){pu.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const m in h){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}C(jp,pu);function Dp(){gu.call(this),this.status=1}C(Dp,gu);function fi(a){this.g=a}C(fi,Pp),fi.prototype.ua=function(){at(this.g,"a")},fi.prototype.ta=function(a){at(this.g,new jp(a))},fi.prototype.sa=function(a){at(this.g,new Dp)},fi.prototype.ra=function(){at(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,wt.prototype.send=wt.prototype.o,wt.prototype.open=wt.prototype.m,wt.prototype.close=wt.prototype.close,Aw=function(){return new Sa},kw=function(){return ma()},Cw=jr,Eh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pa.NO_ERROR=0,pa.TIMEOUT=8,pa.HTTP_ERROR=6,vl=pa,Ym.COMPLETE="complete",Sw=Ym,Hm.EventType=Ns,Ns.OPEN="a",Ns.CLOSE="b",Ns.ERROR="c",Ns.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,to=Hm,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha,Nw=Ne}).apply(typeof Ga<"u"?Ga:typeof self<"u"?self:typeof window<"u"?window:{});const m0="@firebase/firestore",p0="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nt.UNAUTHENTICATED=new nt(null),nt.GOOGLE_CREDENTIALS=new nt("google-credentials-uid"),nt.FIRST_PARTY=new nt("first-party-uid"),nt.MOCK_USER=new nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vs="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new Hf("@firebase/firestore");function xi(){return ni.logLevel}function B(t,...e){if(ni.logLevel<=ee.DEBUG){const n=e.map(Gf);ni.debug(`Firestore (${vs}): ${t}`,...n)}}function On(t,...e){if(ni.logLevel<=ee.ERROR){const n=e.map(Gf);ni.error(`Firestore (${vs}): ${t}`,...n)}}function ns(t,...e){if(ni.logLevel<=ee.WARN){const n=e.map(Gf);ni.warn(`Firestore (${vs}): ${t}`,...n)}}function Gf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t="Unexpected state"){const e=`FIRESTORE (${vs}) INTERNAL ASSERTION FAILED: `+t;throw On(e),new Error(e)}function oe(t,e){t||K()}function X(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nt.UNAUTHENTICATED))}shutdown(){}}class GS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class QS{constructor(e){this.t=e,this.currentUser=nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){oe(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new xr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new xr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(oe(typeof r.accessToken=="string"),new Rw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return oe(e===null||typeof e=="string"),new nt(e)}}class YS{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=nt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class XS{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new YS(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JS{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,tn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){oe(this.o===void 0);const r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new g0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(oe(typeof n.token=="string"),this.R=n.token,new g0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=ZS(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ne(t,e){return t<e?-1:t>e?1:0}function rs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=-62135596800,v0=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(e){return Me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*v0);return new Me(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<y0)throw new H(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/v0}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-y0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{static fromTimestamp(e){return new Y(e)}static min(){return new Y(new Me(0,0))}static max(){return new Y(new Me(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="__name__";class Zt{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(),r===void 0?r=e.length-n:r>e.length-n&&K(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zt.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zt?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Zt.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Zt.isNumericId(e),i=Zt.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Zt.extractNumericId(e).compare(Zt.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vr.fromString(e.substring(4,e.length-2))}}class ge extends Zt{construct(e,n,r){return new ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const eC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Zt{construct(e,n,r){return new We(e,n,r)}static isValidIdentifier(e){return eC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x0}static keyField(){return new We([x0])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new H(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new H(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new H(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new We(n)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.path=e}static fromPath(e){return new q(ge.fromString(e))}static fromName(e){return new q(ge.fromString(e).popFirst(5))}static empty(){return new q(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new ge(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=-1;function tC(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(r===1e9?new Me(n+1,0):new Me(n,r));return new br(i,q.empty(),e)}function nC(t){return new br(t.readTime,t.key,Vo)}class br{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new br(Y.min(),q.empty(),Vo)}static max(){return new br(Y.max(),q.empty(),Vo)}}function rC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xs(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==iC)throw t;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const s=e.length,o=new Array(s);let c=0;for(let u=0;u<s;u++){const d=u;n(e[d]).next(f=>{o[d]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new M((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function oC(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ws(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}$c.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=-1;function Bc(t){return t==null}function tc(t){return t===0&&1/t==-1/0}function aC(t){return typeof t=="number"&&Number.isInteger(t)&&!tc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="";function lC(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=w0(e)),e=cC(t.get(n),e);return w0(e)}function cC(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case jw:n+="";break;default:n+=s}}return n}function w0(t){return t+jw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ai(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Dw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,n){this.comparator=e,this.root=n||Be.EMPTY}insert(e,n){return new Ie(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new Ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qa(this.root,e,this.comparator,!0)}}class Qa{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Be.RED,this.left=i??Be.EMPTY,this.right=s??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Be(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Be.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Be(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.comparator=e,this.data=new Ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new E0(this.data.getIterator())}getIteratorFrom(e){return new E0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Le)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Le(this.comparator);return n.data=e,n}}class E0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.fields=e,e.sort(We.comparator)}static empty(){return new Bt([])}unionWith(e){let n=new Le(We.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ow("Invalid base64 string: "+s):s}}(e);return new Ke(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ke(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const uC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(t){if(oe(!!t),typeof t=="string"){let e=0;const n=uC.exec(t);if(oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(t.seconds),nanos:ke(t.nanos)}}function ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ir(t){return typeof t=="string"?Ke.fromBase64String(t):Ke.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="server_timestamp",Lw="__type__",Vw="__previous_value__",Fw="__local_write_time__";function Yf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Lw])===null||n===void 0?void 0:n.stringValue)===Mw}function Wc(t){const e=t.mapValue.fields[Vw];return Yf(e)?Wc(e):e}function Fo(t){const e=Tr(t.mapValue.fields[Fw].timestampValue);return new Me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,r,i,s,o,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}}const nc="(default)";class Uo{constructor(e,n){this.projectId=e,this.database=n||nc}static empty(){return new Uo("","")}get isDefaultDatabase(){return this.database===nc}isEqual(e){return e instanceof Uo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="__type__",zw="__max__",Ya={mapValue:{fields:{__type__:{stringValue:zw}}}},$w="__vector__",rc="value";function Nr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yf(t)?4:fC(t)?9007199254740991:hC(t)?10:11:K()}function cn(t,e){if(t===e)return!0;const n=Nr(t);if(n!==Nr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fo(t).isEqual(Fo(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Tr(i.timestampValue),c=Tr(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ir(i.bytesValue).isEqual(Ir(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ke(i.geoPointValue.latitude)===ke(s.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ke(i.integerValue)===ke(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ke(i.doubleValue),c=ke(s.doubleValue);return o===c?tc(o)===tc(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return rs(t.arrayValue.values||[],e.arrayValue.values||[],cn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(_0(o)!==_0(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!cn(o[u],c[u])))return!1;return!0}(t,e);default:return K()}}function zo(t,e){return(t.values||[]).find(n=>cn(n,e))!==void 0}function is(t,e){if(t===e)return 0;const n=Nr(t),r=Nr(e);if(n!==r)return ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(t.booleanValue,e.booleanValue);case 2:return function(s,o){const c=ke(s.integerValue||s.doubleValue),u=ke(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return b0(t.timestampValue,e.timestampValue);case 4:return b0(Fo(t),Fo(e));case 5:return ne(t.stringValue,e.stringValue);case 6:return function(s,o){const c=Ir(s),u=Ir(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const c=s.split("/"),u=o.split("/");for(let d=0;d<c.length&&d<u.length;d++){const f=ne(c[d],u[d]);if(f!==0)return f}return ne(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const c=ne(ke(s.latitude),ke(o.latitude));return c!==0?c:ne(ke(s.longitude),ke(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return T0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,d,f;const p=s.fields||{},g=o.fields||{},T=(c=p[rc])===null||c===void 0?void 0:c.arrayValue,C=(u=g[rc])===null||u===void 0?void 0:u.arrayValue,A=ne(((d=T==null?void 0:T.values)===null||d===void 0?void 0:d.length)||0,((f=C==null?void 0:C.values)===null||f===void 0?void 0:f.length)||0);return A!==0?A:T0(T,C)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ya.mapValue&&o===Ya.mapValue)return 0;if(s===Ya.mapValue)return 1;if(o===Ya.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const g=ne(u[p],f[p]);if(g!==0)return g;const T=is(c[u[p]],d[f[p]]);if(T!==0)return T}return ne(u.length,f.length)}(t.mapValue,e.mapValue);default:throw K()}}function b0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ne(t,e);const n=Tr(t),r=Tr(e),i=ne(n.seconds,r.seconds);return i!==0?i:ne(n.nanos,r.nanos)}function T0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=is(n[i],r[i]);if(s)return s}return ne(n.length,r.length)}function ss(t){return bh(t)}function bh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Tr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ir(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=bh(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${bh(n.fields[o])}`;return i+"}"}(t.mapValue):K()}function xl(t){switch(Nr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wc(t);return e?16+xl(e):16;case 5:return 2*t.stringValue.length;case 6:return Ir(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+xl(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ai(r.fields,(s,o)=>{i+=s.length+xl(o)}),i}(t.mapValue);default:throw K()}}function I0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Th(t){return!!t&&"integerValue"in t}function Xf(t){return!!t&&"arrayValue"in t}function N0(t){return!!t&&"nullValue"in t}function S0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wl(t){return!!t&&"mapValue"in t}function hC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Uw])===null||n===void 0?void 0:n.stringValue)===$w}function mo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ai(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=mo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===zw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.value=e}static empty(){return new At({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mo(n)}setAll(e){let n=We.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=mo(o):i.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());wl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ai(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new At(mo(this.value))}}function Bw(t){const e=[];return ai(t.fields,(n,r)=>{const i=new We([n]);if(wl(r)){const s=Bw(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Bt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new it(e,0,Y.min(),Y.min(),Y.min(),At.empty(),0)}static newFoundDocument(e,n,r,i){return new it(e,1,n,Y.min(),r,i,0)}static newNoDocument(e,n){return new it(e,2,n,Y.min(),Y.min(),At.empty(),0)}static newUnknownDocument(e,n){return new it(e,3,n,Y.min(),Y.min(),At.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=At.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=At.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof it&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new it(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n){this.position=e,this.inclusive=n}}function C0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=is(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function k0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!cn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n="asc"){this.field=e,this.dir=n}}function mC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{}class je extends Ww{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gC(e,n,r):n==="array-contains"?new xC(e,r):n==="in"?new wC(e,r):n==="not-in"?new _C(e,r):n==="array-contains-any"?new EC(e,r):new je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yC(e,r):new vC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(is(n,this.value)):n!==null&&Nr(this.value)===Nr(n)&&this.matchesComparison(is(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gt extends Ww{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Gt(e,n)}matches(e){return Hw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Hw(t){return t.op==="and"}function qw(t){return pC(t)&&Hw(t)}function pC(t){for(const e of t.filters)if(e instanceof Gt)return!1;return!0}function Ih(t){if(t instanceof je)return t.field.canonicalString()+t.op.toString()+ss(t.value);if(qw(t))return t.filters.map(e=>Ih(e)).join(",");{const e=t.filters.map(n=>Ih(n)).join(",");return`${t.op}(${e})`}}function Kw(t,e){return t instanceof je?function(r,i){return i instanceof je&&r.op===i.op&&r.field.isEqual(i.field)&&cn(r.value,i.value)}(t,e):t instanceof Gt?function(r,i){return i instanceof Gt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&Kw(o,i.filters[c]),!0):!1}(t,e):void K()}function Gw(t){return t instanceof je?function(n){return`${n.field.canonicalString()} ${n.op} ${ss(n.value)}`}(t):t instanceof Gt?function(n){return n.op.toString()+" {"+n.getFilters().map(Gw).join(" ,")+"}"}(t):"Filter"}class gC extends je{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){const n=q.comparator(e.key,this.key);return this.matchesComparison(n)}}class yC extends je{constructor(e,n){super(e,"in",n),this.keys=Qw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vC extends je{constructor(e,n){super(e,"not-in",n),this.keys=Qw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Qw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}class xC extends je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xf(n)&&zo(n.arrayValue,this.value)}}class wC extends je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zo(this.value.arrayValue,n)}}class _C extends je{constructor(e,n){super(e,"not-in",n)}matches(e){if(zo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!zo(this.value.arrayValue,n)}}class EC extends je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.le=null}}function A0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new bC(t,e,n,r,i,s,o)}function Jf(t){const e=X(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ih(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Bc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ss(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ss(r)).join(",")),e.le=n}return e.le}function Zf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Kw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!k0(t.startAt,e.startAt)&&k0(t.endAt,e.endAt)}function Nh(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function TC(t,e,n,r,i,s,o,c){return new ra(t,e,n,r,i,s,o,c)}function Yw(t){return new ra(t)}function R0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Xw(t){return t.collectionGroup!==null}function po(t){const e=X(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Le(We.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new sc(s,r))}),n.has(We.keyField().canonicalString())||e.he.push(new sc(We.keyField(),r))}return e.he}function sn(t){const e=X(t);return e.Pe||(e.Pe=IC(e,po(t))),e.Pe}function IC(t,e){if(t.limitType==="F")return A0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new sc(i.field,s)});const n=t.endAt?new ic(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ic(t.startAt.position,t.startAt.inclusive):null;return A0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Sh(t,e){const n=t.filters.concat([e]);return new ra(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ch(t,e,n){return new ra(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hc(t,e){return Zf(sn(t),sn(e))&&t.limitType===e.limitType}function Jw(t){return`${Jf(sn(t))}|lt:${t.limitType}`}function wi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Gw(i)).join(", ")}]`),Bc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ss(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ss(i)).join(",")),`Target(${r})`}(sn(t))}; limitType=${t.limitType})`}function qc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of po(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){const d=C0(o,c,u);return o.inclusive?d<=0:d<0}(r.startAt,po(r),i)||r.endAt&&!function(o,c,u){const d=C0(o,c,u);return o.inclusive?d>=0:d>0}(r.endAt,po(r),i))}(t,e)}function NC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Zw(t){return(e,n)=>{let r=!1;for(const i of po(t)){const s=SC(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function SC(t,e,n){const r=t.field.isKeyField()?q.comparator(e.key,n.key):function(s,o,c){const u=o.data.field(s),d=c.data.field(s);return u!==null&&d!==null?is(u,d):K()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ai(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Dw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new Ie(q.comparator);function Mn(){return CC}const e_=new Ie(q.comparator);function no(...t){let e=e_;for(const n of t)e=e.insert(n.key,n);return e}function t_(t){let e=e_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wr(){return go()}function n_(){return go()}function go(){return new li(t=>t.toString(),(t,e)=>t.isEqual(e))}const kC=new Ie(q.comparator),AC=new Le(q.comparator);function te(...t){let e=AC;for(const n of t)e=e.add(n);return e}const RC=new Le(ne);function PC(){return RC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tc(e)?"-0":e}}function r_(t){return{integerValue:""+t}}function jC(t,e){return aC(e)?r_(e):em(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this._=void 0}}function DC(t,e,n){return t instanceof oc?function(i,s){const o={fields:{[Lw]:{stringValue:Mw},[Fw]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Yf(s)&&(s=Wc(s)),s&&(o.fields[Vw]=s),{mapValue:o}}(n,e):t instanceof $o?s_(t,e):t instanceof Bo?o_(t,e):function(i,s){const o=i_(i,s),c=P0(o)+P0(i.Ie);return Th(o)&&Th(i.Ie)?r_(c):em(i.serializer,c)}(t,e)}function OC(t,e,n){return t instanceof $o?s_(t,e):t instanceof Bo?o_(t,e):n}function i_(t,e){return t instanceof ac?function(r){return Th(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class oc extends Kc{}class $o extends Kc{constructor(e){super(),this.elements=e}}function s_(t,e){const n=a_(e);for(const r of t.elements)n.some(i=>cn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Bo extends Kc{constructor(e){super(),this.elements=e}}function o_(t,e){let n=a_(e);for(const r of t.elements)n=n.filter(i=>!cn(i,r));return{arrayValue:{values:n}}}class ac extends Kc{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function P0(t){return ke(t.integerValue||t.doubleValue)}function a_(t){return Xf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function MC(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof $o&&i instanceof $o||r instanceof Bo&&i instanceof Bo?rs(r.elements,i.elements,cn):r instanceof ac&&i instanceof ac?cn(r.Ie,i.Ie):r instanceof oc&&i instanceof oc}(t.transform,e.transform)}class LC{constructor(e,n){this.version=e,this.transformResults=n}}class Cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _l(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gc{}function l_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new u_(t.key,Cn.none()):new ia(t.key,t.data,Cn.none());{const n=t.data,r=At.empty();let i=new Le(We.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ci(t.key,r,new Bt(i.toArray()),Cn.none())}}function VC(t,e,n){t instanceof ia?function(i,s,o){const c=i.value.clone(),u=D0(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof ci?function(i,s,o){if(!_l(i.precondition,s))return void s.convertToUnknownDocument(o.version);const c=D0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(c_(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function yo(t,e,n,r){return t instanceof ia?function(s,o,c,u){if(!_l(s.precondition,o))return c;const d=s.value.clone(),f=O0(s.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof ci?function(s,o,c,u){if(!_l(s.precondition,o))return c;const d=O0(s.fieldTransforms,u,o),f=o.data;return f.setAll(c_(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,c){return _l(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function FC(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=i_(r.transform,i||null);s!=null&&(n===null&&(n=At.empty()),n.set(r.field,s))}return n||null}function j0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&rs(r,i,(s,o)=>MC(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ia extends Gc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ci extends Gc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function c_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function D0(t,e,n){const r=new Map;oe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,OC(o,c,n[i]))}return r}function O0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,DC(s,o,e))}return r}class u_ extends Gc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UC extends Gc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&VC(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=n_();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;const u=l_(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),te())}isEqual(e){return this.batchId===e.batchId&&rs(this.mutations,e.mutations,(n,r)=>j0(n,r))&&rs(this.baseMutations,e.baseMutations,(n,r)=>j0(n,r))}}class tm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){oe(e.mutations.length===r.length);let i=function(){return kC}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new tm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,re;function WC(t){switch(t){case L.OK:return K();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return K()}}function d_(t){if(t===void 0)return On("GRPC error has no .code"),L.UNKNOWN;switch(t){case Re.OK:return L.OK;case Re.CANCELLED:return L.CANCELLED;case Re.UNKNOWN:return L.UNKNOWN;case Re.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Re.INTERNAL:return L.INTERNAL;case Re.UNAVAILABLE:return L.UNAVAILABLE;case Re.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Re.NOT_FOUND:return L.NOT_FOUND;case Re.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Re.ABORTED:return L.ABORTED;case Re.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Re.DATA_LOSS:return L.DATA_LOSS;default:return K()}}(re=Re||(Re={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=new vr([4294967295,4294967295],0);function M0(t){const e=HC().encode(t),n=new Iw;return n.update(e),new Uint8Array(n.digest())}function L0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new vr([n,r],0),new vr([i,s],0)]}class nm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ro(`Invalid padding: ${n}`);if(r<0)throw new ro(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ro(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ro(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=vr.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(vr.fromNumber(r)));return i.compare(qC)===1&&(i=new vr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=M0(e),[r,i]=L0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new nm(s,i,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ee===0)return;const n=M0(e),[r,i]=L0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,sa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qc(Y.min(),i,new Ie(ne),Mn(),te())}}class sa{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sa(r,n,te(),te(),te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class h_{constructor(e,n){this.targetId=e,this.ge=n}}class f_{constructor(e,n,r=Ke.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class V0{constructor(){this.pe=0,this.ye=F0(),this.we=Ke.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=te(),n=te(),r=te();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:K()}}),new sa(this.we,this.be,e,n,r)}Me(){this.Se=!1,this.ye=F0()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,oe(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class KC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Mn(),this.$e=Xa(),this.Ke=Xa(),this.Ue=new Ie(ne)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const s=i.target;if(Nh(s))if(r===0){const o=new q(s.path);this.ze(n,o,it.newNoDocument(o,Y.min()))}else oe(r===1);else{const o=this.et(n);if(o!==r){const c=this.tt(e),u=c?this.nt(c,e,o):1;if(u!==0){this.Ye(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,d)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,c;try{o=Ir(r).toUint8Array()}catch(u){if(u instanceof Ow)return ns("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new nm(o,i,s)}catch(u){return ns(u instanceof ro?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ee===0?null:c}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.it(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.ze(n,s,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((s,o)=>{const c=this.Xe(o);if(c){if(s.current&&Nh(c.target)){const u=new q(c.target.path);this._t(u).has(o)||this.ut(o,u)||this.ze(o,u,it.newNoDocument(u,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let r=te();this.Ke.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{const d=this.Xe(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new Qc(e,n,this.Ue,this.Qe,r);return this.Qe=Mn(),this.$e=Xa(),this.Ke=Xa(),this.Ue=new Ie(ne),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new V0,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Le(ne),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Le(ne),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new V0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Xa(){return new Ie(q.comparator)}function F0(){return new Ie(q.comparator)}const GC={asc:"ASCENDING",desc:"DESCENDING"},QC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YC={and:"AND",or:"OR"};class XC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kh(t,e){return t.useProto3Json||Bc(e)?e:{value:e}}function lc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JC(t,e){return lc(t,e.toTimestamp())}function on(t){return oe(!!t),Y.fromTimestamp(function(n){const r=Tr(n);return new Me(r.seconds,r.nanos)}(t))}function rm(t,e){return Ah(t,e).canonicalString()}function Ah(t,e){const n=function(i){return new ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function p_(t){const e=ge.fromString(t);return oe(w_(e)),e}function Rh(t,e){return rm(t.databaseId,e.path)}function dd(t,e){const n=p_(e);if(n.get(1)!==t.databaseId.projectId)throw new H(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(y_(n))}function g_(t,e){return rm(t.databaseId,e)}function ZC(t){const e=p_(t);return e.length===4?ge.emptyPath():y_(e)}function Ph(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function y_(t){return oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function U0(t,e,n){return{name:Rh(t,e),fields:n.value.mapValue.fields}}function e4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,f){return d.useProto3Json?(oe(f===void 0||typeof f=="string"),Ke.fromBase64String(f||"")):(oe(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Ke.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(d){const f=d.code===void 0?L.UNKNOWN:d_(d.code);return new H(f,d.message||"")}(o);n=new f_(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=dd(t,r.document.name),s=on(r.document.updateTime),o=r.document.createTime?on(r.document.createTime):Y.min(),c=new At({mapValue:{fields:r.document.fields}}),u=it.newFoundDocument(i,s,o,c),d=r.targetIds||[],f=r.removedTargetIds||[];n=new El(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=dd(t,r.document),s=r.readTime?on(r.readTime):Y.min(),o=it.newNoDocument(i,s),c=r.removedTargetIds||[];n=new El([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=dd(t,r.document),s=r.removedTargetIds||[];n=new El([],s,i,null)}else{if(!("filter"in e))return K();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new BC(i,s),c=r.targetId;n=new h_(c,o)}}return n}function t4(t,e){let n;if(e instanceof ia)n={update:U0(t,e.key,e.value)};else if(e instanceof u_)n={delete:Rh(t,e.key)};else if(e instanceof ci)n={update:U0(t,e.key,e.data),updateMask:u4(e.fieldMask)};else{if(!(e instanceof UC))return K();n={verify:Rh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const c=o.transform;if(c instanceof oc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof $o)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Bo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ac)return{fieldPath:o.field.canonicalString(),increment:c.Ie};throw K()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:JC(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:K()}(t,e.precondition)),n}function n4(t,e){return t&&t.length>0?(oe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?on(i.updateTime):on(s);return o.isEqual(Y.min())&&(o=on(s)),new LC(o,i.transformResults||[])}(n,e))):[]}function r4(t,e){return{documents:[g_(t,e.path)]}}function i4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=g_(t,i);const s=function(d){if(d.length!==0)return x_(Gt.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(f=>function(g){return{field:_i(g.field),direction:a4(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=kh(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ht:n,parent:i}}function s4(t){let e=ZC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){oe(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){const g=v_(p);return g instanceof Gt&&qw(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(C){return new sc(Ei(C.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(n.orderBy));let c=null;n.limit&&(c=function(p){let g;return g=typeof p=="object"?p.value:p,Bc(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,T=p.values||[];return new ic(T,g)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const g=!p.before,T=p.values||[];return new ic(T,g)}(n.endAt)),TC(e,i,o,s,c,"F",u,d)}function o4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function v_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ei(n.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ei(n.unaryFilter.field);return je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ei(n.unaryFilter.field);return je.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ei(n.unaryFilter.field);return je.create(o,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(n){return je.create(Ei(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gt.create(n.compositeFilter.filters.map(r=>v_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K()}}(n.compositeFilter.op))}(t):K()}function a4(t){return GC[t]}function l4(t){return QC[t]}function c4(t){return YC[t]}function _i(t){return{fieldPath:t.canonicalString()}}function Ei(t){return We.fromServerFormat(t.fieldPath)}function x_(t){return t instanceof je?function(n){if(n.op==="=="){if(S0(n.value))return{unaryFilter:{field:_i(n.field),op:"IS_NAN"}};if(N0(n.value))return{unaryFilter:{field:_i(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(S0(n.value))return{unaryFilter:{field:_i(n.field),op:"IS_NOT_NAN"}};if(N0(n.value))return{unaryFilter:{field:_i(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_i(n.field),op:l4(n.op),value:n.value}}}(t):t instanceof Gt?function(n){const r=n.getFilters().map(i=>x_(i));return r.length===1?r[0]:{compositeFilter:{op:c4(n.op),filters:r}}}(t):K()}function u4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function w_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n,r,i,s=Y.min(),o=Y.min(),c=Ke.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.Tt=e}}function h4(t){const e=s4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ch(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.Tn=new m4}addToCollectionParentIndex(e,n){return this.Tn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(br.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(br.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class m4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Le(ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Le(ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},__=41943040;class mt{static withCacheSize(e){return new mt(e,mt.DEFAULT_COLLECTION_PERCENTILE,mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mt.DEFAULT_COLLECTION_PERCENTILE=10,mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mt.DEFAULT=new mt(__,mt.DEFAULT_COLLECTION_PERCENTILE,mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mt.DISABLED=new mt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new os(0)}static Un(){return new os(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="LruGarbageCollector",p4=1048576;function B0([t,e],[n,r]){const i=ne(t,n);return i===0?ne(e,r):i}class g4{constructor(e){this.Hn=e,this.buffer=new Le(B0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();B0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class y4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){B($0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ws(n)?B($0,"Ignoring IndexedDB error during garbage collection: ",n):await xs(n)}await this.er(3e5)})}}class v4{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve($c.ae);const r=new g4(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(z0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,s,o,c,u,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(d=Date.now(),xi()<=ee.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${s} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function x4(t,e){return new v4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.changes=new li(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,it.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yo(r.mutation,i,Bt.empty(),Me.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=te()){const i=Wr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=no();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Wr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,te()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=Mn();const o=go(),c=function(){return go()}();return n.forEach((u,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof ci)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),yo(f.mutation,d,f.mutation.getFieldMask(),Me.now())):o.set(d.key,Bt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>{var p;return c.set(d,new _4(f,(p=o.get(d))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){const r=go();let i=new Ie((o,c)=>o-c),s=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const c of o)c.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let f=r.get(u)||Bt.empty();f=c.applyToLocalView(d,f),r.set(u,f);const p=(i.get(c.batchId)||te()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,f=u.value,p=n_();f.forEach(g=>{if(!s.has(g)){const T=l_(n.get(g),r.get(g));T!==null&&p.set(g,T),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Xw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(Wr());let c=Vo,u=s;return o.next(d=>M.forEach(d,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,te())).next(f=>({batchId:c,changes:t_(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=no();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=no();return this.indexManager.getCollectionParents(e,s).next(c=>M.forEach(c,u=>{const d=function(p,g){return new ra(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,it.newInvalidDocument(f)))});let c=no();return o.forEach((u,d)=>{const f=s.get(u);f!==void 0&&yo(f.mutation,d,Bt.empty(),Me.now()),qc(n,d)&&(c=c.insert(u,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return M.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:on(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:h4(i.bundledQuery),readTime:on(i.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(){this.overlays=new Ie(q.comparator),this.Rr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wr();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Et(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=Wr(),s=n.length+1,o=new q(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ie((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=Wr(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const c=Wr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=i)););return M.resolve(c)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $C(n,r));let s=this.Rr.get(n);s===void 0&&(s=te(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(){this.Vr=new Le(Ve.mr),this.gr=new Le(Ve.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Ve(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Ve(e,n))}br(e,n){e.forEach(r=>this.removeReference(r,n))}Sr(e){const n=new q(new ge([])),r=new Ve(n,e),i=new Ve(n,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new q(new ge([])),r=new Ve(n,e),i=new Ve(n,e+1);let s=te();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ve(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ve{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return q.comparator(e.key,n.key)||ne(e.Cr,n.Cr)}static pr(e,n){return ne(e.Cr,n.Cr)||q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Le(Ve.mr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new zC(s,n,r,i);this.mutationQueue.push(o);for(const c of i)this.Mr=this.Mr.add(new Ve(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?Qf:this.Fr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ve(n,0),i=new Ve(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const c=this.Or(o.Cr);s.push(c)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Le(ne);return n.forEach(i=>{const s=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],c=>{r=r.add(c.Cr)})}),M.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;q.isDocumentKey(s)||(s=s.child(""));const o=new Ve(new q(s),0);let c=new Le(ne);return this.Mr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.Cr)),!0)},o),M.resolve(this.Br(c))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){oe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return M.forEach(n.mutations,i=>{const s=new Ve(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Ve(n,0),i=this.Mr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.kr=e,this.docs=function(){return new Ie(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():it.newInvalidDocument(n))}getEntries(e,n){let r=Mn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():it.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Mn();const o=n.path,c=new q(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||rC(nC(f),r)<=0||(i.has(f.key)||qc(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){K()}qr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new C4(this)}getSize(e){return M.resolve(this.size)}}class C4 extends w4{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.persistence=e,this.Qr=new li(n=>Jf(n),Zf),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.$r=0,this.Kr=new im,this.targetCount=0,this.Ur=os.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),M.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new os(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.zn(n),M.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Qr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Kr.br(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new $c(0),this.zr=!1,this.zr=!0,this.jr=new I4,this.referenceDelegate=e(this),this.Hr=new k4(this),this.indexManager=new f4,this.remoteDocumentCache=function(i){return new S4(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new d4(n),this.Yr=new b4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new T4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new N4(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);const i=new A4(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,n){return M.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class A4 extends sC{constructor(e){super(),this.currentSequenceNumber=e}}class sm{constructor(e){this.persistence=e,this.ti=new im,this.ni=null}static ri(e){return new sm(e)}get ii(){if(this.ni)return this.ni;throw K()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),M.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.ii,r=>{const i=q.fromPath(r);return this.si(e,i).next(s=>{s||n.removeEntry(i,Y.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return M.or([()=>M.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class cc{constructor(e,n){this.persistence=e,this.oi=new li(r=>lC(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=x4(this,n)}static ri(e,n){return new cc(e,n)}Zr(){}Xr(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return M.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?M.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,n).next(c=>{c||(r++,s.removeEntry(o,Y.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),M.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xl(e.data.value)),n}ar(e,n,r){return M.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=te(),i=te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new om(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return kN()?8:oC(ot())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new R4;return this._s(e,n,o).next(c=>{if(s.result=c,this.Xi)return this.us(e,n,o,c.size)})}).next(()=>s.result)}us(e,n,r,i){return r.documentReadCount<this.es?(xi()<=ee.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",wi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),M.resolve()):(xi()<=ee.DEBUG&&B("QueryEngine","Query:",wi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(xi()<=ee.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",wi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sn(n))):M.resolve())}rs(e,n){if(R0(n))return M.resolve(null);let r=sn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ch(n,null,"F"),r=sn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=te(...s);return this.ns.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.cs(n,c);return this.ls(n,d,o,u.readTime)?this.rs(e,Ch(n,null,"F")):this.hs(e,d,n,u)}))})))}ss(e,n,r,i){return R0(n)||i.isEqual(Y.min())?M.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(n,s);return this.ls(n,o,r,i)?M.resolve(null):(xi()<=ee.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wi(n)),this.hs(e,o,n,tC(i,Vo)).next(c=>c))})}cs(e,n){let r=new Le(Zw(e));return n.forEach((i,s)=>{qc(e,s)&&(r=r.add(s))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,n,r){return xi()<=ee.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",wi(n)),this.ns.getDocumentsMatchingQuery(e,n,br.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="LocalStore",j4=3e8;class D4{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Ie(ne),this.Is=new li(s=>Jf(s),Zf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E4(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function O4(t,e,n,r){return new D4(t,e,n,r)}async function b_(t,e){const n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],c=[];let u=te();for(const d of i){o.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of s){c.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(d=>({Rs:d,removedBatchIds:o,addedBatchIds:c}))})})}function M4(t,e){const n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(c,u,d,f){const p=d.batch,g=p.keys();let T=M.resolve();return g.forEach(C=>{T=T.next(()=>f.getEntry(u,C)).next(A=>{const P=d.docVersions.get(C);oe(P!==null),A.version.compareTo(P)<0&&(p.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),f.addEntry(A)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=te();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function T_(t){const e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function L4(t,e){const n=X(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const c=[];e.targetChanges.forEach((f,p)=>{const g=i.get(p);if(!g)return;c.push(n.Hr.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Hr.addMatchingKeys(s,f.addedDocuments,p)));let T=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?T=T.withResumeToken(Ke.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):f.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(f.resumeToken,r)),i=i.insert(p,T),function(A,P,_){return A.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=j4?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(g,T,f)&&c.push(n.Hr.updateTargetData(s,T))});let u=Mn(),d=te();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),c.push(V4(s,o,e.documentUpdates).next(f=>{u=f.Vs,d=f.fs})),!r.isEqual(Y.min())){const f=n.Hr.getLastRemoteSnapshotVersion(s).next(p=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(f)}return M.waitFor(c).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.Ts=i,s))}function V4(t,e,n){let r=te(),i=te();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Mn();return n.forEach((c,u)=>{const d=s.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(Y.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):B(am,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{Vs:o,fs:i}})}function F4(t,e){const n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Qf),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function U4(t,e){const n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.Hr.allocateTargetId(r).next(o=>(i=new or(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function jh(t,e,n){const r=X(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ws(o))throw o;B(am,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function W0(t,e,n){const r=X(t);let i=Y.min(),s=te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,f){const p=X(u),g=p.Is.get(f);return g!==void 0?M.resolve(p.Ts.get(g)):p.Hr.getTargetData(d,f)}(r,o,sn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?i:Y.min(),n?s:te())).next(c=>(z4(r,NC(e),c),{documents:c,gs:s})))}function z4(t,e,n){let r=t.Es.get(e)||Y.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(e,r)}class H0{constructor(){this.activeTargetIds=PC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $4{constructor(){this.ho=new H0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new H0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="ConnectivityMonitor";class K0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){B(q0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){B(q0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ja=null;function Dh(){return Ja===null?Ja=function(){return 268435456+Math.round(2147483648*Math.random())}():Ja++,"0x"+Ja.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="RestConnection",W4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class H4{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===nc?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,n,r,i,s){const o=Dh(),c=this.So(e,n.toUriEncodedString());B(hd,`Sending RPC '${e}' ${o}:`,c,r);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,i,s),this.vo(e,c,u,r).then(d=>(B(hd,`Received RPC '${e}' ${o}: `,d),d),d=>{throw ns(hd,`RPC '${e}' ${o} failed with error: `,d,"url: ",c,"request:",r),d})}Co(e,n,r,i,s,o){return this.bo(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}So(e,n){const r=W4[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt="WebChannelConnection";class K4 extends H4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=Dh();return new Promise((o,c)=>{const u=new Nw;u.setWithCredentials(!0),u.listenOnce(Sw.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case vl.NO_ERROR:const f=u.getResponseJson();B(tt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case vl.TIMEOUT:B(tt,`RPC '${e}' ${s} timed out`),c(new H(L.DEADLINE_EXCEEDED,"Request time out"));break;case vl.HTTP_ERROR:const p=u.getStatus();if(B(tt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const T=g==null?void 0:g.error;if(T&&T.status&&T.message){const C=function(P){const _=P.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(_)>=0?_:L.UNKNOWN}(T.status);c(new H(C,T.message))}else c(new H(L.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new H(L.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{B(tt,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);B(tt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Wo(e,n,r){const i=Dh(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Aw(),c=kw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");B(tt,`Creating RPC '${e}' stream ${i}: ${f}`,u);const p=o.createWebChannel(f,u);let g=!1,T=!1;const C=new q4({Fo:P=>{T?B(tt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(g||(B(tt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),B(tt,`RPC '${e}' stream ${i} sending:`,P),p.send(P))},Mo:()=>p.close()}),A=(P,_,x)=>{P.listen(_,b=>{try{x(b)}catch(D){setTimeout(()=>{throw D},0)}})};return A(p,to.EventType.OPEN,()=>{T||(B(tt,`RPC '${e}' stream ${i} transport opened.`),C.Qo())}),A(p,to.EventType.CLOSE,()=>{T||(T=!0,B(tt,`RPC '${e}' stream ${i} transport closed`),C.Ko())}),A(p,to.EventType.ERROR,P=>{T||(T=!0,ns(tt,`RPC '${e}' stream ${i} transport errored:`,P),C.Ko(new H(L.UNAVAILABLE,"The operation could not be completed")))}),A(p,to.EventType.MESSAGE,P=>{var _;if(!T){const x=P.data[0];oe(!!x);const b=x,D=(b==null?void 0:b.error)||((_=b[0])===null||_===void 0?void 0:_.error);if(D){B(tt,`RPC '${e}' stream ${i} received error:`,D);const V=D.status;let U=function(E){const w=Re[E];if(w!==void 0)return d_(w)}(V),I=D.message;U===void 0&&(U=L.INTERNAL,I="Unknown error status: "+V+" with message "+D.message),T=!0,C.Ko(new H(U,I)),p.close()}else B(tt,`RPC '${e}' stream ${i} received:`,x),C.Uo(x)}}),A(c,Cw.STAT_EVENT,P=>{P.stat===Eh.PROXY?B(tt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Eh.NOPROXY&&B(tt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.$o()},0),C}}function fd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){return new XC(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="PersistentStream";class N_{constructor(e,n,r,i,s,o,c,u){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new I_(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(On(n.toString()),On("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new H(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return B(G0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(B(G0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G4 extends N_{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=e4(this.serializer,e),r=function(s){if(!("targetChange"in s))return Y.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Y.min():o.readTime?on(o.readTime):Y.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Ph(this.serializer),n.addTarget=function(s,o){let c;const u=o.target;if(c=Nh(u)?{documents:r4(s,u)}:{query:i4(s,u).ht},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=m_(s,o.resumeToken);const d=kh(s,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(Y.min())>0){c.readTime=lc(s,o.snapshotVersion.toTimestamp());const d=kh(s,o.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=o4(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Ph(this.serializer),n.removeTarget=e,this.I_(n)}}class Q4 extends N_{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return oe(!!e.streamToken),this.lastStreamToken=e.streamToken,oe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=n4(e.writeResults,e.commitTime),r=on(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Ph(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>t4(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{}class X4 extends Y4{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new H(L.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.bo(e,Ah(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(L.UNKNOWN,s.toString())})}Co(e,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Co(e,Ah(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(L.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class J4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(On(n),this.N_=!1):B("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri="RemoteStore";class Z4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{ui(this)&&(B(ri,"Restarting streams for network reachability change."),await async function(u){const d=X(u);d.W_.add(4),await oa(d),d.j_.set("Unknown"),d.W_.delete(4),await Xc(d)}(this))})}),this.j_=new J4(r,i)}}async function Xc(t){if(ui(t))for(const e of t.G_)await e(!0)}async function oa(t){for(const e of t.G_)await e(!1)}function S_(t,e){const n=X(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),dm(n)?um(n):_s(n).c_()&&cm(n,e))}function lm(t,e){const n=X(t),r=_s(n);n.U_.delete(e),r.c_()&&C_(n,e),n.U_.size===0&&(r.c_()?r.P_():ui(n)&&n.j_.set("Unknown"))}function cm(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_s(t).y_(e)}function C_(t,e){t.H_.Ne(e),_s(t).w_(e)}function um(t){t.H_=new KC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),_s(t).start(),t.j_.B_()}function dm(t){return ui(t)&&!_s(t).u_()&&t.U_.size>0}function ui(t){return X(t).W_.size===0}function k_(t){t.H_=void 0}async function ek(t){t.j_.set("Online")}async function tk(t){t.U_.forEach((e,n)=>{cm(t,e)})}async function nk(t,e){k_(t),dm(t)?(t.j_.q_(e),um(t)):t.j_.set("Unknown")}async function rk(t,e,n){if(t.j_.set("Online"),e instanceof f_&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const c of s.targetIds)i.U_.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.U_.delete(c),i.H_.removeTarget(c))}(t,e)}catch(r){B(ri,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await uc(t,r)}else if(e instanceof El?t.H_.We(e):e instanceof h_?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Y.min()))try{const r=await T_(t.localStore);n.compareTo(r)>=0&&await function(s,o){const c=s.H_.ot(o);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.U_.get(d);f&&s.U_.set(d,f.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,d)=>{const f=s.U_.get(u);if(!f)return;s.U_.set(u,f.withResumeToken(Ke.EMPTY_BYTE_STRING,f.snapshotVersion)),C_(s,u);const p=new or(f.target,u,d,f.sequenceNumber);cm(s,p)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){B(ri,"Failed to raise snapshot:",r),await uc(t,r)}}async function uc(t,e,n){if(!ws(e))throw e;t.W_.add(1),await oa(t),t.j_.set("Offline"),n||(n=()=>T_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{B(ri,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Xc(t)})}function A_(t,e){return e().catch(n=>uc(t,n,e))}async function Jc(t){const e=X(t),n=Sr(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Qf;for(;ik(e);)try{const i=await F4(e.localStore,r);if(i===null){e.K_.length===0&&n.P_();break}r=i.batchId,sk(e,i)}catch(i){await uc(e,i)}R_(e)&&P_(e)}function ik(t){return ui(t)&&t.K_.length<10}function sk(t,e){t.K_.push(e);const n=Sr(t);n.c_()&&n.b_&&n.S_(e.mutations)}function R_(t){return ui(t)&&!Sr(t).u_()&&t.K_.length>0}function P_(t){Sr(t).start()}async function ok(t){Sr(t).C_()}async function ak(t){const e=Sr(t);for(const n of t.K_)e.S_(n.mutations)}async function lk(t,e,n){const r=t.K_.shift(),i=tm.from(r,e,n);await A_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jc(t)}async function ck(t,e){e&&Sr(t).b_&&await async function(r,i){if(function(o){return WC(o)&&o!==L.ABORTED}(i.code)){const s=r.K_.shift();Sr(r).h_(),await A_(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Jc(r)}}(t,e),R_(t)&&P_(t)}async function Q0(t,e){const n=X(t);n.asyncQueue.verifyOperationInProgress(),B(ri,"RemoteStore received new credentials");const r=ui(n);n.W_.add(3),await oa(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Xc(n)}async function uk(t,e){const n=X(t);e?(n.W_.delete(2),await Xc(n)):e||(n.W_.add(2),await oa(n),n.j_.set("Unknown"))}function _s(t){return t.J_||(t.J_=function(n,r,i){const s=X(n);return s.M_(),new G4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:ek.bind(null,t),No:tk.bind(null,t),Lo:nk.bind(null,t),p_:rk.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),dm(t)?um(t):t.j_.set("Unknown")):(await t.J_.stop(),k_(t))})),t.J_}function Sr(t){return t.Y_||(t.Y_=function(n,r,i){const s=X(n);return s.M_(),new Q4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:ok.bind(null,t),Lo:ck.bind(null,t),D_:ak.bind(null,t),v_:lk.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Jc(t)):(await t.Y_.stop(),t.K_.length>0&&(B(ri,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,c=new hm(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fm(t,e){if(On("AsyncQueue",`${e}: ${t}`),ws(t))return new H(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{static emptySet(e){return new Wi(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=no(),this.sortedSet=new Ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.Z_=new Ie(q.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):K():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class as{constructor(e,n,r,i,s,o,c,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new as(e,n,Wi.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class hk{constructor(){this.queries=X0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=X(n),s=i.queries;i.queries=X0(),s.forEach((o,c)=>{for(const u of c.ta)u.onError(r)})})(this,new H(L.ABORTED,"Firestore shutting down"))}}function X0(){return new li(t=>Jw(t),Hc)}async function fk(t,e){const n=X(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new dk,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const c=fm(o,`Initialization of query '${wi(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&mm(n)}async function mk(t,e){const n=X(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pk(t,e){const n=X(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const c of o.ta)c.oa(i)&&(r=!0);o.ea=i}}r&&mm(n)}function gk(t,e,n){const r=X(t),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(e)}function mm(t){t.ia.forEach(e=>{e.next()})}var Oh,J0;(J0=Oh||(Oh={}))._a="default",J0.Cache="cache";class yk{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new as(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=as.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Oh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e){this.key=e}}class D_{constructor(e){this.key=e}}class vk{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=te(),this.mutatedKeys=te(),this.ya=Zw(e),this.wa=new Wi(this.ya)}get ba(){return this.fa}Sa(e,n){const r=n?n.Da:new Y0,i=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const g=i.get(f),T=qc(this.query,p)?p:null,C=!!g&&this.mutatedKeys.has(g.key),A=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let P=!1;g&&T?g.data.isEqual(T.data)?C!==A&&(r.track({type:3,doc:T}),P=!0):this.va(g,T)||(r.track({type:2,doc:T}),P=!0,(u&&this.ya(T,u)>0||d&&this.ya(T,d)<0)&&(c=!0)):!g&&T?(r.track({type:0,doc:T}),P=!0):g&&!T&&(r.track({type:1,doc:g}),P=!0,(u||d)&&(c=!0)),P&&(T?(o=o.add(T),s=A?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{wa:o,Da:r,ls:c,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((f,p)=>function(T,C){const A=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return A(T)-A(C)}(f.type,p.type)||this.ya(f.doc,p.doc)),this.Ca(r),i=i!=null&&i;const c=n&&!i?this.Fa():[],u=this.pa.size===0&&this.current&&!i?1:0,d=u!==this.ga;return this.ga=u,o.length!==0||d?{snapshot:new as(this.query,e.wa,s,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Y0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=te(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new D_(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new j_(r))}),n}Oa(e){this.fa=e.gs,this.pa=te();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return as.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const pm="SyncEngine";class xk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class wk{constructor(e){this.key=e,this.Ba=!1}}class _k{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new li(c=>Jw(c),Hc),this.qa=new Map,this.Qa=new Set,this.$a=new Ie(q.comparator),this.Ka=new Map,this.Ua=new im,this.Wa={},this.Ga=new Map,this.za=os.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Ek(t,e,n=!0){const r=U_(t);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await O_(r,e,n,!0),i}async function bk(t,e){const n=U_(t);await O_(n,e,!0,!1)}async function O_(t,e,n,r){const i=await U4(t.localStore,sn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await Tk(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&S_(t.remoteStore,i),c}async function Tk(t,e,n,r,i){t.Ha=(p,g,T)=>async function(A,P,_,x){let b=P.view.Sa(_);b.ls&&(b=await W0(A.localStore,P.query,!1).then(({documents:I})=>P.view.Sa(I,b)));const D=x&&x.targetChanges.get(P.targetId),V=x&&x.targetMismatches.get(P.targetId)!=null,U=P.view.applyChanges(b,A.isPrimaryClient,D,V);return ey(A,P.targetId,U.Ma),U.snapshot}(t,p,g,T);const s=await W0(t.localStore,e,!0),o=new vk(e,s.gs),c=o.Sa(s.documents),u=sa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(c,t.isPrimaryClient,u);ey(t,n,d.Ma);const f=new xk(e,n,o);return t.ka.set(e,f),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),d.snapshot}async function Ik(t,e,n){const r=X(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!Hc(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await jh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&lm(r.remoteStore,i.targetId),Mh(r,i.targetId)}).catch(xs)):(Mh(r,i.targetId),await jh(r.localStore,i.targetId,!0))}async function Nk(t,e){const n=X(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lm(n.remoteStore,r.targetId))}async function Sk(t,e,n){const r=Dk(t);try{const i=await function(o,c){const u=X(o),d=Me.now(),f=c.reduce((T,C)=>T.add(C.key),te());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",T=>{let C=Mn(),A=te();return u.ds.getEntries(T,f).next(P=>{C=P,C.forEach((_,x)=>{x.isValidDocument()||(A=A.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(T,C)).next(P=>{p=P;const _=[];for(const x of c){const b=FC(x,p.get(x.key).overlayedDocument);b!=null&&_.push(new ci(x.key,b,Bw(b.value.mapValue),Cn.exists(!0)))}return u.mutationQueue.addMutationBatch(T,d,_,c)}).next(P=>{g=P;const _=P.applyToLocalDocumentSet(p,A);return u.documentOverlayCache.saveOverlays(T,P.batchId,_)})}).then(()=>({batchId:g.batchId,changes:t_(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let d=o.Wa[o.currentUser.toKey()];d||(d=new Ie(ne)),d=d.insert(c,u),o.Wa[o.currentUser.toKey()]=d}(r,i.batchId,n),await aa(r,i.changes),await Jc(r.remoteStore)}catch(i){const s=fm(i,"Failed to persist write");n.reject(s)}}async function M_(t,e){const n=X(t);try{const r=await L4(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ka.get(s);o&&(oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?oe(o.Ba):i.removedDocuments.size>0&&(oe(o.Ba),o.Ba=!1))}),await aa(n,r,e)}catch(r){await xs(r)}}function Z0(t,e,n){const r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((s,o)=>{const c=o.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){const u=X(o);u.onlineState=c;let d=!1;u.queries.forEach((f,p)=>{for(const g of p.ta)g.sa(c)&&(d=!0)}),d&&mm(u)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ck(t,e,n){const r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ka.get(e),s=i&&i.key;if(s){let o=new Ie(q.comparator);o=o.insert(s,it.newNoDocument(s,Y.min()));const c=te().add(s),u=new Qc(Y.min(),new Map,new Ie(ne),o,c);await M_(r,u),r.$a=r.$a.remove(s),r.Ka.delete(e),gm(r)}else await jh(r.localStore,e,!1).then(()=>Mh(r,e,n)).catch(xs)}async function kk(t,e){const n=X(t),r=e.batch.batchId;try{const i=await M4(n.localStore,e);V_(n,r,null),L_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await aa(n,i)}catch(i){await xs(i)}}async function Ak(t,e,n){const r=X(t);try{const i=await function(o,c){const u=X(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(p=>(oe(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(d,p))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(r.localStore,e);V_(r,e,n),L_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await aa(r,i)}catch(i){await xs(i)}}function L_(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function V_(t,e,n){const r=X(t);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Mh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(r=>{t.Ua.containsKey(r)||F_(t,r)})}function F_(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(lm(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),gm(t))}function ey(t,e,n){for(const r of n)r instanceof j_?(t.Ua.addReference(r.key,e),Rk(t,r)):r instanceof D_?(B(pm,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||F_(t,r.key)):K()}function Rk(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(B(pm,"New document in limbo: "+n),t.Qa.add(r),gm(t))}function gm(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new q(ge.fromString(e)),r=t.za.next();t.Ka.set(r,new wk(n)),t.$a=t.$a.insert(n,r),S_(t.remoteStore,new or(sn(Yw(n.path)),r,"TargetPurposeLimboResolution",$c.ae))}}async function aa(t,e,n){const r=X(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((c,u)=>{o.push(r.Ha(u,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(d){i.push(d);const p=om.Yi(u.targetId,d);s.push(p)}}))}),await Promise.all(o),r.La.p_(i),await async function(u,d){const f=X(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(d,g=>M.forEach(g.Hi,T=>f.persistence.referenceDelegate.addReference(p,g.targetId,T)).next(()=>M.forEach(g.Ji,T=>f.persistence.referenceDelegate.removeReference(p,g.targetId,T)))))}catch(p){if(!ws(p))throw p;B(am,"Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const T=f.Ts.get(g),C=T.snapshotVersion,A=T.withLastLimboFreeSnapshotVersion(C);f.Ts=f.Ts.insert(g,A)}}}(r.localStore,s))}async function Pk(t,e){const n=X(t);if(!n.currentUser.isEqual(e)){B(pm,"User change. New user:",e.toKey());const r=await b_(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(c=>{c.forEach(u=>{u.reject(new H(L.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await aa(n,r.Rs)}}function jk(t,e){const n=X(t),r=n.Ka.get(e);if(r&&r.Ba)return te().add(r.key);{let i=te();const s=n.qa.get(e);if(!s)return i;for(const o of s){const c=n.ka.get(o);i=i.unionWith(c.view.ba)}return i}}function U_(t){const e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=M_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ck.bind(null,e),e.La.p_=pk.bind(null,e.eventManager),e.La.Ja=gk.bind(null,e.eventManager),e}function Dk(t){const e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ak.bind(null,e),e}class dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return O4(this.persistence,new P4,e.initialUser,this.serializer)}Xa(e){return new E_(sm.ri,this.serializer)}Za(e){return new $4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dc.provider={build:()=>new dc};class Ok extends dc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){oe(this.persistence.referenceDelegate instanceof cc);const r=this.persistence.referenceDelegate.garbageCollector;return new y4(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?mt.withCacheSize(this.cacheSizeBytes):mt.DEFAULT;return new E_(r=>cc.ri(r,n),this.serializer)}}class Lh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Z0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pk.bind(null,this.syncEngine),await uk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hk}()}createDatastore(e){const n=Yc(e.databaseInfo.databaseId),r=function(s){return new K4(s)}(e.databaseInfo);return function(s,o,c,u){return new X4(s,o,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,c){return new Z4(r,i,s,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>Z0(this.syncEngine,n,0),function(){return K0.D()?new K0:new B4}())}createSyncEngine(e,n){return function(i,s,o,c,u,d,f){const p=new _k(i,s,o,c,u,d);return f&&(p.ja=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=X(i);B(ri,"RemoteStore shutting down."),s.W_.add(5),await oa(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Lh.provider={build:()=>new Lh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):On("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="FirestoreClient";class Lk{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nt.UNAUTHENTICATED,this.clientId=Pw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{B(Cr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(B(Cr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=fm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function md(t,e){t.asyncQueue.verifyOperationInProgress(),B(Cr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await b_(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ty(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Vk(t);B(Cr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Q0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Q0(e.remoteStore,i)),t._onlineComponents=e}async function Vk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B(Cr,"Using user provided OfflineComponentProvider");try{await md(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ns("Error using user provided cache. Falling back to memory cache: "+n),await md(t,new dc)}}else B(Cr,"Using default OfflineComponentProvider"),await md(t,new Ok(void 0));return t._offlineComponents}async function z_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(B(Cr,"Using user provided OnlineComponentProvider"),await ty(t,t._uninitializedComponentsProvider._online)):(B(Cr,"Using default OnlineComponentProvider"),await ty(t,new Lh))),t._onlineComponents}function Fk(t){return z_(t).then(e=>e.syncEngine)}async function Uk(t){const e=await z_(t),n=e.eventManager;return n.onListen=Ek.bind(null,e.syncEngine),n.onUnlisten=Ik.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Nk.bind(null,e.syncEngine),n}function zk(t,e,n={}){const r=new xr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,c,u,d){const f=new Mk({next:g=>{f.su(),o.enqueueAndForget(()=>mk(s,p)),g.fromCache&&u.source==="server"?d.reject(new H(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new yk(c,f,{includeMetadataChanges:!0,Ta:!0});return fk(s,p)}(await Uk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(t,e,n){if(!n)throw new H(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $k(t,e,n,r){if(e===!0&&r===!0)throw new H(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ry(t){if(!q.isDocumentKey(t))throw new H(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iy(t){if(q.isDocumentKey(t))throw new H(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function hc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zc(t);throw new H(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="firestore.googleapis.com",sy=!0;class oy{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=W_,this.ssl=sy}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:sy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=__;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<p4)throw new H(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$k("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new KS;switch(r.type){case"firstParty":return new XS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ny.get(n);r&&(B("ComponentProvider","Removing Datastore"),ny.delete(n),r.terminate())}(this),Promise.resolve()}}function Bk(t,e,n,r={}){var i;const s=(t=hc(t,eu))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;s.host!==W_&&s.host!==c&&ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:c,ssl:!1,emulatorOptions:r});if(!ei(u,o)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=nt.MOCK_USER;else{d=EN(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new H(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new nt(p)}t._authCredentials=new GS(new Rw(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Es(this.firestore,e,this._query)}}class jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}}class wr extends Es{constructor(e,n,r){super(e,n,Yw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new q(e))}withConverter(e){return new wr(this.firestore,e,this._path)}}function Wo(t,e,...n){if(t=Mt(t),B_("collection","path",e),t instanceof eu){const r=ge.fromString(e,...n);return iy(r),new wr(t,null,r)}{if(!(t instanceof jt||t instanceof wr))throw new H(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return iy(r),new wr(t.firestore,null,r)}}function Wk(t,e,...n){if(t=Mt(t),arguments.length===1&&(e=Pw.newId()),B_("doc","path",e),t instanceof eu){const r=ge.fromString(e,...n);return ry(r),new jt(t,null,new q(r))}{if(!(t instanceof jt||t instanceof wr))throw new H(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return ry(r),new jt(t.firestore,t instanceof wr?t.converter:null,new q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="AsyncQueue";class ly{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new I_(this,"async_queue_retry"),this.bu=()=>{const r=fd();r&&B(ay,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const n=fd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=fd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new xr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ws(e))throw e;B(ay,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw On("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=hm.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&K()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class ym extends eu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ly,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ly(e),this._firestoreClient=void 0,await e}}}function Hk(t,e){const n=typeof t=="object"?t:Ew(),r=typeof t=="string"?t:nc,i=Kf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=wN("firestore");s&&Bk(i,...s)}return i}function H_(t){if(t._terminated)throw new H(L.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||qk(t),t._firestoreClient}function qk(t){var e,n,r;const i=t._freezeSettings(),s=function(c,u,d,f){return new dC(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,$_(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Lk(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ls(Ke.fromBase64String(e))}catch(n){throw new H(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ls(Ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=/^__.*__$/;class Gk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new ia(e,this.data,n,this.fieldTransforms)}}function K_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}class _m{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new _m(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return fc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(K_(this.Lu)&&Kk.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Qk{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yc(e)}ju(e,n,r,i=!1){return new _m({Lu:e,methodName:n,zu:r,path:We.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function G_(t){const e=t._freezeSettings(),n=Yc(t._databaseId);return new Qk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Yk(t,e,n,r,i,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);X_("Data must be an object, but it was:",o,r);const c=Q_(r,o);let u,d;if(s.merge)u=new Bt(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const g=Jk(e,p,n);if(!o.contains(g))throw new H(L.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);eA(f,g)||f.push(g)}u=new Bt(f),d=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,d=o.fieldTransforms;return new Gk(new At(c),u,d)}function Xk(t,e,n,r=!1){return Em(n,t.ju(r?4:3,e))}function Em(t,e){if(Y_(t=Mt(t)))return X_("Unsupported field value:",e,t),Q_(t,e);if(t instanceof q_)return function(r,i){if(!K_(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const c of r){let u=Em(c,i.Uu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jC(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Me.fromDate(r);return{timestampValue:lc(i.serializer,s)}}if(r instanceof Me){const s=new Me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lc(i.serializer,s)}}if(r instanceof xm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ls)return{bytesValue:m_(i.serializer,r._byteString)};if(r instanceof jt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:rm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof wm)return function(o,c){return{mapValue:{fields:{[Uw]:{stringValue:$w},[rc]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw c.Wu("VectorValues must only contain numeric values.");return em(c.serializer,d)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Zc(r)}`)}(t,e)}function Q_(t,e){const n={};return Dw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ai(t,(r,i)=>{const s=Em(i,e.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Y_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Me||t instanceof xm||t instanceof ls||t instanceof jt||t instanceof q_||t instanceof wm)}function X_(t,e,n){if(!Y_(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Zc(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function Jk(t,e,n){if((e=Mt(e))instanceof vm)return e._internalPath;if(typeof e=="string")return J_(t,e);throw fc("Field path arguments must be of type string or ",t,!1,void 0,n)}const Zk=new RegExp("[~\\*/\\[\\]]");function J_(t,e,n){if(e.search(Zk)>=0)throw fc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vm(...e.split("."))._internalPath}catch{throw fc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new H(L.INVALID_ARGUMENT,c+t+u)}function eA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tA extends Z_{data(){return super.data()}}function bm(t,e){return typeof e=="string"?J_(t,e):e instanceof vm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tm{}class rA extends Tm{}function iA(t,e,...n){let r=[];e instanceof Tm&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof Im).length,c=s.filter(u=>u instanceof tu).length;if(o>1||o>0&&c>0)throw new H(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class tu extends rA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new tu(e,n,r)}_apply(e){const n=this._parse(e);return e1(e._query,n),new Es(e.firestore,e.converter,Sh(e._query,n))}_parse(e){const n=G_(e.firestore);return function(s,o,c,u,d,f,p){let g;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new H(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){uy(p,f);const C=[];for(const A of p)C.push(cy(u,s,A));g={arrayValue:{values:C}}}else g=cy(u,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||uy(p,f),g=Xk(c,o,p,f==="in"||f==="not-in");return je.create(d,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function sA(t,e,n){const r=e,i=bm("where",t);return tu._create(i,r,n)}class Im extends Tm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Im(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Gt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const c=s.getFlattenedFilters();for(const u of c)e1(o,u),o=Sh(o,u)}(e._query,n),new Es(e.firestore,e.converter,Sh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function cy(t,e,n){if(typeof(n=Mt(n))=="string"){if(n==="")throw new H(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xw(e)&&n.indexOf("/")!==-1)throw new H(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ge.fromString(n));if(!q.isDocumentKey(r))throw new H(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return I0(t,new q(r))}if(n instanceof jt)return I0(t,n._key);throw new H(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zc(n)}.`)}function uy(t,e){if(!Array.isArray(t)||t.length===0)throw new H(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e1(t,e){const n=function(i,s){for(const o of i)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oA{convertValue(e,n="none"){switch(Nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw K()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ai(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[rc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ke(o.doubleValue));return new wm(s)}convertGeoPoint(e){return new xm(ke(e.latitude),ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fo(e));default:return null}}convertTimestamp(e){const n=Tr(e);return new Me(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ge.fromString(e);oe(w_(r));const i=new Uo(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||On(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lA extends Z_{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class bl extends lA{data(e={}){return super.data(e)}}class cA{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Za(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bl(this._firestore,this._userDataWriter,r.key,r,new Za(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{const u=new bl(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Za(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const u=new bl(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Za(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:uA(c.type),doc:u,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}class dA extends oA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ls(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function hA(t){t=hc(t,Es);const e=hc(t.firestore,ym),n=H_(e),r=new dA(e);return nA(t._query),zk(n,t._query).then(i=>new cA(e,r,t,i))}function nu(t,e){const n=hc(t.firestore,ym),r=Wk(t),i=aA(t.converter,e);return fA(n,[Yk(G_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Cn.exists(!1))]).then(()=>r)}function fA(t,e){return function(r,i){const s=new xr;return r.asyncQueue.enqueueAndForget(async()=>Sk(await Fk(r),i,s)),s.promise}(H_(t),e)}(function(e,n=!0){(function(i){vs=i})(ys),ts(new ti("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),c=new ym(new QS(r.getProvider("auth-internal")),new JS(o,r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new H(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uo(d.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),yr(m0,p0,e),yr(m0,p0,"esm2017")})();var mA="firebase",pA="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr(mA,pA,"app");function Nm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function t1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gA=t1,n1=new ta("auth","Firebase",t1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new Hf("@firebase/auth");function yA(t,...e){mc.logLevel<=ee.WARN&&mc.warn(`Auth (${ys}): ${t}`,...e)}function Tl(t,...e){mc.logLevel<=ee.ERROR&&mc.error(`Auth (${ys}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t,...e){throw Sm(t,...e)}function an(t,...e){return Sm(t,...e)}function r1(t,e,n){const r=Object.assign(Object.assign({},gA()),{[e]:n});return new ta("auth","Firebase",r).create(e,{appName:t.name})}function Gr(t){return r1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return n1.create(t,...e)}function G(t,e,...n){if(!t)throw Sm(e,...n)}function bn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tl(e),new Error(e)}function Vn(t,e){t||bn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vA(){return dy()==="http:"||dy()==="https:"}function dy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vA()||NN()||"connection"in navigator)?navigator.onLine:!0}function wA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vn(n>e,"Short delay should be less than long delay!"),this.isMobile=bN()||SN()}get(){return xA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(t,e){Vn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=new la(3e4,6e4);function km(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function bs(t,e,n,r,i={}){return s1(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const c=na(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:u},s);return IN()||(d.referrerPolicy="no-referrer"),i1.fetch()(o1(t,t.config.apiHost,n,c),d)})}async function s1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_A),e);try{const i=new TA(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw el(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw el(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw el(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw el(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw r1(t,f,d);Ln(t,f)}}catch(i){if(i instanceof zn)throw i;Ln(t,"network-request-failed",{message:String(i)})}}async function bA(t,e,n,r,i={}){const s=await bs(t,e,n,r,i);return"mfaPendingCredential"in s&&Ln(t,"multi-factor-auth-required",{_serverResponse:s}),s}function o1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Cm(t.config,i):`${t.config.apiScheme}://${i}`}class TA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(an(this.auth,"network-request-failed")),EA.get())})}}function el(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=an(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IA(t,e){return bs(t,"POST","/v1/accounts:delete",e)}async function a1(t,e){return bs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NA(t,e=!1){const n=Mt(t),r=await n.getIdToken(e),i=Am(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:vo(pd(i.auth_time)),issuedAtTime:vo(pd(i.iat)),expirationTime:vo(pd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function pd(t){return Number(t)*1e3}function Am(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Tl("JWT malformed, contained fewer than 3 sections"),null;try{const i=pw(n);return i?JSON.parse(i):(Tl("Failed to decode base64 JWT payload"),null)}catch(i){return Tl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function hy(t){const e=Am(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zn&&SA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function SA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vo(this.lastLoginAt),this.creationTime=vo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ho(t,a1(n,{idToken:r}));G(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?l1(s.providerUserInfo):[],c=AA(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(c!=null&&c.length),f=u?d:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Fh(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function kA(t){const e=Mt(t);await pc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AA(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function l1(t){return t.map(e=>{var{providerId:n}=e,r=Nm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RA(t,e){const n=await s1(t,{},async()=>{const r=na({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=o1(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",i1.fetch()(o,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PA(t,e){return bs(t,"POST","/v2/accounts:revokeToken",km(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){G(e.length!==0,"internal-error");const n=hy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await RA(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Hi;return r&&(G(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(G(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(G(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hi,this.toJSON())}_performRefresh(){return bn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Nm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Fh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ho(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NA(this,e)}reload(){return kA(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Tn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tn(this.auth.app))return Promise.reject(Gr(this.auth));const e=await this.getIdToken();return await Ho(this,IA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,d,f;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,T=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,A=(c=n.tenantId)!==null&&c!==void 0?c:void 0,P=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,_=(d=n.createdAt)!==null&&d!==void 0?d:void 0,x=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:b,emailVerified:D,isAnonymous:V,providerData:U,stsTokenManager:I}=n;G(b&&I,e,"internal-error");const v=Hi.fromJSON(this.name,I);G(typeof b=="string",e,"internal-error"),qn(p,e.name),qn(g,e.name),G(typeof D=="boolean",e,"internal-error"),G(typeof V=="boolean",e,"internal-error"),qn(T,e.name),qn(C,e.name),qn(A,e.name),qn(P,e.name),qn(_,e.name),qn(x,e.name);const E=new Tn({uid:b,auth:e,email:g,emailVerified:D,displayName:p,isAnonymous:V,photoURL:C,phoneNumber:T,tenantId:A,stsTokenManager:v,createdAt:_,lastLoginAt:x});return U&&Array.isArray(U)&&(E.providerData=U.map(w=>Object.assign({},w))),P&&(E._redirectEventId=P),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new Hi;i.updateFromServerResponse(n);const s=new Tn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await pc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];G(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?l1(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new Hi;c.updateFromIdToken(r);const u=new Tn({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Fh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=new Map;function In(t){Vn(t instanceof Function,"Expected a class definition");let e=fy.get(t);return e?(Vn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}c1.type="NONE";const my=c1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t,e,n){return`firebase:${t}:${e}:${n}`}class qi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Il(this.userKey,i.apiKey,s),this.fullPersistenceKey=Il("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Tn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new qi(In(my),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||In(my);const o=Il(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const f=await d._get(o);if(f){const p=Tn._fromJSON(e,f);d!==s&&(c=p),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new qi(s,e,r):(s=u[0],c&&await s._set(o,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new qi(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p1(e))return"Blackberry";if(g1(e))return"Webos";if(d1(e))return"Safari";if((e.includes("chrome/")||h1(e))&&!e.includes("edge/"))return"Chrome";if(m1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function u1(t=ot()){return/firefox\//i.test(t)}function d1(t=ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h1(t=ot()){return/crios\//i.test(t)}function f1(t=ot()){return/iemobile/i.test(t)}function m1(t=ot()){return/android/i.test(t)}function p1(t=ot()){return/blackberry/i.test(t)}function g1(t=ot()){return/webos/i.test(t)}function Rm(t=ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jA(t=ot()){var e;return Rm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DA(){return CN()&&document.documentMode===10}function y1(t=ot()){return Rm(t)||m1(t)||g1(t)||p1(t)||/windows phone/i.test(t)||f1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t,e=[]){let n;switch(t){case"Browser":n=py(ot());break;case"Worker":n=`${py(ot())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ys}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,c)=>{try{const u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(t,e={}){return bs(t,"GET","/v2/passwordPolicy",km(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=6;class VA{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:LA,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gy(this),this.idTokenSubscription=new gy(this),this.beforeStateQueue=new OA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=In(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await qi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await a1(this,{idToken:e}),r=await Tn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(tn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tn(this.app))return Promise.reject(Gr(this));const n=e?Mt(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tn(this.app)?Promise.reject(Gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tn(this.app)?Promise.reject(Gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(In(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MA(this),n=new VA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ta("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await PA(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&In(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=await qi.create(this,[In(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=v1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&yA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Pm(t){return Mt(t)}class gy{constructor(e){this.auth=e,this.observer=null,this.addObserver=MN(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UA(t){jm=t}function zA(t){return jm.loadJS(t)}function $A(){return jm.gapiScript}function BA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(t,e){const n=Kf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ei(s,e??{}))return i;Ln(i,"already-initialized")}return n.initialize({options:e})}function HA(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(In);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qA(t,e,n){const r=Pm(t);G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=x1(e),{host:o,port:c}=KA(e),u=c===null?"":`:${c}`,d={url:`${s}//${o}${u}/`},f=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){G(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),G(ei(d,r.config.emulator)&&ei(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,GA()}function x1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function KA(t){const e=x1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:yy(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:yy(o)}}}function yy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function GA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bn("not implemented")}_getIdTokenResponse(e){return bn("not implemented")}_linkToIdToken(e,n){return bn("not implemented")}_getReauthenticationResolver(e){return bn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ki(t,e){return bA(t,"POST","/v1/accounts:signInWithIdp",km(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="http://localhost";class ii extends w1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ii(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Nm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ii(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ki(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ki(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ki(e,n)}buildRequest(){const e={requestUri:QA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=na(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends _1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends ca{constructor(){super("facebook.com")}static credential(e){return ii._fromParams({providerId:Zn.PROVIDER_ID,signInMethod:Zn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zn.credentialFromTaggedObject(e)}static credentialFromError(e){return Zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zn.credential(e.oauthAccessToken)}catch{return null}}}Zn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends ca{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ii._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return er.credential(n,r)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends ca{constructor(){super("github.com")}static credential(e){return ii._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends ca{constructor(){super("twitter.com")}static credential(e,n){return ii._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return nr.credential(n,r)}catch{return null}}}nr.TWITTER_SIGN_IN_METHOD="twitter.com";nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Tn._fromIdTokenResponse(e,r,i),o=vy(r);return new cs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=vy(r);return new cs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function vy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends zn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gc(e,n,r,i)}}function E1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?gc._fromErrorAndOperation(t,s,e,r):s})}async function YA(t,e,n=!1){const r=await Ho(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XA(t,e,n=!1){const{auth:r}=t;if(tn(r.app))return Promise.reject(Gr(r));const i="reauthenticate";try{const s=await Ho(t,E1(r,i,e,t),n);G(s.idToken,r,"internal-error");const o=Am(s.idToken);G(o,r,"internal-error");const{sub:c}=o;return G(t.uid===c,r,"user-mismatch"),cs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ln(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(t,e,n=!1){if(tn(t.app))return Promise.reject(Gr(t));const r="signIn",i=await E1(t,r,e),s=await cs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function ZA(t,e,n,r){return Mt(t).onIdTokenChanged(e,n,r)}function eR(t,e,n){return Mt(t).beforeAuthStateChanged(e,n)}const yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yc,"1"),this.storage.removeItem(yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=1e3,nR=10;class T1 extends b1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=y1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);DA()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,nR):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},tR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}T1.type="LOCAL";const rR=T1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1 extends b1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}I1.type="SESSION";const N1=I1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ru(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(o).map(async d=>d(n.origin,s)),u=await iR(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ru.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{const d=Dm("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(g.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return window}function oR(t){ln().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){return typeof ln().WorkerGlobalScope<"u"&&typeof ln().importScripts=="function"}async function aR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function cR(){return S1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="firebaseLocalStorageDb",uR=1,vc="firebaseLocalStorage",k1="fbase_key";class ua{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function iu(t,e){return t.transaction([vc],e?"readwrite":"readonly").objectStore(vc)}function dR(){const t=indexedDB.deleteDatabase(C1);return new ua(t).toPromise()}function Uh(){const t=indexedDB.open(C1,uR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vc,{keyPath:k1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vc)?e(r):(r.close(),await dR(),e(await Uh()))})})}async function xy(t,e,n){const r=iu(t,!0).put({[k1]:e,value:n});return new ua(r).toPromise()}async function hR(t,e){const n=iu(t,!1).get(e),r=await new ua(n).toPromise();return r===void 0?null:r.value}function wy(t,e){const n=iu(t,!0).delete(e);return new ua(n).toPromise()}const fR=800,mR=3;class A1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>mR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return S1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ru._getInstance(cR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await aR(),!this.activeServiceWorker)return;this.sender=new sR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Uh();return await xy(e,yc,"1"),await wy(e,yc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>hR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=iu(i,!1).getAll();return new ua(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A1.type="LOCAL";const pR=A1;new la(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t,e){return e?In(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends w1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ki(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ki(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ki(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yR(t){return JA(t.auth,new Om(t),t.bypassAuthState)}function vR(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),XA(n,new Om(t),t.bypassAuthState)}async function xR(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),YA(n,new Om(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yR;case"linkViaPopup":case"linkViaRedirect":return xR;case"reauthViaPopup":case"reauthViaRedirect":return vR;default:Ln(this.auth,"internal-error")}}resolve(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=new la(2e3,1e4);class Oi extends R1{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Oi.currentPopupAction&&Oi.currentPopupAction.cancel(),Oi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return G(e,this.auth,"internal-error"),e}async onExecution(){Vn(this.filter.length===1,"Popup operations only handle one event");const e=Dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(an(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(an(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(an(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wR.get())};e()}}Oi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="pendingRedirect",Nl=new Map;class ER extends R1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Nl.get(this.auth._key());if(!e){try{const r=await bR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nl.set(this.auth._key(),e)}return this.bypassAuthState||Nl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bR(t,e){const n=NR(e),r=IR(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function TR(t,e){Nl.set(t._key(),e)}function IR(t){return In(t._redirectPersistence)}function NR(t){return Il(_R,t.config.apiKey,t.name)}async function SR(t,e,n=!1){if(tn(t.app))return Promise.reject(Gr(t));const r=Pm(t),i=gR(r,e),o=await new ER(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=10*60*1e3;class kR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!P1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(an(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CR&&this.cachedEventUids.clear(),this.cachedEventUids.has(_y(e))}saveEventToCache(e){this.cachedEventUids.add(_y(e)),this.lastProcessedEventTime=Date.now()}}function _y(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function P1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(t,e={}){return bs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jR=/^https?/;async function DR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RR(t);for(const n of e)try{if(OR(n))return}catch{}Ln(t,"unauthorized-domain")}function OR(t){const e=Vh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!jR.test(n))return!1;if(PR.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new la(3e4,6e4);function Ey(){const t=ln().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function LR(t){return new Promise((e,n)=>{var r,i,s;function o(){Ey(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ey(),n(an(t,"network-request-failed"))},timeout:MR.get()})}if(!((i=(r=ln().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ln().gapi)===null||s===void 0)&&s.load)o();else{const c=BA("iframefcb");return ln()[c]=()=>{gapi.load?o():n(an(t,"network-request-failed"))},zA(`${$A()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Sl=null,e})}let Sl=null;function VR(t){return Sl=Sl||LR(t),Sl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=new la(5e3,15e3),UR="__/auth/iframe",zR="emulator/auth/iframe",$R={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WR(t){const e=t.config;G(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cm(e,zR):`https://${t.config.authDomain}/${UR}`,r={apiKey:e.apiKey,appName:t.name,v:ys},i=BR.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${na(r).slice(1)}`}async function HR(t){const e=await VR(t),n=ln().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:WR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$R,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=an(t,"network-request-failed"),c=ln().setTimeout(()=>{s(o)},FR.get());function u(){ln().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KR=500,GR=600,QR="_blank",YR="http://localhost";class by{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XR(t,e,n,r=KR,i=GR){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},qR),{width:r.toString(),height:i.toString(),top:s,left:o}),d=ot().toLowerCase();n&&(c=h1(d)?QR:n),u1(d)&&(e=e||YR,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[T,C])=>`${g}${T}=${C},`,"");if(jA(d)&&c!=="_self")return JR(e||"",c),new by(null);const p=window.open(e||"",c,f);G(p,t,"popup-blocked");try{p.focus()}catch{}return new by(p)}function JR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="__/auth/handler",eP="emulator/auth/handler",tP=encodeURIComponent("fac");async function Ty(t,e,n,r,i,s){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ys,eventId:i};if(e instanceof _1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ON(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof ca){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const u=await t._getAppCheckToken(),d=u?`#${tP}=${encodeURIComponent(u)}`:"";return`${nP(t)}?${na(c).slice(1)}${d}`}function nP({config:t}){return t.emulator?Cm(t,eP):`https://${t.authDomain}/${ZR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="webStorageSupport";class rP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N1,this._completeRedirectFn=SR,this._overrideRedirectResult=TR}async _openPopup(e,n,r,i){var s;Vn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Ty(e,n,r,Vh(),i);return XR(e,o,Dm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Ty(e,n,r,Vh(),i);return oR(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Vn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await HR(e),r=new kR(e);return n.register("authEvent",i=>(G(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gd,{type:gd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[gd];o!==void 0&&n(!!o),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return y1()||d1()||Rm()}}const iP=rP;var Iy="@firebase/auth",Ny="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aP(t){ts(new ti("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;G(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v1(t)},d=new FA(r,i,s,u);return HA(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ts(new ti("auth-internal",e=>{const n=Pm(e.getProvider("auth").getImmediate());return(r=>new sP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(Iy,Ny,oP(t)),yr(Iy,Ny,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=5*60,cP=vw("authIdTokenMaxAge")||lP;let Sy=null;const uP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>cP)return;const i=n==null?void 0:n.token;Sy!==i&&(Sy=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function dP(t=Ew()){const e=Kf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=WA(t,{popupRedirectResolver:iP,persistence:[pR,rR,N1]}),r=vw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=uP(s.toString());eR(n,o,()=>o(n.currentUser)),ZA(n,c=>o(c))}}const i=gw("auth");return i&&qA(n,`http://${i}`),n}function hP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}UA({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=an("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",hP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aP("Browser");const fP={apiKey:"AIzaSyDn_DUfKg6k6pXNWLjxbUQGpd_KsgCotKQ",authDomain:"ecofisco-bccc2.firebaseapp.com",projectId:"ecofisco-bccc2",storageBucket:"ecofisco-bccc2.firebasestorage.app",messagingSenderId:"825645680379",appId:"1:825645680379:web:65c1127961d7cbfab7925e",measurementId:"G-GVR41XL0DX"},j1=_w(fP);dP(j1);const qo=Hk(j1);function Ts({title:t,description:e="Expert assistance for foreigners in Italy - Immigration, Tax, and Legal Services",keywords:n="Italy immigration, tax consultant Italy, legal services Italy, foreigners assistance Italy",ogImage:r="/og-image.jpg",ogUrl:i="https://ecofisco.com"}){const s=`${t} | E-Co Fisco - Italian Immigration Experts`;return l.jsxs(rN,{children:[l.jsx("title",{children:s}),l.jsx("meta",{name:"description",content:e}),l.jsx("meta",{name:"keywords",content:n}),l.jsx("meta",{property:"og:title",content:s}),l.jsx("meta",{property:"og:description",content:e}),l.jsx("meta",{property:"og:image",content:r}),l.jsx("meta",{property:"og:url",content:i}),l.jsx("meta",{property:"og:type",content:"website"}),l.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),l.jsx("meta",{name:"twitter:title",content:s}),l.jsx("meta",{name:"twitter:description",content:e}),l.jsx("meta",{name:"twitter:image",content:r}),l.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),l.jsx("meta",{httpEquiv:"Content-Type",content:"text/html; charset=utf-8"}),l.jsx("meta",{name:"language",content:"English"}),l.jsx("meta",{name:"revisit-after",content:"7 days"}),l.jsx("meta",{name:"author",content:"E-Co Fisco"})]})}const mP=()=>{const t=["consulates","visas","dual citizenship","citizenship by marriage"],[e,n]=j.useState(0),[r,i]=j.useState(!1);j.useEffect(()=>{const o=setInterval(()=>{i(!0),setTimeout(()=>{n(c=>(c+1)%t.length),i(!1)},600)},3e3);return()=>clearInterval(o)},[]);const s=t[e].split("");return l.jsx("span",{className:"elementor-headline-dynamic-wrapper text-white text-5xl",style:{display:"inline-block",minWidth:"280px"},children:s.map((o,c)=>l.jsx("span",{className:`elementor-headline-dynamic-letter ${r?"elementor-headline-animation-out":"elementor-headline-animation-in"}`,style:{animationDelay:`${r?0:c*.1}s`,display:"inline-block",width:o===" "?"0.3em":"auto"},children:o},`${e}-${c}`))})};function pP(){var i;const[t,e]=j.useState("residence"),n=Zo(),r=[{id:"residence",title:"Residence permit",content:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Residence permit release"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Start your life in Italy"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"We assist you in the first application for a residence permit, residence card and long-term residence permit."})]}),l.jsx("button",{onClick:()=>n("/residence-permit-request"),className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),l.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Renewal of residence permit"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Maintain the right to reside"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"If you have an expiring or expired permit, don't waste any more time, one of our immigration lawyers will follow you."})]}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),l.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Residence permit conversion"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Change your stay requirements"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"If you no longer meet the requirements to renew your residence permit or want to change it completely."})]}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]})]})},{id:"citizenship",title:"Italian citizenship",content:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Italian citizenship by residence"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Naturalization as an Italian citizen"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"After 10 years of residence you can apply for Italian citizenship with our immigration lawyer."})]}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),l.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Italian citizenship by marriage"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Get your spouse's rights"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"After 2 or 3 years of marriage with an Italian citizen, you acquire the right to Italian citizenship."})]}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),l.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Italian citizenship by descent"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Claim your blood right"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"If one of your ancestors who emigrated abroad was an Italian citizen, you may be entitled to become one too."})]}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]})]})},{id:"family",title:"Family reunification",content:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Family reunification"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Reunite with your loved ones who remain abroad"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"Get clearance for your family members to reunite abroad with our lawyer for foreigners."})]}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),l.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Family cohesion"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Reunite with your relatives already in Italy"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"Obtain a residence permit for family reasons without having to go through the Prefecture's clearance."})]}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]})]})},{id:"companies",title:"Companies and employers",content:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Request for non-EU personnel"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Hire staff from abroad"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"If you want to hire foreign staff you may have to do so through the click day of the Flow Decree."})]}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),l.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"EU Blue Card"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Hire highly specialized staff"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"Our agency for foreigners follows your company in hiring highly qualified personnel."})]}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),l.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Sending application for flow decree"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Get a work visa"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"Our agency for foreigners guarantees the success of the applications sent during the Decreto Flussi click days."})]}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),l.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Certification of the flow decree"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"One of the most important documents"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"The certification of the flow decree is a crucial document for the hiring of foreign workers."})]}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]})]})},{id:"translation",title:"Translation, policies and surety",content:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Sworn translation"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Prepare everything you need"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"Our agency for foreigners can provide you with certified translations of documents produced abroad."})]}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),l.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Health insurance"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Often required for visa"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"Health insurance is required to apply for an entry visa and covers health risks."})]}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),l.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Bank guarantee"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Increase your chances of getting a visa"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"A bank guarantee that covers repatriation costs and increases the chances of receiving a visa for Italy."})]}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]})]})},{id:"documents",title:"Documents for visa",content:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Work Visa"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Start your new career"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"Get a visa for non-seasonal, domestic or seasonal work with our agency for foreigners."})]}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),l.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Study Visa"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Follow your dreams in Italy"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"The best choice to live in Italy as a university student, intern or to learn the Italian language."})]}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),l.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Elective residence visa"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Enjoy the Italian Dolce Vita"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"Take advantage of the advice of an immigration lawyer for this visa reserved for those who want to live in Italy without working."})]}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]})]})}];return l.jsxs(l.Fragment,{children:[l.jsx(Ts,{title:"Home",description:"Expert assistance for foreigners in Italy. We specialize in immigration services, tax consulting, and legal support for international clients.",keywords:"Italy immigration experts, tax consultant Italy, legal services Italy, foreigners assistance Italy, visa Italy, citizenship Italy"}),l.jsxs("div",{className:"max-w-7xl mx-auto py-4 sm:py-6 md:py-8 lg:py-10 px-4 sm:px-8 lg:px-16",children:[l.jsx("div",{className:"relative rounded-xl overflow-hidden mb-8 sm:mb-12",children:l.jsxs("div",{className:"relative w-full h-[400px] sm:h-[400px] md:h-[500px] lg:h-[600px]",children:[l.jsx("img",{src:dN,alt:"Italian Immigration Experts",className:"absolute inset-0 w-full h-full object-cover rounded-xl"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/70 to-black-800/60 rounded-xl",children:l.jsxs("div",{className:"p-4 sm:p-8 md:p-10 lg:p-12 max-w-3xl",children:[l.jsxs("h1",{className:"hidden md:block text-3xl md:text-4xl lg:text-5xl font-extrabold tracking-tight text-white mb-4 sm:mb-8",children:[l.jsx("span",{className:"tracking-wider text-white glow-blue-900 px-3 py-1 rounded-lg",children:"Welcome to"})," ",l.jsx("span",{className:"bg-blue-700/50 text-white border border-white/50 px-1 rounded-lg",style:{WebkitTextStroke:"0.5px white"},children:"E-Co FISCO"})]}),l.jsx("div",{className:"mb-4 sm:mb-8",children:l.jsxs("p",{className:"text-xl sm:text-2xl text-white font-light leading-relaxed",children:["Struggling with Italian bureaucracy?",l.jsx("span",{className:"block mt-2 text-lg sm:text-xl",children:"As Italian immigration experts, we understand."})]})}),l.jsxs("div",{className:"mb-6 sm:mb-10",children:[l.jsx("span",{className:"block text-xl sm:text-2xl md:text-3xl font-medium text-white mb-2 sm:mb-4",children:"Never again problems with Italian"}),l.jsx(mP,{})]}),l.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2",children:l.jsx("button",{onClick:()=>{const s=document.querySelector(".relative.bg-blue-50");s==null||s.scrollIntoView({behavior:"smooth"})},className:"inline-block px-4 sm:px-8 py-2 sm:py-3 bg-white text-blue-600 rounded-full text-base sm:text-lg font-semibold hover:bg-gray-100 transition-colors",children:"Start Here"})})]})})]})}),l.jsxs("div",{className:"bg-transparent rounded-lg p-6 text-gray-700 mb-16 font-poppins flex flex-col items-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-blue-500 text-center mb-4 max-w-3xl",children:"Italy is 57th in terms of efficiency of Public Administration"}),l.jsx("h3",{className:"text-xl font-semibold text-center mt-4 max-w-2xl mx-auto",children:"Why is it so difficult to communicate with public offices?"}),l.jsxs("ul",{className:"list-disc mt-8 text-left max-w-2xl mx-auto",children:[l.jsx("li",{className:"mb-2",children:"Language and cultural barriers."}),l.jsx("li",{className:"mb-2",children:"Very long waiting times."}),l.jsx("li",{className:"mb-2",children:"Ever-changing rules."}),l.jsx("li",{className:"mb-2",children:"Need to interact with different offices."}),l.jsx("li",{className:"mb-2",children:"A redundant amount of necessary documents."})]}),l.jsx("div",{className:"flex justify-center mt-6",children:l.jsx("svg",{className:"w-10 h-10 text-blue-600 animate-bounce",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fill:"currentColor",d:"M143 256.3L7 120.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0L313 86.3c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.4 9.5-24.6 9.5-34 .1zm34 192l136-136c9.4-9.4 9.4-24.6 0-33.9l-22.6-22.6c-9.4-9.4-24.6-9.4-33.9 0L160 352.1l-96.4-96.4c-9.4-9.4-24.6-9.4-33.9 0L7 278.3c-9.4 9.4-9.4 24.6 0 33.9l136 136c9.4 9.5 24.6 9.5 34 .1z"})})})]}),l.jsxs("div",{className:"relative bg-blue-50 py-12 mb-12 rounded-[40px] mx-4 border border-gray-300  ",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full overflow-hidden",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 100",preserveAspectRatio:"none",className:"h-16 w-full rounded-t-[40px]",children:l.jsx("path",{className:"fill-white",d:"M1000,4.3V0H0v4.3C0.9,23.1,126.7,99.2,500,100S1000,22.7,1000,4.3z"})})}),l.jsxs("div",{className:"relative z-10 max-w-[95%] mx-auto ",children:[l.jsx("h2",{className:"text-3xl font-bold text-center text-blue-500 mb-4",children:"Our Immigration Services"}),l.jsx("h3",{className:"text-xl text-center text-gray-700 mb-12",children:"How our agency for foreigners can help you"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:r.map(s=>l.jsx("button",{onClick:()=>e(s.id),className:`px-4 py-2 rounded-full transition-colors border border-gray-400 ${t===s.id?"bg-blue-600 text-white border-transparent":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:s.title},s.id))}),l.jsx("div",{className:"mt-8",children:(i=r.find(s=>s.id===t))==null?void 0:i.content})]})]}),l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 py-8 rounded-[40px] mb-12 mx-4 border border-gray-300",children:l.jsx("div",{className:"max-w-[95%] mx-auto flex justify-center",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 justify-items-center",children:[l.jsx("div",{className:"p-4 rounded-[24px]",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsxs("svg",{className:"w-8 h-8 mb-2 text-blue-400",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M12 6v6l4 2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"})]}),l.jsx("h3",{className:"text-lg font-semibold text-gray-700 text-center mb-1",children:"Stress-free documents"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins text-center",children:"Never-ending waits for your documents will be a thing of the past."})]})}),l.jsx("div",{className:"p-4 rounded-[24px]",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsxs("svg",{className:"w-8 h-8 mb-2 text-blue-400",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("rect",{x:"4",y:"3",width:"16",height:"18",rx:"2",stroke:"currentColor",strokeWidth:"2"}),l.jsx("path",{d:"M8 8h8M8 12h8M8 16h6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),l.jsx("h3",{className:"text-lg font-semibold text-gray-700 text-center mb-1",children:"At your side with embassies"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins text-center",children:"From the first steps at the Embassy to citizenship we are with you."})]})}),l.jsx("div",{className:"p-4 rounded-[24px]",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("svg",{className:"w-8 h-8 mb-2 text-blue-400",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M12.87 15.07l-2.54-2.51.03-.03A17.52 17.52 0 0014.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7l1.62-4.33L19.12 17h-3.24z",fill:"currentColor"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-700 text-center mb-2",children:"Consulting in your language"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins text-center",children:"We communicate in multiple languages to ensure seamless support."})]})})]})})}),l.jsx("div",{className:"bg-[#] py-16 rounded-[40px]",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-blue-500 mb-4",children:"Native speaking immigration experts"}),l.jsxs("p",{className:"text-lg text-gray-600",children:["Say goodbye to language barriers, ",l.jsx("strong",{children:"our immigration consultants speak your language"}),", so we understand each other better and find the best solution in record time."]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-8 mb-12",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Italy"}),l.jsx("div",{className:"rounded-[24px] overflow-hidden flex justify-center",children:l.jsx("img",{src:yi,alt:"Italian Immigration Expert in Italy",className:"w-[35%] border border-gray-500 rounded-[100px]"})})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Spain"}),l.jsx("div",{className:"rounded-[24px] overflow-hidden flex justify-center",children:l.jsx("img",{src:yi,alt:"Spanish Immigration Expert in Italy",className:"w-[35%] border border-gray-500 rounded-[100px]"})})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:"England"}),l.jsx("div",{className:"rounded-[24px] overflow-hidden flex justify-center",children:l.jsx("img",{src:yi,alt:"English Immigration Expert in Italy",className:"w-[35%] border border-gray-500 rounded-[100px]"})})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Morocco"}),l.jsx("div",{className:"rounded-[24px] overflow-hidden flex justify-center",children:l.jsx("img",{src:yi,alt:"Moroccan Immigration Expert in Italy",className:"w-[35%] border border-gray-500 rounded-[100px]"})})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:"France"}),l.jsx("div",{className:"rounded-[24px] overflow-hidden flex justify-center",children:l.jsx("img",{src:yi,alt:"French Immigration Expert in Italy",className:"w-[35%] border border-gray-500 rounded-[100px]"})})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Bangladesh"}),l.jsx("div",{className:"rounded-[24px] overflow-hidden flex justify-center",children:l.jsx("img",{src:yi,alt:"Bangladeshi Immigration Expert in Italy",className:"w-[35%] border border-gray-500 rounded-[100px]"})})]})]})]})}),l.jsx("div",{className:"bg-transparent py-16",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[l.jsx("h2",{className:"text-3xl font-bold text-center text-blue-500 mb-8",children:"What our customers say"}),l.jsxs("div",{className:"flex justify-center items-center gap-2 mb-8",children:[[...Array(5)].map((s,o)=>l.jsx("svg",{className:"w-6 h-6 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},o)),l.jsx("span",{className:"ml-2 text-xl font-semibold text-gray-900",children:"5.0"})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[{name:"Akiko Tanaka",location:"Tokyo, Japan",initials:"AT",review:"E-Co FISCO made my visa application process incredibly smooth. Their expertise and professional guidance helped me."},{name:"Carlos Silva",location:"So Paulo, Brazil",initials:"CS",review:"Outstanding service! They helped me obtain my work visa in record time. Very professional and knowledgeable team."},{name:"Maria Garcia",location:"Madrid, Spain",initials:"MG",review:"The team at E-Co FISCO was incredibly helpful throughout my citizenship application process. Highly recommended!"},{name:"John Smith",location:"London, UK",initials:"JS",review:"Excellent support for my residency permit application. Clear communication and great results."},{name:"Sophie Martin",location:"Paris, France",initials:"SM",review:"Their expertise in Italian immigration law is unmatched. Made the whole process stress-free."},{name:"Ahmed Hassan",location:"Cairo, Egypt",initials:"AH",review:"Very professional service. They handled my student visa application perfectly."},{name:"Li Wei",location:"Beijing, China",initials:"LW",review:"Great experience working with E-Co FISCO. They made the complex simple."},{name:"Anna Kowalski",location:"Warsaw, Poland",initials:"AK",review:"Fantastic support throughout my visa application. Would definitely recommend."}].map((s,o)=>l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border-2 border-gray-200 relative min-h-[300px]",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-400 to-blue-600 flex items-center justify-center",children:l.jsx("span",{className:"text-sm text-white font-semibold",children:s.initials})})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center",children:s.name}),l.jsx("p",{className:"text-sm text-gray-500 mb-4 text-center",children:s.location}),l.jsx("div",{className:"flex justify-center mb-4",children:[...Array(5)].map((c,u)=>l.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},u))}),l.jsx("p",{className:"text-gray-700 text-sm text-center pb-8",children:s.review}),l.jsx("p",{className:"text-sm text-gray-500 text-center absolute bottom-6 left-0 right-0",children:["3 months ago","9 months ago","4 months ago","7 months ago","2 years ago","11 months ago","1 year ago","7 months ago"][o]})]},o))})]})}),l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-700 py-16 rounded-[40px]",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:[l.jsxs("div",{className:"text-center md:text-left max-w-2xl",children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Choose the most loved immigration agency in Italy"}),l.jsx("p",{className:"text-lg text-blue-100",children:"To avoid making fatal mistakes, find out how we can help you."})]}),l.jsx("div",{children:l.jsx("a",{href:"/book-appointment",className:"inline-block px-6 py-3 bg-white text-blue-600 rounded-full text-lg font-semibold hover:bg-blue-50 transition-colors hover:transform hover:translate-y-[-2px] whitespace-nowrap",children:"Book an Appointment"})})]})})}),l.jsxs("div",{className:"bg-transparent border border-gray-300 rounded-[40px] relative mt-16",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full overflow-hidden"}),l.jsxs("div",{className:"bg-transparent py-24",children:[l.jsx("div",{className:"relative w-full overflow-hidden"}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 grid md:grid-cols-2 gap-12",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Why You Should NOT Choose E-Co Fisco"}),l.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"We can't help you if"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("details",{className:"border border-gray-300 rounded-lg",children:[l.jsxs("summary",{className:"cursor-pointer p-4 font-semibold flex justify-between items-center",children:["Looking for quick shortcuts?",l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})]}),l.jsx("div",{className:"p-4 pt-0",children:l.jsx("p",{children:"Our process is careful and meticulous, ensuring every detail is perfect. If you are looking for a quick and superficial solution, our agency for foreigners is not the right choice, because we offer a higher level of care and attention."})})]}),l.jsxs("details",{className:"border border-gray-300 rounded-lg",children:[l.jsxs("summary",{className:"cursor-pointer p-4 font-semibold flex justify-between items-center",children:["You prefer a generic and impersonal service",l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})]}),l.jsx("div",{className:"p-4 pt-0",children:l.jsx("p",{children:"We take the time to understand your specific needs and tailor our approach to you. If you are looking for a standard solution that fits everyone, our law firm for foreigners may not be the right choice."})})]}),l.jsxs("details",{className:"border border-gray-300 rounded-lg",children:[l.jsxs("summary",{className:"cursor-pointer p-4 font-semibold flex justify-between items-center",children:["You don't want to invest in quality and long-term results",l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})]}),l.jsx("div",{className:"p-4 pt-0",children:l.jsx("p",{children:"We don't offer the cheapest solutions, but we guarantee exceptional value and long-lasting results. If your goal is to reduce costs rather than to achieve the best possible outcome, our foreign law firm may not be the right choice for you."})})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Why You Should Choose E-Co Fisco"}),l.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"We will fight for you if"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("details",{className:"border border-gray-300 rounded-lg",children:[l.jsxs("summary",{className:"cursor-pointer p-4 font-semibold flex justify-between items-center",children:["Do you want peace of mind by relying on experts?",l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})]}),l.jsx("div",{className:"p-4 pt-0",children:l.jsx("p",{children:"If you are looking for a smooth immigration process, handled with professionalism and attention to detail, our immigration lawyer allows you to focus on your personal and professional goals without unnecessary stress."})})]}),l.jsxs("details",{className:"border border-gray-300 rounded-lg",children:[l.jsxs("summary",{className:"cursor-pointer p-4 font-semibold flex justify-between items-center",children:["You value your time and want to avoid costly mistakes",l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})]}),l.jsx("div",{className:"p-4 pt-0",children:l.jsx("p",{children:"The paperwork can be complex, but our experience streamlines the process, minimizing delays and errors, so you can get results faster and without unnecessary expense. Our lawyer for foreigners is at your side to guide you through every step."})})]}),l.jsxs("details",{className:"border border-gray-300 rounded-lg",children:[l.jsxs("summary",{className:"cursor-pointer p-4 font-semibold flex justify-between items-center",children:["You seek precision and efficiency to achieve your goals",l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})]}),l.jsx("div",{className:"p-4 pt-0",children:l.jsx("p",{children:"Whether it's a visa, citizenship or other immigration needs, we offer a structured approach that gets you where you need to be with minimal disruption to your life or business. Our law firm for foreigners is ready to support you in every phase of the process."})})]})]})]})]})]})]}),l.jsx("div",{className:"bg-blue-600 rounded-[40px] mx-4 mt-8 border border-gray-300 max-w-7xl mx-auto",children:l.jsxs("div",{className:"max-w-7xl mx-auto grid md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-transparent p-8 rounded-[24px] contact-info-column text-center md:text-left flex flex-col items-start justify-center",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-4",children:"Contact a expert for foreigners"}),l.jsx("p",{className:"text-sm sm:text-base text-white mb-6",children:"Our agency for foreigners is at your disposal for the most daily practices up to the most complex cases."})]}),l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 md:rounded-tr-[39px] md:rounded-br-[39px] md:rounded-bl-[0px] rounded-br-[39px] rounded-bl-[39px]",children:l.jsxs("form",{className:"space-y-4 p-8",onSubmit:async s=>{s.preventDefault();const o=s.target,c=new FormData(o);try{await nu(Wo(qo,"contacts"),{name:c.get("name"),surname:c.get("surname"),email:c.get("email"),location:c.get("location"),message:c.get("message"),date:new Date().toISOString(),privacyAccepted:c.get("privacy_accepted")==="on"});const u=document.createElement("div");u.innerHTML=`
            <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
              <div class="bg-white rounded-lg p-6 max-w-sm w-full">
                <div class="flex justify-center mb-4">
                  <svg class="w-12 h-12 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <h3 class="text-xl font-bold text-center mb-2">Message</h3>
                <p class="text-gray-600 text-center mb-6">Thanks for your submission!<br />We'll be in touch with you shortly.</p>
                <button class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">
                  OK
                </button>
              </div>
            </div>
          `,document.body.appendChild(u),u.querySelector("button").onclick=()=>{u.remove()},o.reset()}catch(u){console.error("Error submitting form:",u);const d=document.createElement("div");d.innerHTML=`
            <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
              <div class="bg-white rounded-lg p-6 max-w-sm w-full">
                <div class="flex justify-center mb-4">
                  <svg class="w-12 h-12 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                  </svg>
                </div>
                <h3 class="text-xl font-bold text-center mb-2">Message</h3>
                <p class="text-gray-600 text-center mb-6">Oops! There was a problem submitting your form</p>
                <button class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">
                  OK
                </button>
              </div>
            </div>
          `,document.body.appendChild(d),d.querySelector("button").onclick=()=>{d.remove()}}},children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("input",{type:"text",name:"name",placeholder:"Name*",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"}),l.jsx("input",{type:"text",name:"surname",placeholder:"Surname",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"})]}),l.jsx("input",{type:"email",name:"email",placeholder:"E-mail*",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"}),l.jsx("input",{type:"text",name:"location",placeholder:"Where are you writing to us from?",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"}),l.jsx("textarea",{name:"message",placeholder:"Message*",required:!0,rows:3,className:"p-3 border border-gray-300 rounded-[20px] w-full bg-gray-50 text-sm"}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("input",{type:"checkbox",name:"privacy_accepted",required:!0,className:"mt-1 mr-2"}),l.jsxs("label",{className:"text-xs sm:text-sm text-gray-600",children:["I confirm that I have read the ",l.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"privacy policy"})]})]}),l.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-6 rounded-[40px] hover:bg-blue-700 transition-colors font-semibold text-sm sm:text-base",children:"SEND REQUEST"})]})})]})})]})]})}function gP(){return l.jsxs(l.Fragment,{children:[l.jsx(Ts,{title:"Our Services",description:"Comprehensive immigration and tax services for foreigners in Italy. Expert assistance with visas, permits, citizenship, and tax consulting.",keywords:"immigration services Italy, tax services Italy, visa assistance, residence permit Italy, citizenship application, tax consultant foreigners"}),l.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-600 sm:text-4xl",children:"Our Services"}),l.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-gray-500 sm:text-lg",children:"Comprehensive professional services to support your business and personal needs."})]}),l.jsx("div",{className:"mt-16",children:l.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3",children:[l.jsxs("div",{className:"group relative bg-white rounded-3xl overflow-hidden transition-all duration-300 hover:shadow-xl",children:[l.jsx("div",{className:"h-48 w-full overflow-hidden",children:l.jsx("img",{src:"https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?auto=format&fit=crop&q=80&w=800",alt:"VAT Management",className:"w-full h-full object-cover object-center group-hover:scale-110 transition-transform duration-300"})}),l.jsxs("div",{className:"p-6 bg-white relative",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"VAT Management"}),l.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Opening, modification & closure assistance for traders, artisans, and freelancers."}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full text-sm font-medium hover:bg-blue-700 transition-colors",children:"Learn More"})]})]}),l.jsxs("div",{className:"group relative bg-white rounded-3xl overflow-hidden transition-all duration-300 hover:shadow-xl",children:[l.jsx("div",{className:"h-48 w-full overflow-hidden",children:l.jsx("img",{src:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?auto=format&fit=crop&q=80&w=800",alt:"Tax Declarations",className:"w-full h-full object-cover object-center group-hover:scale-110 transition-transform duration-300"})}),l.jsxs("div",{className:"p-6 bg-white relative",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Tax Declarations"}),l.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Expert assistance with Single Model PF and 730 Tax Declarations."}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full text-sm font-medium hover:bg-blue-700 transition-colors",children:"Learn More"})]})]}),l.jsxs("div",{className:"group relative bg-white rounded-3xl overflow-hidden transition-all duration-300 hover:shadow-xl",children:[l.jsx("div",{className:"h-48 w-full overflow-hidden",children:l.jsx("img",{src:"https://images.unsplash.com/photo-1569974498991-d3c12a504f95?auto=format&fit=crop&q=80&w=800",alt:"Immigration Services",className:"w-full h-full object-cover object-center group-hover:scale-110 transition-transform duration-300"})}),l.jsxs("div",{className:"p-6 bg-white relative",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Immigration Services"}),l.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Complete support for residence permits, citizenship, and family reunification."}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full text-sm font-medium hover:bg-blue-700 transition-colors",children:"Learn More"})]})]}),l.jsxs("div",{className:"group relative bg-white rounded-3xl overflow-hidden transition-all duration-300 hover:shadow-xl",children:[l.jsx("div",{className:"h-48 w-full overflow-hidden",children:l.jsx("img",{src:"https://images.unsplash.com/photo-1450101499163-c8848c66ca85?auto=format&fit=crop&q=80&w=800",alt:"INAIL Services",className:"w-full h-full object-cover object-center group-hover:scale-110 transition-transform duration-300"})}),l.jsxs("div",{className:"p-6 bg-white relative",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"INAIL Services"}),l.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Complete management of work insurance and safety compliance."}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full text-sm font-medium hover:bg-blue-700 transition-colors",children:"Learn More"})]})]}),l.jsxs("div",{className:"group relative bg-white rounded-3xl overflow-hidden transition-all duration-300 hover:shadow-xl",children:[l.jsx("div",{className:"h-48 w-full overflow-hidden",children:l.jsx("img",{src:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?auto=format&fit=crop&q=80&w=800",alt:"INPS Services",className:"w-full h-full object-cover object-center group-hover:scale-110 transition-transform duration-300"})}),l.jsxs("div",{className:"p-6 bg-white relative",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"INPS Services"}),l.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Comprehensive social security and benefits management."}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full text-sm font-medium hover:bg-blue-700 transition-colors",children:"Learn More"})]})]}),l.jsxs("div",{className:"group relative bg-white rounded-3xl overflow-hidden transition-all duration-300 hover:shadow-xl",children:[l.jsx("div",{className:"h-48 w-full overflow-hidden",children:l.jsx("img",{src:"https://images.unsplash.com/photo-1563986768609-322da13575f3?auto=format&fit=crop&q=80&w=800",alt:"Digital Identity",className:"w-full h-full object-cover object-center group-hover:scale-110 transition-transform duration-300"})}),l.jsxs("div",{className:"p-6 bg-white relative",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Digital Identity"}),l.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Setup and management of PEC and SPID digital identity services."}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full text-sm font-medium hover:bg-blue-700 transition-colors",children:"Learn More"})]})]})]})})]})]})}const Gn="/assets/guide-Dwjbz0E4.jpg";function yP(){const[t,e]=j.useState(""),[n,r]=j.useState("All"),i=[{name:"All",href:"#"},{name:"Family Reunification",href:"#"},{name:"Residence Permits",href:"#"},{name:"Italian Citizenship",href:"#"},{name:"Entry Visas",href:"#"},{name:"Flows Decree",href:"#"},{name:"Sanatorium",href:"#"}],o=[{title:"Italian Citizenship 2024  Official Updated Guide",category:"Italian Citizenship",image:Gn,date:"03/10/2024",excerpt:"Everything you need to know about obtaining Italian citizenship in 2024, including requirements, procedures and common pitfalls to avoid.",href:"/blog/italian-citizenship-2024",author:"Marco Rossi"},{title:"Family Reunification Process Explained",category:"Family Reunification",image:Gn,date:"02/10/2024",excerpt:"A comprehensive guide to reuniting with your family in Italy - documents needed, timelines and step-by-step procedures.",href:"/blog/family-reunification",author:"Sofia Bianchi"},{title:"Flow Decree Certification: Updated Official Guide",category:"Flows Decree",image:Gn,date:"02/03/2024",excerpt:"Latest updates on the Flow Decree certification process, including new requirements and deadlines for 2024.",href:"/blog/flow-decree-guide",author:"Giuseppe Verdi"},{title:"Wrong Flow Decree Nulla Osta: How to Correct it and Get a Visa Immediately",category:"Flows Decree",image:Gn,date:"12/02/2024",excerpt:"Common mistakes in Nulla Osta applications and how to fix them quickly to avoid visa delays.",href:"/blog/nulla-osta-correction",author:"Anna Ferrari"},{title:"Residence Permit for Study  Official Guide 2023",category:"Residence Permits",image:Gn,date:"11/07/2023",excerpt:"Complete guide for international students seeking to obtain and maintain their study permits in Italy.",href:"/blog/study-permit-guide",author:"Luca Romano"},{title:"International Protection in Italy 2023: Requirements, Procedure, Appeal",category:"Residence Permits",image:Gn,date:"10/07/2023",excerpt:"Understanding the process of seeking international protection in Italy - from application to appeal.",href:"/blog/international-protection",author:"Elena Conti"}].filter(c=>{const u=c.title.toLowerCase().includes(t.toLowerCase())||c.excerpt.toLowerCase().includes(t.toLowerCase()),d=n==="All"||c.category===n;return u&&d});return l.jsxs(l.Fragment,{children:[l.jsx(Ts,{title:"Immigration Guides",description:"Comprehensive guides and resources for navigating Italian immigration, tax systems, and legal procedures for foreigners.",keywords:"Italy immigration guide, Italian visa guide, residence permit guide, citizenship guide Italy, tax guide Italy"}),l.jsx("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"relative mb-8 rounded-xl overflow-hidden",children:[l.jsx("img",{src:Gn,alt:"Immigration Blog",className:"w-full h-64 object-cover"}),l.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col justify-center items-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-white sm:text-4xl",children:"Official Guides Immigration Law in Italy"}),l.jsx("h3",{className:"mt-3 text-xl text-white",children:"Get expert advice from our agency for foreigners and stay informed with the latest updates"})]})]}),l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"relative max-w-lg mx-auto",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx("svg",{className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),l.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border-2 border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search blog posts...",value:t,onChange:c=>e(c.target.value)})]})}),l.jsx("div",{className:"mb-8 flex flex-wrap justify-center gap-2",children:i.map(c=>l.jsx("button",{onClick:()=>r(c.name),className:`px-4 py-2 rounded-full text-sm font-medium border-2 border-gray-300 transition-colors
                  ${n===c.name?"bg-blue-500 text-white border-blue-500":"text-gray-700 bg-gray-100 hover:bg-blue-500 hover:text-white hover:border-blue-500"}`,children:c.name},c.name))}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((c,u)=>l.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden border-2 border-gray-200",children:l.jsxs("a",{href:c.href,className:"block",children:[l.jsx("img",{src:c.image,alt:c.title,className:"w-full h-48 object-cover"}),l.jsxs("div",{className:"p-4",children:[l.jsx("span",{className:"text-sm text-blue-600 font-medium",children:c.category}),l.jsx("h3",{className:"mt-2 text-xl font-semibold text-gray-900 line-clamp-2",children:c.title}),l.jsx("p",{className:"mt-2 text-gray-600 text-sm line-clamp-3",children:c.excerpt}),l.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm text-gray-500",children:c.date}),l.jsxs("span",{className:"text-sm text-gray-600",children:["By ",c.author]})]}),l.jsx("span",{className:"text-blue-600 hover:text-blue-700",children:"Read More "})]})]})]})},u))})]})})]})}function vP(){return l.jsxs(l.Fragment,{children:[l.jsx(Ts,{title:"About Us",description:"Learn about E-Co Fisco, your trusted partner for immigration and tax services in Italy. Expert team dedicated to helping foreigners navigate Italian bureaucracy.",keywords:"about E-Co Fisco, Italian immigration experts, tax consultants Italy, immigration agency Italy, foreigner assistance Italy"}),l.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-700 sm:text-4xl",children:"Meet Our Expert Team"}),l.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-gray-600 sm:text-lg",children:"Specialists in Italian Immigration Law"})]}),l.jsxs("div",{className:"mt-12 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl border border-gray-200 p-8 shadow-sm",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Our Mission"}),l.jsx("p",{className:"text-gray-600 text-justify leading-relaxed",children:"Growing up among many foreign kids, I was lucky enough to get to know cultures, thoughts, flavors and habits different from the Italian reality. But I also had the opportunity to see the absurd difficulties that a foreigner has to face to arrive in Italy and have the documents in order."}),l.jsx("p",{className:"text-gray-600 text-justify leading-relaxed mt-4",children:"I can't stand injustice, so I decided to do my part to simplify the lives of foreigners who want to travel or move to Italy and those who are already here and fight every day with public administrations to avoid losing their right to residency."}),l.jsx("p",{className:"text-gray-600 text-justify leading-relaxed mt-4",children:"Over the years I have had the pleasure of helping hundreds of people from all over the world and, thanks to the help of a team of prepared and courageous people, we have achieved great goals."}),l.jsx("p",{className:"text-gray-600 text-justify leading-relaxed mt-4",children:"To accommodate our clients, the team has expanded to include lawyers for foreigners specialized in immigration law and native speakers of all major foreign languages, particularly experienced in this area."}),l.jsx("p",{className:"text-gray-600 text-justify leading-relaxed mt-4",children:"Our goal is to see the smile and happiness of people when, after months of struggle and suffering, they finally manage to see their rights recognized and have their documents. Every day we work hard for this."})]}),l.jsxs("div",{className:"bg-gradient-to-l from-indigo-50 to-purple-50 rounded-2xl border border-gray-200 p-8 shadow-sm h-full",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Our Values"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 bg-indigo-100 rounded-full p-3",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("h3",{className:"text-xl font-medium text-gray-800",children:"Integrity"}),l.jsx("p",{className:"mt-2 text-base text-gray-600",children:"We uphold the highest ethical standards in all our dealings, ensuring transparency and honesty in every interaction."})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 bg-indigo-100 rounded-full p-3",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("h3",{className:"text-xl font-medium text-gray-800",children:"Diversity"}),l.jsx("p",{className:"mt-2 text-base text-gray-600",children:"We celebrate cultural differences and multilingual expertise, making our services accessible to clients from all backgrounds."})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 bg-indigo-100 rounded-full p-3",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("h3",{className:"text-xl font-medium text-gray-800",children:"Efficiency"}),l.jsx("p",{className:"mt-2 text-base text-gray-600",children:"We navigate complex bureaucracy with speed and precision, ensuring timely solutions for all immigration matters."})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 bg-indigo-100 rounded-full p-3",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("h3",{className:"text-xl font-medium text-gray-800",children:"Tax & Immigration Expertise"}),l.jsx("p",{className:"mt-2 text-base text-gray-600",children:"We provide comprehensive tax and immigration solutions, combining deep knowledge of Italian regulations with personalized guidance for each client."})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 bg-indigo-100 rounded-full p-3",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("h3",{className:"text-xl font-medium text-gray-800",children:"Confidentiality"}),l.jsx("p",{className:"mt-2 text-base text-gray-600",children:"We protect your personal information with the utmost care, maintaining strict privacy standards throughout our services."})]})]})]})]})]}),l.jsxs("div",{className:"mt-16",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-700 text-center mb-8",children:"Our Leadership Team"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-8",children:l.jsxs("div",{className:"max-w-sm overflow-hidden border border-gray-300 rounded-lg shadow-md",children:[l.jsx("div",{className:"bg-blue-500 h-24 relative",children:l.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 top-12",children:l.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-2 border-white bg-white",children:l.jsx("img",{src:"/path-to-profile-image.jpg",alt:"Team Member",className:"w-full h-full object-cover",onError:t=>{const e=t.target;e.onerror=null,e.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23CBD5E0'%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z'/%3E%3C/svg%3E"}})})})}),l.jsxs("div",{className:"pt-12 pb-6 px-4 text-center",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-700",children:"Khadija Zouine"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Immigration & Tax Consultant"}),l.jsxs("div",{className:"flex justify-center mt-3 space-x-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-700 flex items-center justify-center text-white",children:l.jsx("span",{className:"text-xs",children:"f"})}),l.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-400 flex items-center justify-center text-white",children:l.jsx("span",{className:"text-xs",children:"t"})}),l.jsx("div",{className:"w-8 h-8 rounded-full bg-pink-500 flex items-center justify-center text-white",children:l.jsx("span",{className:"text-xs",children:"in"})}),l.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white",children:l.jsx("span",{className:"text-xs",children:"wa"})})]}),l.jsx("div",{className:"flex mt-4",children:l.jsx("button",{className:"bg-blue-500 text-white py-2 px-4 rounded-md text-sm hover:bg-blue-600 transition w-full",children:"Contact Now"})})]})]})})]}),l.jsx("div",{className:"bg-transparent py-16",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[l.jsx("h2",{className:"text-3xl font-bold text-center text-blue-500 mb-8",children:"What our customers say"}),l.jsxs("div",{className:"flex justify-center items-center gap-2 mb-8",children:[[...Array(5)].map((t,e)=>l.jsx("svg",{className:"w-6 h-6 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},e)),l.jsx("span",{className:"ml-2 text-xl font-semibold text-gray-900",children:"5.0"})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[{name:"Akiko Tanaka",location:"Tokyo, Japan",initials:"AT",review:"E-Co FISCO made my visa application process incredibly smooth. Their expertise and professional guidance helped me."},{name:"Carlos Silva",location:"So Paulo, Brazil",initials:"CS",review:"Outstanding service! They helped me obtain my work visa in record time. Very professional and knowledgeable team."},{name:"Maria Garcia",location:"Madrid, Spain",initials:"MG",review:"The team at E-Co FISCO was incredibly helpful throughout my citizenship application process. Highly recommended!"},{name:"John Smith",location:"London, UK",initials:"JS",review:"Excellent support for my residency permit application. Clear communication and great results."},{name:"Sophie Martin",location:"Paris, France",initials:"SM",review:"Their expertise in Italian immigration law is unmatched. Made the whole process stress-free."},{name:"Ahmed Hassan",location:"Cairo, Egypt",initials:"AH",review:"Very professional service. They handled my student visa application perfectly."},{name:"Li Wei",location:"Beijing, China",initials:"LW",review:"Great experience working with E-Co FISCO. They made the complex simple."},{name:"Anna Kowalski",location:"Warsaw, Poland",initials:"AK",review:"Fantastic support throughout my visa application. Would definitely recommend."}].map((t,e)=>l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border-2 border-gray-200 relative min-h-[300px]",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-400 to-blue-600 flex items-center justify-center",children:l.jsx("span",{className:"text-sm text-white font-semibold",children:t.initials})})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center",children:t.name}),l.jsx("p",{className:"text-sm text-gray-500 mb-4 text-center",children:t.location}),l.jsx("div",{className:"flex justify-center mb-4",children:[...Array(5)].map((n,r)=>l.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},r))}),l.jsx("p",{className:"text-gray-700 text-sm text-center pb-8",children:t.review}),l.jsx("p",{className:"text-sm text-gray-500 text-center absolute bottom-6 left-0 right-0",children:["3 months ago","9 months ago","4 months ago","7 months ago","2 years ago","11 months ago","1 year ago","7 months ago"][e]})]},e))})]})}),l.jsx("div",{className:"bg-blue-600 rounded-[40px] mx-4 mt-8 border border-gray-300 max-w-7xl mx-auto",children:l.jsxs("div",{className:"max-w-7xl mx-auto grid md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-transparent p-8 rounded-[24px] contact-info-column text-center md:text-left flex flex-col items-start justify-center",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-4",children:"Contact a expert for foreigners"}),l.jsx("p",{className:"text-sm sm:text-base text-white mb-6",children:"Our agency for foreigners is at your disposal for the most daily practices up to the most complex cases."})]}),l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 md:rounded-tr-[39px] md:rounded-br-[39px] md:rounded-bl-[0px] rounded-br-[39px] rounded-bl-[39px]",children:l.jsxs("form",{className:"space-y-4 p-8",onSubmit:async t=>{t.preventDefault();const e=t.target,n=new FormData(e);try{await nu(Wo(qo,"contacts"),{name:n.get("name"),surname:n.get("surname"),email:n.get("email"),location:n.get("location"),message:n.get("message"),date:new Date().toISOString(),privacyAccepted:n.get("privacy_accepted")==="on"});const r=document.createElement("div");r.innerHTML=`
            <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
              <div class="bg-white rounded-lg p-6 max-w-sm w-full">
                <div class="flex justify-center mb-4">
                  <svg class="w-12 h-12 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <h3 class="text-xl font-bold text-center mb-2">Message</h3>
                <p class="text-gray-600 text-center mb-6">Thanks for your submission!<br />We'll be in touch with you shortly.</p>
                <button class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">
                  OK
                </button>
              </div>
            </div>
          `,document.body.appendChild(r),r.querySelector("button").onclick=()=>{r.remove()},e.reset()}catch(r){console.error("Error submitting form:",r);const i=document.createElement("div");i.innerHTML=`
            <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
              <div class="bg-white rounded-lg p-6 max-w-sm w-full">
                <div class="flex justify-center mb-4">
                  <svg class="w-12 h-12 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                  </svg>
                </div>
                <h3 class="text-xl font-bold text-center mb-2">Message</h3>
                <p class="text-gray-600 text-center mb-6">Oops! There was a problem submitting your form</p>
                <button class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">
                  OK
                </button>
              </div>
            </div>
          `,document.body.appendChild(i),i.querySelector("button").onclick=()=>{i.remove()}}},children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("input",{type:"text",name:"name",placeholder:"Name*",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"}),l.jsx("input",{type:"text",name:"surname",placeholder:"Surname",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"})]}),l.jsx("input",{type:"email",name:"email",placeholder:"E-mail*",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"}),l.jsx("input",{type:"text",name:"location",placeholder:"Where are you writing to us from?",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"}),l.jsx("textarea",{name:"message",placeholder:"Message*",required:!0,rows:3,className:"p-3 border border-gray-300 rounded-[20px] w-full bg-gray-50 text-sm"}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("input",{type:"checkbox",name:"privacy_accepted",required:!0,className:"mt-1 mr-2"}),l.jsxs("label",{className:"text-xs sm:text-sm text-gray-600",children:["I confirm that I have read the ",l.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"privacy policy"})]})]}),l.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-6 rounded-[40px] hover:bg-blue-700 transition-colors font-semibold text-sm sm:text-base",children:"SEND REQUEST"})]})})]})})]})]})}function xP(){return l.jsxs(l.Fragment,{children:[l.jsx(Ts,{title:"Contact Us",description:"Get in touch with E-Co Fisco's immigration and tax experts. We're here to help you navigate Italian bureaucracy and provide professional assistance.",keywords:"contact E-Co Fisco, immigration consultation Italy, tax consultation Italy, legal assistance Italy, foreigner help Italy"}),l.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-700 sm:text-4xl",children:"Contacts"}),l.jsx("h2",{className:"mt-3 text-2xl font-semibold text-gray-600",children:"Looking for assistance for foreigners?"}),l.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-gray-600 text-lg",children:"We are experts in immigration and Tax consultant."})]}),l.jsx("div",{className:"bg-blue-600 rounded-[40px] mx-4 mt-8 border border-gray-300 max-w-7xl mx-auto",children:l.jsxs("div",{className:"max-w-7xl mx-auto grid md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-transparent p-8 rounded-[24px] contact-info-column text-center md:text-left flex flex-col items-start justify-center",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-4",children:"Contact a expert for foreigners"}),l.jsx("p",{className:"text-sm sm:text-base text-white mb-6",children:"Our agency for foreigners is at your disposal for the most daily practices up to the most complex cases."})]}),l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 md:rounded-tr-[39px] md:rounded-br-[39px] md:rounded-bl-[0px] rounded-br-[39px] rounded-bl-[39px]",children:l.jsxs("form",{className:"space-y-4 p-8",onSubmit:async t=>{t.preventDefault();const e=t.target,n=new FormData(e);try{await nu(Wo(qo,"contacts"),{name:n.get("name"),surname:n.get("surname"),email:n.get("email"),location:n.get("location"),message:n.get("message"),date:new Date().toISOString(),privacyAccepted:n.get("privacy_accepted")==="on"});const r=document.createElement("div");r.innerHTML=`
            <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
              <div class="bg-white rounded-lg p-6 max-w-sm w-full">
                <div class="flex justify-center mb-4">
                  <svg class="w-12 h-12 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <h3 class="text-xl font-bold text-center mb-2">Message</h3>
                <p class="text-gray-600 text-center mb-6">Thanks for your submission!<br />We'll be in touch with you shortly.</p>
                <button class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">
                  OK
                </button>
              </div>
            </div>
          `,document.body.appendChild(r),r.querySelector("button").onclick=()=>{r.remove()},e.reset()}catch(r){console.error("Error submitting form:",r);const i=document.createElement("div");i.innerHTML=`
            <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
              <div class="bg-white rounded-lg p-6 max-w-sm w-full">
                <div class="flex justify-center mb-4">
                  <svg class="w-12 h-12 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                  </svg>
                </div>
                <h3 class="text-xl font-bold text-center mb-2">Message</h3>
                <p class="text-gray-600 text-center mb-6">Oops! There was a problem submitting your form</p>
                <button class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">
                  OK
                </button>
              </div>
            </div>
          `,document.body.appendChild(i),i.querySelector("button").onclick=()=>{i.remove()}}},children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("input",{type:"text",name:"name",placeholder:"Name*",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"}),l.jsx("input",{type:"text",name:"surname",placeholder:"Surname",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"})]}),l.jsx("input",{type:"email",name:"email",placeholder:"E-mail*",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"}),l.jsx("input",{type:"text",name:"location",placeholder:"Where are you writing to us from?",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"}),l.jsx("textarea",{name:"message",placeholder:"Message*",required:!0,rows:3,className:"p-3 border border-gray-300 rounded-[20px] w-full bg-gray-50 text-sm"}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("input",{type:"checkbox",name:"privacy_accepted",required:!0,className:"mt-1 mr-2"}),l.jsxs("label",{className:"text-xs sm:text-sm text-gray-600",children:["I confirm that I have read the ",l.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"privacy policy"})]})]}),l.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-6 rounded-[40px] hover:bg-blue-700 transition-colors font-semibold text-sm sm:text-base",children:"SEND REQUEST"})]})})]})}),l.jsxs("div",{className:"mt-8 flex flex-col items-center justify-center",children:[l.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-6",children:"Or write to us on Whatsapp"}),l.jsx("a",{href:"https://wa.me/393516737374",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center w-16 h-16 bg-green-500 rounded-full hover:bg-green-600 transition-colors duration-200",children:l.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 448 512",children:l.jsx("path",{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"})})})]})]})]})}function wP(){return l.jsxs(l.Fragment,{children:[l.jsx(Ts,{title:"Residence Permit Application",description:"Professional assistance with residence permit applications in Italy - document collection, verification, and submission services.",keywords:"residence permit Italy, permesso di soggiorno, Italian residence permit application, immigration services Italy"}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"relative mb-8 rounded-xl overflow-hidden",children:[l.jsx("img",{src:Gn,alt:"Residence Permit Application",className:"w-full h-64 object-cover"}),l.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col justify-center items-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-white sm:text-4xl",children:"Residence Permit Application Service"}),l.jsx("h3",{className:"mt-3 text-xl text-white",children:"Expert guidance through your Italian residence permit application process"})]})]}),l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 py-8 rounded-[40px] mb-12 border border-gray-300",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 justify-items-center",children:[l.jsx("div",{className:"p-4 rounded-[24px]",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("svg",{className:"w-8 h-8 mb-2 text-blue-400",viewBox:"0 0 384 512",fill:"currentColor",children:l.jsx("path",{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-700 text-center mb-1",children:"Consultancy on residence permit application"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins text-center",children:"SH Immigration Specialists is much more than an immigration agency. We are a team of professionals, including experts and lawyers for foreigners at your disposal to find the best solution and obtain the residence permit that is right for you."})]})}),l.jsx("div",{className:"p-4 rounded-[24px]",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("svg",{className:"w-8 h-8 mb-2 text-blue-400",viewBox:"0 0 512 512",fill:"currentColor",children:l.jsx("path",{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-700 text-center mb-1",children:"Collection of documents for residence permit application"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins text-center",children:"We help you collect documents and verify requirements to apply for your first residence permit."})]})}),l.jsx("div",{className:"p-4 rounded-[24px]",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("svg",{className:"w-8 h-8 mb-2 text-blue-400",viewBox:"0 0 512 512",fill:"currentColor",children:l.jsx("path",{d:"M440 6.5L24 246.4c-34.4 19.9-31.1 70.8 5.7 85.9L144 379.6V464c0 46.4 59.2 65.5 86.6 28.6l43.8-59.1 111.9 46.2c5.9 2.4 12.1 3.6 18.3 3.6 8.2 0 16.3-2.1 23.6-6.2 12.8-7.2 21.6-20 23.9-34.5l59.4-387.2c6.1-40.1-36.9-68.8-71.5-48.9zM192 464v-64.6l36.6 15.1L192 464zm212.6-28.7l-153.8-63.5L391 169.5c10.7-15.5-9.5-33.5-23.7-21.2L155.8 332.6 48 288 464 48l-59.4 387.3z"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-700 text-center mb-1",children:"Sending a residence permit request"}),l.jsx("p",{className:"text-gray-700 mb-4 font-poppins text-center",children:"We send the documents and manage the relationship with the Police Headquarters to get you the residence permit within the time frame required by law."})]})})]})})})]})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 my-12",children:l.jsx("div",{className:`
        
        bg-gradient-to-r from-blue-500 to-blue-700 rounded-[40px] overflow-hidden border border-gray-300`,children:l.jsx("div",{className:"p-8 md:p-12",children:l.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Request a consultation with us now"}),l.jsx("p",{className:"text-lg text-blue-100 font-poppins",children:"If you don't know how to apply for your first residence permit or are having difficulties with the Public Administration, we will help you find the best way."}),l.jsxs("button",{onClick:()=>{const t=document.querySelector("#contact-form");t==null||t.scrollIntoView({behavior:"smooth"})},className:"inline-block px-6 py-3 bg-white text-blue-600 rounded-full text-lg font-semibold hover:bg-blue-50 transition-colors hover:transform hover:translate-y-[-2px] whitespace-nowrap",children:["Start here",l.jsx("svg",{className:"w-5 h-5 ml-2 inline",viewBox:"0 0 256 512",fill:"currentColor",children:l.jsx("path",{d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"})})]})]})})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 my-12",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx("div",{className:"h-[450px] group perspective-1000",children:l.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[l.jsx("div",{className:"card-face card-front absolute w-full h-full bg-gradient-to-r from-blue-50 to-indigo-50 rounded-[24px] border border-gray-300 p-6 flex items-center justify-center backface-hidden",children:l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 text-center",children:"What is a residence permit?"})}),l.jsx("div",{className:"card-face card-back absolute w-full h-full bg-blue-600 text-white rounded-[24px] p-6 backface-hidden rotate-y-180",children:l.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-[15px] leading-relaxed",children:"The residence permit is a title that is granted to a foreign citizen and that gives the right to reside in the entire national territory, for a specific duration or an unlimited period."}),l.jsx("p",{className:"text-[15px] leading-relaxed",children:"It allows foreigners in Italy to carry out the activities permitted by law and related to the reason for which it is issued."})]})})})]})}),l.jsx("div",{className:"h-[450px] group perspective-1000",children:l.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[l.jsx("div",{className:"card-face card-front absolute w-full h-full bg-gradient-to-r from-blue-50 to-indigo-50 rounded-[24px] border border-gray-300 p-6 flex items-center justify-center backface-hidden",children:l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 text-center",children:"Who is a foreign citizen according to Italian law?"})}),l.jsx("div",{className:"card-face card-back absolute w-full h-full bg-blue-600 text-white rounded-[24px] p-6 backface-hidden rotate-y-180",children:l.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-[15px] leading-relaxed mb-2",children:"A foreigner is someone who does not have Italian citizenship and can be:"}),l.jsxs("ul",{className:"space-y-2 text-[15px]",children:[l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"mr-2",children:""}),l.jsx("span",{children:"A Community citizen: when he or she has the citizenship of one of the member states of the European Union."})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"mr-2",children:""}),l.jsx("span",{children:"A third-country citizen, or non-EU citizen, when he or she has the citizenship of a state that does not belong to the European Union."})]})]})]})})})]})}),l.jsx("div",{className:"h-[450px] group perspective-1000",children:l.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[l.jsx("div",{className:"card-face card-front absolute w-full h-full bg-gradient-to-r from-blue-50 to-indigo-50 rounded-[24px] border border-gray-300 p-6 flex items-center justify-center backface-hidden",children:l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 text-center",children:"Types of residence permit"})}),l.jsx("div",{className:"card-face card-back absolute w-full h-full bg-blue-600 text-white rounded-[24px] p-6 backface-hidden rotate-y-180",children:l.jsx("div",{className:"flex flex-col justify-center h-full",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-[15px] leading-relaxed mb-2",children:"The main types of residence permits are:"}),l.jsxs("ul",{className:"space-y-1 text-[14px]",children:[l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"mr-2",children:""}),l.jsx("span",{children:"Residence permit for subordinate work"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"mr-2",children:""}),l.jsx("span",{children:"Residence permit for self-employment"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"mr-2",children:""}),l.jsx("span",{children:"Residence permit for family reasons"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"mr-2",children:""}),l.jsx("span",{children:"Residence permit for study reasons"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"mr-2",children:""}),l.jsx("span",{children:"Residence permit for religious reasons"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"mr-2",children:""}),l.jsx("span",{children:"Residence permit for sports activities"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"mr-2",children:""}),l.jsx("span",{children:"Residence permit for medical treatment"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"mr-2",children:""}),l.jsx("span",{children:"Residence permit for assistance to minors or art. 31"})]})]}),l.jsx("p",{className:"text-[13px] italic mt-2",children:"It is important to know that there are also residence permits that do not require an entry visa."})]})})})]})})]})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 my-12",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 py-8 rounded-[40px] border border-gray-300",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-8",children:"Residence permit application requirements: we check them for you"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[l.jsx("div",{className:"h-[400px] group perspective-1000",children:l.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[l.jsx("div",{className:"card-face card-front absolute w-full h-full bg-white rounded-[24px] border border-gray-300 p-6 flex items-center justify-center backface-hidden",children:l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 text-center",children:"Possession of entry visa"})}),l.jsx("div",{className:"card-face card-back absolute w-full h-full bg-blue-600 text-white rounded-[24px] p-6 backface-hidden rotate-y-180",children:l.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:l.jsx("p",{className:"text-[15px] leading-relaxed text-center",children:"When you first apply for a residence permit, you must prove that you entered with a visa and are legally residing in the territory."})})})]})}),l.jsx("div",{className:"h-[400px] group perspective-1000",children:l.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[l.jsx("div",{className:"card-face card-front absolute w-full h-full bg-white rounded-[24px] border border-gray-300 p-6 flex items-center justify-center backface-hidden",children:l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 text-center",children:"Income or family constraints"})}),l.jsx("div",{className:"card-face card-back absolute w-full h-full bg-blue-600 text-white rounded-[24px] p-6 backface-hidden rotate-y-180",children:l.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-[15px] leading-relaxed text-center",children:"The main requirement for a residence permit for family reasons is to demonstrate your family relationship with someone who already has a residence permit or is an EU citizen (spouse, children, parents, siblings)."}),l.jsx("p",{className:"text-[15px] leading-relaxed text-center",children:"The residence permit for work reasons requires a minimum annual income that depends on the people who are dependent on you."})]})})})]})}),l.jsx("div",{className:"h-[400px] group perspective-1000",children:l.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[l.jsx("div",{className:"card-face card-front absolute w-full h-full bg-white rounded-[24px] border border-gray-300 p-6 flex items-center justify-center backface-hidden",children:l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 text-center",children:"Suitable accommodation"})}),l.jsx("div",{className:"card-face card-back absolute w-full h-full bg-blue-600 text-white rounded-[24px] p-6 backface-hidden rotate-y-180",children:l.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:l.jsx("p",{className:"text-[15px] leading-relaxed text-center",children:"In any case, to obtain a residence permit you must demonstrate that you have a house available where you can live, for this you must present the declaration of hospitality or the certificate of residence."})})})]})})]}),l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"bg-white rounded-[24px] p-8 border border-gray-300",children:[l.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"Attention! Some residence permits do not require an entry visa, these are particular types of residence permits that must be requested with particular attention:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:[l.jsx("li",{children:"Residence permit for MINORS IN A STATE OF ABANDONMENT"}),l.jsx("li",{children:"Residence permit for SPECIAL PROTECTION"}),l.jsx("li",{children:"Residence permit for MINOR ASSISTANCE (Art.31)"}),l.jsx("li",{children:"Residence permit for MEDICAL TREATMENTS"}),l.jsx("li",{children:"Residence permit for JUSTICE REASONS"}),l.jsx("li",{children:"Residence permit for ASYLUM REQUEST and POLITICAL ASYLUM"}),l.jsx("li",{children:"Residence permit for PENDING CITIZENSHIP"})]})]}),l.jsx("div",{className:"text-center mt-8",children:l.jsxs("button",{onClick:()=>{const t=document.querySelector("#contact-form");t==null||t.scrollIntoView({behavior:"smooth"})},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-full hover:bg-blue-700 transition-all duration-300 transform hover:-translate-y-1",children:["Call us now if you don't qualify",l.jsx("svg",{className:"w-5 h-5 ml-2",viewBox:"0 0 256 512",fill:"currentColor",children:l.jsx("path",{d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"})})]})})]})]})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 my-12",children:l.jsx("div",{className:"bg-white rounded-[40px] border border-gray-300 overflow-hidden",children:l.jsx("div",{className:"p-8 md:p-12",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-8",children:"Residence permit application documents: we help you collect them"}),l.jsxs("div",{className:"space-y-6 text-gray-700",children:[l.jsx("p",{className:"text-lg",children:"To issue or renew a residence permit, some general documents are required and then, for each type of residence permit, specific documents will be needed."}),l.jsx("p",{className:"text-lg",children:"The general documents for the residence permit, or those necessary for all requests, are the following:"}),l.jsxs("ol",{className:"list-decimal pl-6 space-y-4 text-lg",children:[l.jsx("li",{className:"pl-2",children:l.jsx("span",{className:"font-normal",children:"16 EURO STAMP (For the necessary rights)"})}),l.jsx("li",{className:"pl-2",children:l.jsx("span",{className:"font-normal",children:"PHOTOCOPY OF YOUR PASSPORT (Where the number, personal data and entry visa are visible)"})}),l.jsx("li",{className:"pl-2",children:l.jsx("span",{className:"font-normal",children:"RESIDENCE PERMIT (if it is a renewal, update or conversion)"})}),l.jsx("li",{className:"pl-2",children:l.jsx("span",{className:"font-normal",children:"4 PASSPORT PHOTOS + 4 photos of any minor children to be included in the residence permit (minor children must be present on the day of the call)"})}),l.jsx("li",{className:"pl-2",children:l.jsx("span",{className:"font-normal",children:"TAX CODE (if available)"})}),l.jsx("li",{className:"pl-2",children:l.jsx("span",{className:"font-normal",children:"CERTIFICATION ATTENTING CURRENT ACCOMMODATION (certificate of residence, or declaration of hospitality/transfer of building)"})})]})]})]})})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 my-12",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-[40px] border border-gray-300 overflow-hidden",children:l.jsx("div",{className:"p-8 md:p-12",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[l.jsx("div",{className:"flex-1",children:l.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:"Contact us to request a residence permit for a brother of an Italian citizen"})}),l.jsx("div",{className:"flex-shrink-0",children:l.jsxs("button",{onClick:()=>{const t=document.querySelector("#contact-form");t==null||t.scrollIntoView({behavior:"smooth"})},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-full hover:bg-blue-700 transition-all duration-300 transform hover:-translate-y-1",children:["Call us now",l.jsx("svg",{className:"w-5 h-5 ml-2",viewBox:"0 0 256 512",fill:"currentColor",children:l.jsx("path",{d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"})})]})})]})})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 my-12",children:l.jsx("div",{className:"bg-white rounded-[40px] border border-gray-300 overflow-hidden",children:l.jsx("div",{className:"p-8 md:p-12",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-8",children:"Do you have the income to apply for a residence permit?"}),l.jsxs("div",{className:"space-y-6 text-gray-700",children:[l.jsx("p",{className:"text-lg",children:"The income for the residence permit is a requirement that mainly concerns the residence permit for reasons of subordinate employment and for reasons of self-employment."}),l.jsx("p",{className:"text-lg",children:"In these two cases, it is necessary to demonstrate that you have sufficient income to be able to obtain a residence permit for work reasons."}),l.jsx("p",{className:"text-lg",children:"In any case, this data can also vary based on the family unit, how many people you have in your care and what type of permit you are requesting."}),l.jsxs("ul",{className:"list-none space-y-4 text-lg pl-4",children:[l.jsxs("li",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full"}),l.jsxs("span",{children:["Applicant only: ",l.jsx("strong",{children:"6,947.33"})," per year"]})]}),l.jsxs("li",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full"}),l.jsxs("span",{children:["Applicant + 1 family member (even if under 14 years of age): ",l.jsx("strong",{children:"10,420.99"})]})]}),l.jsxs("li",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full"}),l.jsxs("span",{children:["Applicant + 2 family members: ",l.jsx("strong",{children:"13,849.65"})]})]}),l.jsxs("li",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full"}),l.jsxs("span",{children:["Applicant + 3 family members: ",l.jsx("strong",{children:"17,323.31"})]})]})]}),l.jsx("p",{className:"text-lg mt-8",children:"It is important to know that, to demonstrate income, you can also use and add the incomes of your cohabiting family members."})]})]})})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 my-12",children:l.jsx("div",{className:"bg-white rounded-[40px] border border-gray-300 overflow-hidden",children:l.jsx("div",{className:"p-8 md:p-12",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-8",children:"Problems applying for a residence permit?"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[l.jsx("div",{className:"h-[400px] group perspective-1000",children:l.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[l.jsx("div",{className:"card-face card-front absolute w-full h-full bg-gradient-to-r from-blue-50 to-indigo-50 rounded-[24px] border border-gray-300 p-6 flex items-center justify-center backface-hidden",children:l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 text-center",children:"Notice of rejection of residence permit application"})}),l.jsx("div",{className:"card-face card-back absolute w-full h-full bg-blue-600 text-white rounded-[24px] p-6 backface-hidden rotate-y-180",children:l.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:l.jsxs("p",{className:"text-[15px] leading-relaxed text-center",children:["If you see this message, it may be that your application for a residence permit has been suspended, archived or rejected.",l.jsx("br",{}),l.jsx("br",{}),"But it could also be a technical error, so it is always a good idea to check."]})})})]})}),l.jsx("div",{className:"h-[400px] group perspective-1000",children:l.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[l.jsx("div",{className:"card-face card-front absolute w-full h-full bg-gradient-to-r from-blue-50 to-indigo-50 rounded-[24px] border border-gray-300 p-6 flex items-center justify-center backface-hidden",children:l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 text-center",children:"Refusal of residence permit"})}),l.jsx("div",{className:"card-face card-back absolute w-full h-full bg-blue-600 text-white rounded-[24px] p-6 backface-hidden rotate-y-180",children:l.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:l.jsx("p",{className:"text-[15px] leading-relaxed text-center",children:'If you see the message "residence permit in processing" you must wait, the process is ongoing.'})})})]})}),l.jsx("div",{className:"h-[400px] group perspective-1000",children:l.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[l.jsx("div",{className:"card-face card-front absolute w-full h-full bg-gradient-to-r from-blue-50 to-indigo-50 rounded-[24px] border border-gray-300 p-6 flex items-center justify-center backface-hidden",children:l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 text-center",children:"Revocation of residence permit"})}),l.jsx("div",{className:"card-face card-back absolute w-full h-full bg-blue-600 text-white rounded-[24px] p-6 backface-hidden rotate-y-180",children:l.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:l.jsxs("p",{className:"text-[15px] leading-relaxed text-center",children:["The residence permit is ready for delivery and can therefore be collected at the Police Headquarters.",l.jsx("br",{}),l.jsx("br",{}),"Some Police Headquarters send a text message, others require booking an appointment for collection."]})})})]})})]}),l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-[24px] p-8 border border-gray-300",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[l.jsx("div",{className:"flex-1",children:l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Respond to the rejection notice and get your residence permit immediately"})}),l.jsx("div",{className:"flex-shrink-0",children:l.jsxs("button",{onClick:()=>{const t=document.querySelector("#contact-form");t==null||t.scrollIntoView({behavior:"smooth"})},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-full hover:bg-blue-700 transition-all duration-300 transform hover:-translate-y-1",children:["Call us now",l.jsx("svg",{className:"w-5 h-5 ml-2",viewBox:"0 0 256 512",fill:"currentColor",children:l.jsx("path",{d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"})})]})})]})})]})})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 my-12",children:l.jsx("div",{className:"bg-white rounded-[40px] border border-gray-300 overflow-hidden",children:l.jsx("div",{className:"p-8 md:p-12",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-6",children:"Are you looking for a lawyer to apply for a residence permit?"}),l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 text-center mb-8",children:"SH Immigration Specialists is much more than an agency for foreigners"}),l.jsxs("div",{className:"space-y-8 text-gray-700",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-lg",children:"We do one thing, but we do it better than anyone else."}),l.jsx("p",{className:"text-lg",children:"We offer immigration services and provide you with a lawyer to apply for a residence permit."}),l.jsxs("p",{className:"text-lg",children:["If you rely on our agency for foreigners ",l.jsx("strong",{children:"you just have to relax and wait for your first residence permit."})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Who we are"}),l.jsx("p",{className:"text-lg",children:"SH Immigration Specialists is much more than an immigration agency."}),l.jsxs("p",{className:"text-lg",children:["We are a law firm specializing in immigration law that provides you with an ",l.jsx("strong",{children:"experienced immigration lawyer."})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Where we operate"}),l.jsx("p",{className:"text-lg",children:"We offer our immigration and residence permit application consultancy services throughout Italy online and in our offices in Bologna, Milan, Turin, Genoa, Rome and Naples."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"How we work"}),l.jsx("p",{className:"text-lg",children:"SH Immigration Specialists has established itself as a leader among agencies for foreigners because, with its lawyers for foreigners, it offers complete 360 immigration services."}),l.jsx("p",{className:"text-lg",children:"We help you collect documents and send the request, and we follow you from until you obtain your first residence permit and, in the future, Italian citizenship."})]})]})]})})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 my-12",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx("div",{className:"h-[400px] group perspective-1000",children:l.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[l.jsx("div",{className:"card-face card-front absolute w-full h-full bg-gradient-to-r from-blue-50 to-indigo-50 rounded-[24px] border border-gray-300 p-6 flex items-center justify-center backface-hidden",children:l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 text-center",children:"Agency for foreigners: what it does"})}),l.jsx("div",{className:"card-face card-back absolute w-full h-full bg-blue-600 text-white rounded-[24px] p-6 backface-hidden rotate-y-180",children:l.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:l.jsxs("p",{className:"text-[15px] leading-relaxed text-center",children:["A simple immigration agency fills out the documents, often with serious errors.",l.jsx("br",{}),l.jsx("br",{}),"SH Immigration Specialists is much more: a law firm for foreigners that can get you the documents in record time."]})})})]})}),l.jsx("div",{className:"h-[400px] group perspective-1000",children:l.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[l.jsx("div",{className:"card-face card-front absolute w-full h-full bg-gradient-to-r from-blue-50 to-indigo-50 rounded-[24px] border border-gray-300 p-6 flex items-center justify-center backface-hidden",children:l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 text-center",children:"Lawyer for foreigners: who is he?"})}),l.jsx("div",{className:"card-face card-back absolute w-full h-full bg-blue-600 text-white rounded-[24px] p-6 backface-hidden rotate-y-180",children:l.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:l.jsx("p",{className:"text-[15px] leading-relaxed text-center",children:"The immigration lawyer specializes in the procedures for immigrating to Italy and staying legally in our country, without any problems with documents."})})})]})}),l.jsx("div",{className:"h-[400px] group perspective-1000",children:l.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[l.jsx("div",{className:"card-face card-front absolute w-full h-full bg-gradient-to-r from-blue-50 to-indigo-50 rounded-[24px] border border-gray-300 p-6 flex items-center justify-center backface-hidden",children:l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 text-center",children:"Immigration Lawyer: How Much Does It Cost?"})}),l.jsx("div",{className:"card-face card-back absolute w-full h-full bg-blue-600 text-white rounded-[24px] p-6 backface-hidden rotate-y-180",children:l.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:l.jsx("p",{className:"text-[15px] leading-relaxed text-center",children:"The cost of a lawyer for foreigners depends on each case. Call or write to us to explain your problem and get a quote."})})})]})}),l.jsx("div",{className:"h-[400px] group perspective-1000",children:l.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[l.jsx("div",{className:"card-face card-front absolute w-full h-full bg-gradient-to-r from-blue-50 to-indigo-50 rounded-[24px] border border-gray-300 p-6 flex items-center justify-center backface-hidden",children:l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 text-center",children:"Residence permit application consultancy: how it works"})}),l.jsx("div",{className:"card-face card-back absolute w-full h-full bg-blue-600 text-white rounded-[24px] p-6 backface-hidden rotate-y-180",children:l.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:l.jsxs("p",{className:"text-[15px] leading-relaxed text-center",children:["If you want to get your first residence permit and need advice, contact us.",l.jsx("br",{}),l.jsx("br",{}),"We will set a date and time for our meeting, in your language, online or in our office."]})})})]})})]})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 my-12",children:l.jsx("div",{className:"bg-white rounded-[40px] border border-gray-300 overflow-hidden",children:l.jsx("div",{className:"p-8 md:p-12",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-8",children:"FAQ - Residence permit request"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[l.jsxs("button",{onClick:t=>{const e=t.currentTarget.nextElementSibling,n=t.currentTarget.querySelector("svg");e&&n&&(e.classList.toggle("hidden"),n.classList.toggle("rotate-180"))},className:"w-full flex justify-between items-center p-4 hover:bg-gray-50 transition-colors",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"What is a residence permit?"}),l.jsx("svg",{className:"w-5 h-5 text-gray-500 transition-transform duration-200",viewBox:"0 0 320 512",children:l.jsx("path",{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z",fill:"currentColor"})})]}),l.jsx("div",{className:"hidden p-4 bg-gray-50",children:l.jsx("p",{className:"text-gray-700",children:"The residence permit is the administrative document that allows the foreign citizen to reside in Italy and is used to certify their legal presence in the country. It is mandatory that the foreign citizen with an expired visa always has the permit or the receipt of their request with them."})})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[l.jsxs("button",{onClick:t=>{const e=t.currentTarget.nextElementSibling,n=t.currentTarget.querySelector("svg");e&&n&&(e.classList.toggle("hidden"),n.classList.toggle("rotate-180"))},className:"w-full flex justify-between items-center p-4 hover:bg-gray-50 transition-colors",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"How long does it take to apply for a residence permit?"}),l.jsx("svg",{className:"w-5 h-5 text-gray-500 transition-transform duration-200",viewBox:"0 0 320 512",children:l.jsx("path",{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z",fill:"currentColor"})})]}),l.jsx("div",{className:"hidden p-4 bg-gray-50",children:l.jsx("p",{className:"text-gray-700",children:"Anyone coming from abroad and wishing to remain in Italian territory is required to submit the application for a residence permit within a maximum period of 8 working days from arrival."})})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[l.jsxs("button",{onClick:t=>{const e=t.currentTarget.nextElementSibling,n=t.currentTarget.querySelector("svg");e&&n&&(e.classList.toggle("hidden"),n.classList.toggle("rotate-180"))},className:"w-full flex justify-between items-center p-4 hover:bg-gray-50 transition-colors",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Where do you apply for a residence permit?"}),l.jsx("svg",{className:"w-5 h-5 text-gray-500 transition-transform duration-200",viewBox:"0 0 320 512",children:l.jsx("path",{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z",fill:"currentColor"})})]}),l.jsx("div",{className:"hidden p-4 bg-gray-50",children:l.jsx("p",{className:"text-gray-700",children:"The application for issuing or renewing the residence permit must be submitted at the post office. The competent Police Headquarters is identified with reference to the foreigner's place of residence. In certain circumstances, it is possible to submit the application directly to the Police Headquarters."})})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[l.jsxs("button",{onClick:t=>{const e=t.currentTarget.nextElementSibling,n=t.currentTarget.querySelector("svg");e&&n&&(e.classList.toggle("hidden"),n.classList.toggle("rotate-180"))},className:"w-full flex justify-between items-center p-4 hover:bg-gray-50 transition-colors",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"What is the postal receipt for the residence permit application for?"}),l.jsx("svg",{className:"w-5 h-5 text-gray-500 transition-transform duration-200",viewBox:"0 0 320 512",children:l.jsx("path",{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z",fill:"currentColor"})})]}),l.jsx("div",{className:"hidden p-4 bg-gray-50",children:l.jsx("p",{className:"text-gray-700",children:"The application receipt constitutes, until the actual delivery of the residence permit, a document that certifies the regularity of the foreigner's stay in Italy. The latter must carefully keep the receipt and present it at the Police Headquarters when collecting the residence permit. To check the status of the application, foreigners can visit www.portaleimmigrazione.it and check the availability of offices for collecting the residence permit through questure.poliziadistato.it/stranieri."})})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[l.jsxs("button",{onClick:t=>{const e=t.currentTarget.nextElementSibling,n=t.currentTarget.querySelector("svg");e&&n&&(e.classList.toggle("hidden"),n.classList.toggle("rotate-180"))},className:"w-full flex justify-between items-center p-4 hover:bg-gray-50 transition-colors",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Can I work with the postal receipt of the request or renewal of the residence permit?"}),l.jsx("svg",{className:"w-5 h-5 text-gray-500 transition-transform duration-200",viewBox:"0 0 320 512",children:l.jsx("path",{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z",fill:"currentColor"})})]}),l.jsx("div",{className:"hidden p-4 bg-gray-50",children:l.jsx("p",{className:"text-gray-700",children:"Yes, you can work with the postal receipt for issuing or renewing the residence permit."})})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[l.jsxs("button",{onClick:t=>{const e=t.currentTarget.nextElementSibling,n=t.currentTarget.querySelector("svg");e&&n&&(e.classList.toggle("hidden"),n.classList.toggle("rotate-180"))},className:"w-full flex justify-between items-center p-4 hover:bg-gray-50 transition-colors",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Can I travel with the postal receipt?"}),l.jsx("svg",{className:"w-5 h-5 text-gray-500 transition-transform duration-200",viewBox:"0 0 320 512",children:l.jsx("path",{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z",fill:"currentColor"})})]}),l.jsx("div",{className:"hidden p-4 bg-gray-50",children:l.jsx("p",{className:"text-gray-700",children:"Yes, those waiting for their residence permit renewal can leave Italy to go to their country with a direct flight and return by showing only the Italian Post Office receipt that certifies the submission of the residence permit or residence card application."})})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[l.jsxs("button",{onClick:t=>{const e=t.currentTarget.nextElementSibling,n=t.currentTarget.querySelector("svg");e&&n&&(e.classList.toggle("hidden"),n.classList.toggle("rotate-180"))},className:"w-full flex justify-between items-center p-4 hover:bg-gray-50 transition-colors",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Can I apply for family reunification with the postal receipt?"}),l.jsx("svg",{className:"w-5 h-5 text-gray-500 transition-transform duration-200",viewBox:"0 0 320 512",children:l.jsx("path",{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z",fill:"currentColor"})})]}),l.jsx("div",{className:"hidden p-4 bg-gray-50",children:l.jsx("p",{className:"text-gray-700",children:"Yes, it is possible to request family reunification using the postal receipt, provided that all the conditions set out in Article 28 and following of the Immigration Consolidated Act are met."})})]})]})]})})})})]})]})}function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function kr(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ge(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Yt(t){Ge(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||xc(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function D1(t,e){Ge(2,arguments);var n=Yt(t).getTime(),r=kr(e);return new Date(n+r)}var _P={};function su(){return _P}function EP(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function bP(t){Ge(1,arguments);var e=Yt(t);return e.setHours(0,0,0,0),e}var TP=6e4;function tl(t,e){Ge(2,arguments);var n=kr(e);return D1(t,n*TP)}function IP(t){return Ge(1,arguments),t instanceof Date||xc(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function NP(t){if(Ge(1,arguments),!IP(t)&&typeof t!="number")return!1;var e=Yt(t);return!isNaN(Number(e))}function SP(t,e){Ge(2,arguments);var n=kr(e);return D1(t,-n)}var CP=864e5;function kP(t){Ge(1,arguments);var e=Yt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/CP)+1}function wc(t){Ge(1,arguments);var e=1,n=Yt(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function O1(t){Ge(1,arguments);var e=Yt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=wc(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=wc(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function AP(t){Ge(1,arguments);var e=O1(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=wc(n);return r}var RP=6048e5;function PP(t){Ge(1,arguments);var e=Yt(t),n=wc(e).getTime()-AP(e).getTime();return Math.round(n/RP)+1}function _c(t,e){var n,r,i,s,o,c,u,d;Ge(1,arguments);var f=su(),p=kr((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&r!==void 0?r:(u=f.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=Yt(t),T=g.getUTCDay(),C=(T<p?7:0)+T-p;return g.setUTCDate(g.getUTCDate()-C),g.setUTCHours(0,0,0,0),g}function M1(t,e){var n,r,i,s,o,c,u,d;Ge(1,arguments);var f=Yt(t),p=f.getUTCFullYear(),g=su(),T=kr((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&i!==void 0?i:g.firstWeekContainsDate)!==null&&r!==void 0?r:(u=g.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=new Date(0);C.setUTCFullYear(p+1,0,T),C.setUTCHours(0,0,0,0);var A=_c(C,e),P=new Date(0);P.setUTCFullYear(p,0,T),P.setUTCHours(0,0,0,0);var _=_c(P,e);return f.getTime()>=A.getTime()?p+1:f.getTime()>=_.getTime()?p:p-1}function jP(t,e){var n,r,i,s,o,c,u,d;Ge(1,arguments);var f=su(),p=kr((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(u=f.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),g=M1(t,e),T=new Date(0);T.setUTCFullYear(g,0,p),T.setUTCHours(0,0,0,0);var C=_c(T,e);return C}var DP=6048e5;function OP(t,e){Ge(1,arguments);var n=Yt(t),r=_c(n,e).getTime()-jP(n,e).getTime();return Math.round(r/DP)+1}function le(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Kn={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return le(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):le(r+1,2)},d:function(e,n){return le(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return le(e.getUTCHours()%12||12,n.length)},H:function(e,n){return le(e.getUTCHours(),n.length)},m:function(e,n){return le(e.getUTCMinutes(),n.length)},s:function(e,n){return le(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return le(s,n.length)}},vi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},MP={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return Kn.y(e,n)},Y:function(e,n,r,i){var s=M1(e,i),o=s>0?s:1-s;if(n==="YY"){var c=o%100;return le(c,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):le(o,n.length)},R:function(e,n){var r=O1(e);return le(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return le(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return le(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return le(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Kn.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return le(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=OP(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):le(s,n.length)},I:function(e,n,r){var i=PP(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):le(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Kn.d(e,n)},D:function(e,n,r){var i=kP(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):le(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return le(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return le(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return le(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=vi.noon:i===0?s=vi.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=vi.evening:i>=12?s=vi.afternoon:i>=4?s=vi.morning:s=vi.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Kn.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Kn.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):le(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):le(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Kn.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Kn.s(e,n)},S:function(e,n){return Kn.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return ky(o);case"XXXX":case"XX":return Ur(o);case"XXXXX":case"XXX":default:return Ur(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return ky(o);case"xxxx":case"xx":return Ur(o);case"xxxxx":case"xxx":default:return Ur(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Cy(o,":");case"OOOO":default:return"GMT"+Ur(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Cy(o,":");case"zzzz":default:return"GMT"+Ur(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return le(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return le(o,n.length)}};function Cy(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e;return n+String(i)+o+le(s,2)}function ky(t,e){if(t%60===0){var n=t>0?"-":"+";return n+le(Math.abs(t)/60,2)}return Ur(t,e)}function Ur(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=le(Math.floor(i/60),2),o=le(i%60,2);return r+s+n+o}var Ay=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},L1=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},LP=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return Ay(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",Ay(i,n)).replace("{{time}}",L1(s,n))},VP={p:L1,P:LP},FP=["D","DD"],UP=["YY","YYYY"];function zP(t){return FP.indexOf(t)!==-1}function $P(t){return UP.indexOf(t)!==-1}function Ry(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var BP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},WP=function(e,n,r){var i,s=BP[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function yd(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var HP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},KP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},GP={date:yd({formats:HP,defaultWidth:"full"}),time:yd({formats:qP,defaultWidth:"full"}),dateTime:yd({formats:KP,defaultWidth:"full"})},QP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},YP=function(e,n,r,i){return QP[e]};function Qs(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var c=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[u]||t.values[c]}var d=t.argumentCallback?t.argumentCallback(e):e;return i[d]}}var XP={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},JP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ZP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ej={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rj=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ij={ordinalNumber:rj,era:Qs({values:XP,defaultWidth:"wide"}),quarter:Qs({values:JP,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Qs({values:ZP,defaultWidth:"wide"}),day:Qs({values:ej,defaultWidth:"wide"}),dayPeriod:Qs({values:tj,defaultWidth:"wide",formattingValues:nj,defaultFormattingWidth:"wide"})};function Ys(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?oj(c,function(p){return p.test(o)}):sj(c,function(p){return p.test(o)}),d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;var f=e.slice(o.length);return{value:d,rest:f}}}function sj(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function oj(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function aj(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var c=e.slice(i.length);return{value:o,rest:c}}}var lj=/^(\d+)(th|st|nd|rd)?/i,cj=/\d+/i,uj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dj={any:[/^b/i,/^(a|c)/i]},hj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fj={any:[/1/i,/2/i,/3/i,/4/i]},mj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wj={ordinalNumber:aj({matchPattern:lj,parsePattern:cj,valueCallback:function(e){return parseInt(e,10)}}),era:Ys({matchPatterns:uj,defaultMatchWidth:"wide",parsePatterns:dj,defaultParseWidth:"any"}),quarter:Ys({matchPatterns:hj,defaultMatchWidth:"wide",parsePatterns:fj,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ys({matchPatterns:mj,defaultMatchWidth:"wide",parsePatterns:pj,defaultParseWidth:"any"}),day:Ys({matchPatterns:gj,defaultMatchWidth:"wide",parsePatterns:yj,defaultParseWidth:"any"}),dayPeriod:Ys({matchPatterns:vj,defaultMatchWidth:"any",parsePatterns:xj,defaultParseWidth:"any"})},_j={code:"en-US",formatDistance:WP,formatLong:GP,formatRelative:YP,localize:ij,match:wj,options:{weekStartsOn:0,firstWeekContainsDate:1}},Ej=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tj=/^'([^]*?)'?$/,Ij=/''/g,Nj=/[a-zA-Z]/;function ft(t,e,n){var r,i,s,o,c,u,d,f,p,g,T,C,A,P;Ge(2,arguments);var _=String(e),x=su(),b=(r=(i=void 0)!==null&&i!==void 0?i:x.locale)!==null&&r!==void 0?r:_j,D=kr((s=(o=(c=(u=void 0)!==null&&u!==void 0?u:void 0)!==null&&c!==void 0?c:x.firstWeekContainsDate)!==null&&o!==void 0?o:(d=x.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var V=kr((p=(g=(T=(C=void 0)!==null&&C!==void 0?C:void 0)!==null&&T!==void 0?T:x.weekStartsOn)!==null&&g!==void 0?g:(A=x.locale)===null||A===void 0||(P=A.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&p!==void 0?p:0);if(!(V>=0&&V<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!b.localize)throw new RangeError("locale must contain localize property");if(!b.formatLong)throw new RangeError("locale must contain formatLong property");var U=Yt(t);if(!NP(U))throw new RangeError("Invalid time value");var I=EP(U),v=SP(U,I),E={firstWeekContainsDate:D,weekStartsOn:V,locale:b,_originalDate:U},w=_.match(bj).map(function(S){var k=S[0];if(k==="p"||k==="P"){var N=VP[k];return N(S,b.formatLong)}return S}).join("").match(Ej).map(function(S){if(S==="''")return"'";var k=S[0];if(k==="'")return Sj(S);var N=MP[k];if(N)return $P(S)&&Ry(S,e,String(t)),zP(S)&&Ry(S,e,String(t)),N(v,S,b.localize,E);if(k.match(Nj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return S}).join("");return w}function Sj(t){var e=t.match(Tj);return e?e[1].replace(Ij,"'"):t}function Cj({title:t,titleId:e,...n},r){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?j.createElement("title",{id:e},t):null,j.createElement("path",{fillRule:"evenodd",d:"M11.03 3.97a.75.75 0 0 1 0 1.06l-6.22 6.22H21a.75.75 0 0 1 0 1.5H4.81l6.22 6.22a.75.75 0 1 1-1.06 1.06l-7.5-7.5a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const kj=j.forwardRef(Cj);function Aj({title:t,titleId:e,...n},r){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?j.createElement("title",{id:e},t):null,j.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Rj=j.forwardRef(Aj);function Pj({title:t,titleId:e,...n},r){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?j.createElement("title",{id:e},t):null,j.createElement("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"}))}const jj=j.forwardRef(Pj);function Dj({title:t,titleId:e,...n},r){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?j.createElement("title",{id:e},t):null,j.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}const Oj=j.forwardRef(Dj),Mj=()=>{const[t,e]=j.useState(1),[n,r]=j.useState(new Date),[i,s]=j.useState([]),[o,c]=j.useState(""),[u,d]=j.useState(""),[f,p]=j.useState(""),[g,T]=j.useState("zoom"),[C,A]=j.useState(""),[P,_]=j.useState(!1),[x,b]=j.useState(!1),[D,V]=j.useState(ft(new Date,"MMMM yyyy")),U=()=>{const w=new Date(n.getFullYear(),n.getMonth(),1),S=new Date(n.getFullYear(),n.getMonth()+1,0),k=[],N=w.getDay();for(let ae=N;ae>0;ae--){const fe=new Date(w);fe.setDate(fe.getDate()-ae),k.push({date:fe,isCurrentMonth:!1})}for(let ae=1;ae<=S.getDate();ae++){const fe=new Date(n.getFullYear(),n.getMonth(),ae);k.push({date:fe,isCurrentMonth:!0})}const ve=S.getDay();for(let ae=1;ae<7-ve;ae++){const fe=new Date(S);fe.setDate(fe.getDate()+ae),k.push({date:fe,isCurrentMonth:!1})}return k},I=w=>{const S=new Date(n);w==="prev"?S.setMonth(S.getMonth()-1):S.setMonth(S.getMonth()+1),r(S),V(ft(S,"MMMM yyyy"))},v=()=>{const w=[],S=n.getDay();if(S===3||S===6){const k=tl(bP(n),600);for(let N=0;N<6;N++){const ve=tl(k,N*30);w.push({time:ft(ve,"h:mm a"),available:!0})}}return w};j.useEffect(()=>{(async()=>{const S=v(),k=Wo(qo,"appointments"),N=iA(k,sA("date","==",ft(n,"yyyy-MM-dd"))),ae=(await hA(N)).docs.map(Qe=>Qe.data().time),fe=S.map(Qe=>({...Qe,available:!ae.includes(Qe.time)}));s(fe)})()},[n]);const E=async w=>{if(w.preventDefault(),!(!o||!u||!f)){_(!0);try{await nu(Wo(qo,"appointments"),{name:u,email:f,date:ft(n,"yyyy-MM-dd"),time:o,location:g,notes:C,createdAt:new Date().toISOString(),status:"pending"}),b(!0),e(3)}catch(S){console.error("Error booking appointment:",S)}_(!1)}};return l.jsx("div",{className:"min-h-screen font-poppins bg-gray-50 py-6",children:l.jsx("div",{className:"max-w-5xl mx-auto px-4",children:l.jsxs("div",{className:"rounded-xl overflow-hidden flex flex-col md:flex-row border border-gray-200 shadow-sm bg-white",children:[l.jsx("div",{className:"md:w-1/4 bg-gray-50 p-6 border-r border-gray-200",children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-blue-700 tracking-wide",children:"Khadija Zouine"}),l.jsx("h3",{className:"font-medium text-gray-500 text-sm mb-3",children:"Immigration & Tax Consultant"}),l.jsx("div",{className:"border-t border-gray-200 my-4"}),l.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Free Appointment"}),l.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{children:"30 minutes"})]})]}),t===2&&o&&l.jsxs("div",{className:"mt-6 bg-white p-4 rounded-md border border-gray-200 shadow-sm",children:[l.jsxs("div",{className:"flex items-center text-gray-700 text-sm mb-2",children:[l.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("span",{className:"font-medium",children:"Selected Time:"})]}),l.jsxs("div",{className:"pl-6 text-gray-800",children:[l.jsxs("p",{className:"text-sm mb-1",children:[o," - ",ft(tl(new Date(n.setHours(parseInt(o.split(":")[0]),parseInt(o.split(" ")[0].split(":")[1]))),30),"h:mm a")]}),l.jsx("p",{className:"text-sm",children:ft(n,"EEEE, MMMM d, yyyy")})]})]}),l.jsxs("div",{className:"mt-auto",children:[l.jsxs("div",{className:"mt-6 bg-blue-50 p-4 rounded-md border border-blue-100",children:[l.jsx("p",{className:"text-gray-800 text-sm mb-2",children:l.jsx("span",{className:"font-semibold",children:"Do you have questions about our services?"})}),l.jsxs("p",{className:"text-sm text-gray-700",children:["Book a free 30-minute ",l.jsx("span",{className:"text-blue-700 font-medium",children:"information call"})," with us!"]})]}),l.jsx("div",{className:"border-t border-gray-200 my-4"}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"We'll discuss your needs and determine how we can best assist you."}),l.jsx("p",{className:"text-sm text-gray-600",children:"After our call, we can schedule a follow-up consultation if needed."})]})]})}),l.jsxs("div",{className:"md:w-3/4 flex flex-col md:flex-row",children:[t===1&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"w-full md:w-1/2 p-6 border-b md:border-b-0 md:border-r border-gray-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Select a Date"}),l.jsx("div",{className:"text-xs text-gray-600 mb-3",children:l.jsx("p",{children:"Available days: Wednesdays and Saturdays"})}),l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 shadow-sm bg-white h-[400px] flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("button",{onClick:()=>I("prev"),className:"p-2 rounded-full hover:bg-gray-100 transition-colors text-gray-600",children:l.jsx(jj,{className:"w-5 h-5"})}),l.jsx("h3",{className:"font-semibold text-gray-800",children:D}),l.jsx("button",{onClick:()=>I("next"),className:"p-2 rounded-full hover:bg-gray-100 transition-colors text-gray-600",children:l.jsx(Oj,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"grid grid-cols-7 flex-1 gap-1",children:[["S","M","T","W","T","F","S"].map(w=>l.jsx("div",{className:"text-center text-xs font-semibold text-gray-600 pb-2",children:w},w)),U().map((w,S)=>{const k=w.date.getDay(),N=k===3||k===6,ve=ft(w.date,"yyyy-MM-dd")===ft(n,"yyyy-MM-dd"),ae=w.date<new Date,fe=!w.isCurrentMonth||ae||!N;return l.jsx("button",{onClick:()=>fe?null:r(w.date),disabled:fe,className:`
       aspect-square flex items-center justify-center rounded-full text-sm transition-all duration-200
       ${w.isCurrentMonth?"":"text-gray-300"}
       ${ae?"cursor-not-allowed text-gray-300":""}
       ${!N&&w.isCurrentMonth?"text-gray-400":""}
       ${ve?"bg-blue-600 text-white font-medium shadow-sm":""}
       ${!fe&&!ve?"hover:bg-blue-50 hover:text-blue-700":""}
     `,children:l.jsxs("span",{className:`${N&&!fe&&!ve?"relative":""}`,children:[ft(w.date,"d"),N&&!fe&&!ve&&l.jsx("span",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-blue-600 rounded-full"})]})},S)})]})]})]}),l.jsxs("div",{className:"w-full md:w-1/2 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Available Times"}),l.jsx("div",{className:"text-xs text-gray-600 mb-3",children:l.jsx("p",{children:"Available hours: 10:00 AM - 1:00 PM"})}),l.jsx("div",{className:"border border-gray-200 rounded-lg p-4 shadow-sm bg-white h-[400px] overflow-y-auto custom-scrollbar",children:l.jsx("div",{className:"grid grid-cols-1 gap-3",children:i.length===0?l.jsx("div",{className:"text-center py-12 text-gray-500",children:l.jsx("p",{children:"Please select a Wednesday or Saturday to view available times"})}):i.map((w,S)=>{const k=w.time,[N,ve]=k.split(":"),ae=new Date;ae.setHours(parseInt(N)),ae.setMinutes(parseInt(ve));const fe=new Date(ae.getTime()+30*6e4),Qe=`${ft(ae,"h:mm a")} - ${ft(fe,"h:mm a")}`;return l.jsxs("button",{onClick:()=>{w.available&&(c(w.time),e(2))},disabled:!w.available,className:`
                                                                       relative py-4 px-3 rounded-md text-center transition-all duration-200 w-full
                                                                       ${w.available?"bg-white border-2 border-gray-200 hover:border-blue-500 hover:bg-blue-50 text-gray-800 hover:text-blue-700 shadow-sm hover:shadow":"bg-gray-50 text-gray-400 cursor-not-allowed border border-gray-200"}
                                                                   `,children:[l.jsx("span",{className:"font-medium text-base",children:Qe}),!w.available&&l.jsx("span",{className:"absolute top-2 right-2 text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:"Unavailable"})]},S)})})})]})]}),t===2&&l.jsxs("div",{className:"w-full p-6",children:[l.jsxs("button",{onClick:()=>e(1),className:"flex items-center text-blue-600 mb-6 hover:text-blue-800 transition-colors",children:[l.jsx(kj,{className:"w-4 h-4 mr-2"}),l.jsx("span",{children:"Back to Calendar"})]}),l.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"Enter Your Details"}),l.jsxs("form",{onSubmit:E,className:"space-y-5 max-w-lg",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),l.jsx("input",{type:"text",value:u,onChange:w=>d(w.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",placeholder:"Enter your full name",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),l.jsx("input",{type:"email",value:f,onChange:w=>p(w.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",placeholder:"email@example.com",required:!0})]}),l.jsxs("div",{className:"pt-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How would you like to meet? *"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-md bg-white hover:border-blue-300 transition-colors cursor-pointer",children:[l.jsx("input",{type:"radio",name:"location",value:"zoom",checked:g==="zoom",onChange:()=>T("zoom"),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),l.jsxs("span",{className:"ml-3 flex items-center text-gray-800",children:[l.jsxs("svg",{className:"w-5 h-5 mr-2 text-blue-600",xmlns:"http://www.w3.org/2000/svg","aria-label":"Zoom",role:"img",viewBox:"0 0 512 512",children:[l.jsx("rect",{width:"512",height:"512",rx:"15%",fill:"#2D8CFF"}),l.jsx("path",{fill:"#ffffff",d:"M428 357c8 2 15-2 19-8 2-3 2-8 2-19V179c0-11 0-15-2-19-3-8-11-11-19-8-21 14-67 55-68 72-.8 3-.8 8-.8 15v38c0 8 0 11 .8 15 1 8 4 15 8 19 12 9 52 45 61 45zM64 187c0-15 0-23 3-27 2-4 8-8 11-11 4-3 11-3 27-3h129c38 0 57 0 72 8 11 8 23 15 30 30 8 15 8 34 8 72v68c0 15 0 23-3 27-2 4-8 8-11 11-4 3-11 3-27 3H174c-38 0-57 0-72-8-11-8-23-15-30-30-8-15-8-34-8-72z"})]}),"Zoom Meeting"]})]}),l.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-md bg-white hover:border-blue-300 transition-colors cursor-pointer",children:[l.jsx("input",{type:"radio",name:"location",value:"phone",checked:g==="phone",onChange:()=>T("phone"),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),l.jsxs("span",{className:"ml-3 flex items-center text-gray-800",children:[l.jsxs("svg",{className:"w-5 h-5 mr-2 text-blue-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:[l.jsx("rect",{width:"512",height:"512",rx:"15%",fill:"#2D8CFF"}),l.jsx("path",{fill:"#ffffff",d:"M390 286.2c-8.7-8.7-19.3-13.5-30.8-13.5-11.5 0-22.2 4.8-30.9 13.5l-30.3 30.2c-2.4-1.3-4.7-2.4-7-3.6-3.3-1.7-6.4-3.2-9-4.8-26.8-17-51.3-39.1-74.5-67.7-11.3-14.3-18.9-26.3-24.4-38.6 7.4-6.7 14.2-13.7 20.9-20.5 2.5-2.5 5-5.1 7.5-7.6 18.9-18.9 18.9-43.3 0-62.2l-26.2-26.2c-3-3-5.9-5.9-8.8-8.9-5.7-5.8-11.5-11.8-17.5-17.4-8.7-8.7-19.2-13.3-30.7-13.3-11.5 0-22.1 4.6-31 13.3l-.2.2-32.6 32.8c-11.7 11.7-18.3 25.9-19.7 42.3-2 26.8 5.7 51.6 11.5 67.8 14.2 39.4 35.5 76 67.3 115.4 38.7 47.1 85.2 84.3 138.4 110.4 20.3 9.6 47.5 21 77.8 22.9 1.9.1 3.8.2 5.6.2 20.6 0 37.9-7.4 51.5-22.1 0-.1.1-.2.2-.3 4.7-5.6 10-10.7 15.6-16.1 3.8-3.6 7.7-7.4 11.5-11.3 8.8-9 13.5-19.6 13.5-31.1 0-11.5-4.8-22.1-13.7-30.9L390 286.2z"})]}),"Phone Call"]})]})]})]}),l.jsxs("div",{className:"pt-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Please share anything that will help prepare for our meeting"}),l.jsx("textarea",{value:C,onChange:w=>A(w.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",rows:4,placeholder:"Share any specific topics you'd like to discuss or questions you have"})]}),l.jsx("div",{className:"pt-6",children:l.jsx("button",{type:"submit",disabled:P,className:"w-full py-3 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300 font-medium shadow-sm transition-colors",children:P?"Scheduling...":"Schedule Event"})})]})]}),t===3&&x&&l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(Rj,{className:"w-12 h-12 text-green-500"})}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"You are scheduled"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"A calendar invitation has been sent to your email address."}),l.jsxs("button",{className:"inline-flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 mb-6",children:[l.jsx("span",{children:"Open invitation"}),l.jsx("svg",{className:"ml-1 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),l.jsxs("div",{className:"border border-gray-200 rounded-md p-4 max-w-xs mx-auto text-left",children:[l.jsx("h3",{className:"font-medium",children:"Free Appointment"}),l.jsxs("div",{className:"flex items-center text-gray-600 mt-2",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),l.jsx("span",{children:"Khadija Zouine"})]}),l.jsxs("div",{className:"flex items-center text-gray-600 mt-1",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsxs("span",{children:[o," - ",ft(tl(new Date(n.setHours(parseInt(o.split(":")[0]),parseInt(o.split(" ")[0].split(":")[1]))),30),"h:mm a"),", ",ft(n,"EEEE, MMMM d, yyyy")]})]})]})]})]})]})})})},Lj="/assets/logo-DGy1OF8f.png";function Vj(){const t=Zo(),[e,n]=j.useState(!1),[r,i]=j.useState(!1);j.useEffect(()=>{const o=()=>{i(window.scrollY>0)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]);const s=()=>l.jsx(pP,{});return l.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[l.jsxs("nav",{className:`${r?"bg-blue-600/40":"bg-blue-600"} backdrop-blur-sm md:sticky top-0 z-50`,children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsx("div",{className:"flex-shrink-0 md:flex-shrink basis-1/3 md:basis-auto",children:l.jsx("a",{href:"/",className:"flex items-center",children:l.jsx("img",{src:Lj,alt:"E-Co Fisco",className:"h-12 w-auto transition-transform duration-300 hover:scale-105"})})}),l.jsx("div",{className:"hidden md:flex md:items-center md:space-x-4",children:l.jsx(n0,{setMobileMenuOpen:n})}),l.jsxs("div",{className:"flex md:hidden items-center justify-between basis-2/3",children:[l.jsx("div",{className:"flex justify-center w-full",children:l.jsx("button",{onClick:()=>n(!e),className:"text-white hover:text-blue-200 focus:outline-none",children:e?l.jsx(CI,{size:24}):l.jsx(NI,{size:24})})}),l.jsx("div",{className:"flex justify-end w-full",children:l.jsx("button",{onClick:()=>t("/contact"),className:"inline-block px-4 py-1.5 bg-white text-blue-900 rounded-full text-sm font-medium hover:bg-blue-50 transition-all duration-300",children:"Contact Us"})})]})]})}),e&&l.jsx("div",{className:"md:hidden border-t border-blue-700",children:l.jsx(n0,{setMobileMenuOpen:n})})]}),l.jsx("main",{className:"flex-grow",children:l.jsxs($T,{children:[l.jsx(vn,{path:"/",element:s()}),l.jsx(vn,{path:"/services",element:l.jsx(gP,{})}),l.jsx(vn,{path:"/guide",element:l.jsx(yP,{})}),l.jsx(vn,{path:"/about",element:l.jsx(vP,{})}),l.jsx(vn,{path:"/contact",element:l.jsx(xP,{})}),l.jsx(vn,{path:"/residence-permit-request",element:l.jsx(wP,{})}),l.jsx(vn,{path:"/book-appointment",element:l.jsx(Mj,{})}),l.jsx(vn,{path:"*",element:l.jsx(UT,{to:"/",replace:!0})})]})}),l.jsx(uN,{})]})}function Fj(){return l.jsx(hw,{children:l.jsx(dI,{children:l.jsx(Vj,{})})})}Wx(document.getElementById("root")).render(l.jsx(j.StrictMode,{children:l.jsx(Fj,{})}));
