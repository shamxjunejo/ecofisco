var U_=Object.defineProperty;var z_=(t,e,n)=>e in t?U_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var vn=(t,e,n)=>z_(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function kc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $y={exports:{}},jc={},Wy={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xo=Symbol.for("react.element"),B_=Symbol.for("react.portal"),$_=Symbol.for("react.fragment"),W_=Symbol.for("react.strict_mode"),H_=Symbol.for("react.profiler"),q_=Symbol.for("react.provider"),G_=Symbol.for("react.context"),K_=Symbol.for("react.forward_ref"),Q_=Symbol.for("react.suspense"),Y_=Symbol.for("react.memo"),X_=Symbol.for("react.lazy"),$p=Symbol.iterator;function J_(t){return t===null||typeof t!="object"?null:(t=$p&&t[$p]||t["@@iterator"],typeof t=="function"?t:null)}var Hy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qy=Object.assign,Gy={};function hs(t,e,n){this.props=t,this.context=e,this.refs=Gy,this.updater=n||Hy}hs.prototype.isReactComponent={};hs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ky(){}Ky.prototype=hs.prototype;function Kh(t,e,n){this.props=t,this.context=e,this.refs=Gy,this.updater=n||Hy}var Qh=Kh.prototype=new Ky;Qh.constructor=Kh;qy(Qh,hs.prototype);Qh.isPureReactComponent=!0;var Wp=Array.isArray,Qy=Object.prototype.hasOwnProperty,Yh={current:null},Yy={key:!0,ref:!0,__self:!0,__source:!0};function Xy(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Qy.call(e,r)&&!Yy.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Xo,type:t,key:s,ref:o,props:i,_owner:Yh.current}}function Z_(t,e){return{$$typeof:Xo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xh(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xo}function eb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hp=/\/+/g;function Lu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?eb(""+t.key):e.toString(36)}function cl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Xo:case B_:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Lu(o,0):r,Wp(i)?(n="",t!=null&&(n=t.replace(Hp,"$&/")+"/"),cl(i,e,n,"",function(d){return d})):i!=null&&(Xh(i)&&(i=Z_(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Hp,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Wp(t))for(var c=0;c<t.length;c++){s=t[c];var u=r+Lu(s,c);o+=cl(s,e,n,u,i)}else if(u=J_(t),typeof u=="function")for(t=u.call(t),c=0;!(s=t.next()).done;)s=s.value,u=r+Lu(s,c++),o+=cl(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Da(t,e,n){if(t==null)return t;var r=[],i=0;return cl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function tb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mt={current:null},ul={transition:null},nb={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:ul,ReactCurrentOwner:Yh};function Jy(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Da,forEach:function(t,e,n){Da(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Da(t,function(){e++}),e},toArray:function(t){return Da(t,function(e){return e})||[]},only:function(t){if(!Xh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=hs;Z.Fragment=$_;Z.Profiler=H_;Z.PureComponent=Kh;Z.StrictMode=W_;Z.Suspense=Q_;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nb;Z.act=Jy;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qy({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Yh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)Qy.call(e,u)&&!Yy.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:Xo,type:t.type,key:i,ref:s,props:r,_owner:o}};Z.createContext=function(t){return t={$$typeof:G_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:q_,_context:t},t.Consumer=t};Z.createElement=Xy;Z.createFactory=function(t){var e=Xy.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:K_,render:t}};Z.isValidElement=Xh;Z.lazy=function(t){return{$$typeof:X_,_payload:{_status:-1,_result:t},_init:tb}};Z.memo=function(t,e){return{$$typeof:Y_,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=ul.transition;ul.transition={};try{t()}finally{ul.transition=e}};Z.unstable_act=Jy;Z.useCallback=function(t,e){return mt.current.useCallback(t,e)};Z.useContext=function(t){return mt.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return mt.current.useDeferredValue(t)};Z.useEffect=function(t,e){return mt.current.useEffect(t,e)};Z.useId=function(){return mt.current.useId()};Z.useImperativeHandle=function(t,e,n){return mt.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return mt.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return mt.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return mt.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return mt.current.useReducer(t,e,n)};Z.useRef=function(t){return mt.current.useRef(t)};Z.useState=function(t){return mt.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return mt.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return mt.current.useTransition()};Z.version="18.3.1";Wy.exports=Z;var P=Wy.exports;const ir=kc(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb=P,ib=Symbol.for("react.element"),sb=Symbol.for("react.fragment"),ob=Object.prototype.hasOwnProperty,ab=rb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lb={key:!0,ref:!0,__self:!0,__source:!0};function Zy(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ob.call(e,r)&&!lb.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ib,type:t,key:s,ref:o,props:i,_owner:ab.current}}jc.Fragment=sb;jc.jsx=Zy;jc.jsxs=Zy;$y.exports=jc;var a=$y.exports,ev={exports:{}},St={},tv={exports:{}},nv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,q){var J=U.length;U.push(q);e:for(;0<J;){var pe=J-1>>>1,le=U[pe];if(0<i(le,q))U[pe]=q,U[J]=le,J=pe;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var q=U[0],J=U.pop();if(J!==q){U[0]=J;e:for(var pe=0,le=U.length,ge=le>>>1;pe<ge;){var Ft=2*(pe+1)-1,Be=U[Ft],Ut=Ft+1,pn=U[Ut];if(0>i(Be,J))Ut<le&&0>i(pn,Be)?(U[pe]=pn,U[Ut]=J,pe=Ut):(U[pe]=Be,U[Ft]=J,pe=Ft);else if(Ut<le&&0>i(pn,J))U[pe]=pn,U[Ut]=J,pe=Ut;else break e}}return q}function i(U,q){var J=U.sortIndex-q.sortIndex;return J!==0?J:U.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],d=[],f=1,p=null,g=3,T=!1,C=!1,j=!1,A=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(U){for(var q=n(d);q!==null;){if(q.callback===null)r(d);else if(q.startTime<=U)r(d),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(d)}}function D(U){if(j=!1,E(U),!C)if(n(u)!==null)C=!0,Ae(V);else{var q=n(d);q!==null&&ee(D,q.startTime-U)}}function V(U,q){C=!1,j&&(j=!1,w(v),v=-1),T=!0;var J=g;try{for(E(q),p=n(u);p!==null&&(!(p.expirationTime>q)||U&&!k());){var pe=p.callback;if(typeof pe=="function"){p.callback=null,g=p.priorityLevel;var le=pe(p.expirationTime<=q);q=t.unstable_now(),typeof le=="function"?p.callback=le:p===n(u)&&r(u),E(q)}else r(u);p=n(u)}if(p!==null)var ge=!0;else{var Ft=n(d);Ft!==null&&ee(D,Ft.startTime-q),ge=!1}return ge}finally{p=null,g=J,T=!1}}var z=!1,I=null,v=-1,_=5,N=-1;function k(){return!(t.unstable_now()-N<_)}function S(){if(I!==null){var U=t.unstable_now();N=U;var q=!0;try{q=I(!0,U)}finally{q?b():(z=!1,I=null)}}else z=!1}var b;if(typeof x=="function")b=function(){x(S)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,re=oe.port2;oe.port1.onmessage=S,b=function(){re.postMessage(null)}}else b=function(){A(S,0)};function Ae(U){I=U,z||(z=!0,b())}function ee(U,q){v=A(function(){U(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){C||T||(C=!0,Ae(V))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(U){switch(g){case 1:case 2:case 3:var q=3;break;default:q=g}var J=g;g=q;try{return U()}finally{g=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var J=g;g=U;try{return q()}finally{g=J}},t.unstable_scheduleCallback=function(U,q,J){var pe=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?pe+J:pe):J=pe,U){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=J+le,U={id:f++,callback:q,priorityLevel:U,startTime:J,expirationTime:le,sortIndex:-1},J>pe?(U.sortIndex=J,e(d,U),n(u)===null&&U===n(d)&&(j?(w(v),v=-1):j=!0,ee(D,J-pe))):(U.sortIndex=le,e(u,U),C||T||(C=!0,Ae(V))),U},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(U){var q=g;return function(){var J=g;g=q;try{return U.apply(this,arguments)}finally{g=J}}}})(nv);tv.exports=nv;var cb=tv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub=P,Nt=cb;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rv=new Set,Eo={};function oi(t,e){Yi(t,e),Yi(t+"Capture",e)}function Yi(t,e){for(Eo[t]=e,t=0;t<e.length;t++)rv.add(e[t])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nd=Object.prototype.hasOwnProperty,db=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qp={},Gp={};function hb(t){return Nd.call(Gp,t)?!0:Nd.call(qp,t)?!1:db.test(t)?Gp[t]=!0:(qp[t]=!0,!1)}function fb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mb(t,e,n,r){if(e===null||typeof e>"u"||fb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qe[t]=new pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qe[e]=new pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qe[t]=new pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qe[t]=new pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qe[t]=new pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qe[t]=new pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qe[t]=new pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qe[t]=new pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qe[t]=new pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jh=/[\-:]([a-z])/g;function Zh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jh,Zh);Qe[e]=new pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jh,Zh);Qe[e]=new pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jh,Zh);Qe[e]=new pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qe[t]=new pt(t,1,!1,t.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qe[t]=new pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ef(t,e,n,r){var i=Qe.hasOwnProperty(e)?Qe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mb(e,n,i,r)&&(n=null),r||i===null?hb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Un=ub.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ma=Symbol.for("react.element"),Ii=Symbol.for("react.portal"),Ni=Symbol.for("react.fragment"),tf=Symbol.for("react.strict_mode"),Sd=Symbol.for("react.profiler"),iv=Symbol.for("react.provider"),sv=Symbol.for("react.context"),nf=Symbol.for("react.forward_ref"),Cd=Symbol.for("react.suspense"),kd=Symbol.for("react.suspense_list"),rf=Symbol.for("react.memo"),Yn=Symbol.for("react.lazy"),ov=Symbol.for("react.offscreen"),Kp=Symbol.iterator;function Us(t){return t===null||typeof t!="object"?null:(t=Kp&&t[Kp]||t["@@iterator"],typeof t=="function"?t:null)}var Ie=Object.assign,Ou;function to(t){if(Ou===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ou=e&&e[1]||""}return`
`+Ou+t}var Vu=!1;function Fu(t,e){if(!t||Vu)return"";Vu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,c=s.length-1;1<=o&&0<=c&&i[o]!==s[c];)c--;for(;1<=o&&0<=c;o--,c--)if(i[o]!==s[c]){if(o!==1||c!==1)do if(o--,c--,0>c||i[o]!==s[c]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=c);break}}}finally{Vu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?to(t):""}function pb(t){switch(t.tag){case 5:return to(t.type);case 16:return to("Lazy");case 13:return to("Suspense");case 19:return to("SuspenseList");case 0:case 2:case 15:return t=Fu(t.type,!1),t;case 11:return t=Fu(t.type.render,!1),t;case 1:return t=Fu(t.type,!0),t;default:return""}}function jd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ni:return"Fragment";case Ii:return"Portal";case Sd:return"Profiler";case tf:return"StrictMode";case Cd:return"Suspense";case kd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sv:return(t.displayName||"Context")+".Consumer";case iv:return(t._context.displayName||"Context")+".Provider";case nf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rf:return e=t.displayName||null,e!==null?e:jd(t.type)||"Memo";case Yn:e=t._payload,t=t._init;try{return jd(t(e))}catch{}}return null}function gb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jd(e);case 8:return e===tf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function br(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function av(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yb(t){var e=av(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function La(t){t._valueTracker||(t._valueTracker=yb(t))}function lv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=av(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ml(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ad(t,e){var n=e.checked;return Ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=br(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cv(t,e){e=e.checked,e!=null&&ef(t,"checked",e,!1)}function Rd(t,e){cv(t,e);var n=br(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pd(t,e.type,br(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pd(t,e,n){(e!=="number"||Ml(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var no=Array.isArray;function Vi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+br(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Dd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(no(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:br(n)}}function uv(t,e){var n=br(e.value),r=br(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Jp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Md(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Oa,hv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Oa=Oa||document.createElement("div"),Oa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Oa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function To(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var lo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vb=["Webkit","ms","Moz","O"];Object.keys(lo).forEach(function(t){vb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lo[e]=lo[t]})});function fv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||lo.hasOwnProperty(t)&&lo[t]?(""+e).trim():e+"px"}function mv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var xb=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ld(t,e){if(e){if(xb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Od(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vd=null;function sf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fd=null,Fi=null,Ui=null;function Zp(t){if(t=ea(t)){if(typeof Fd!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Mc(e),Fd(t.stateNode,t.type,e))}}function pv(t){Fi?Ui?Ui.push(t):Ui=[t]:Fi=t}function gv(){if(Fi){var t=Fi,e=Ui;if(Ui=Fi=null,Zp(t),e)for(t=0;t<e.length;t++)Zp(e[t])}}function yv(t,e){return t(e)}function vv(){}var Uu=!1;function xv(t,e,n){if(Uu)return t(e,n);Uu=!0;try{return yv(t,e,n)}finally{Uu=!1,(Fi!==null||Ui!==null)&&(vv(),gv())}}function Io(t,e){var n=t.stateNode;if(n===null)return null;var r=Mc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var Ud=!1;if(jn)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){Ud=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{Ud=!1}function wb(t,e,n,r,i,s,o,c,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var co=!1,Ll=null,Ol=!1,zd=null,_b={onError:function(t){co=!0,Ll=t}};function bb(t,e,n,r,i,s,o,c,u){co=!1,Ll=null,wb.apply(_b,arguments)}function Eb(t,e,n,r,i,s,o,c,u){if(bb.apply(this,arguments),co){if(co){var d=Ll;co=!1,Ll=null}else throw Error(F(198));Ol||(Ol=!0,zd=d)}}function ai(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function wv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eg(t){if(ai(t)!==t)throw Error(F(188))}function Tb(t){var e=t.alternate;if(!e){if(e=ai(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return eg(i),t;if(s===r)return eg(i),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function _v(t){return t=Tb(t),t!==null?bv(t):null}function bv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bv(t);if(e!==null)return e;t=t.sibling}return null}var Ev=Nt.unstable_scheduleCallback,tg=Nt.unstable_cancelCallback,Ib=Nt.unstable_shouldYield,Nb=Nt.unstable_requestPaint,je=Nt.unstable_now,Sb=Nt.unstable_getCurrentPriorityLevel,of=Nt.unstable_ImmediatePriority,Tv=Nt.unstable_UserBlockingPriority,Vl=Nt.unstable_NormalPriority,Cb=Nt.unstable_LowPriority,Iv=Nt.unstable_IdlePriority,Ac=null,an=null;function kb(t){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Ac,t,void 0,(t.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Rb,jb=Math.log,Ab=Math.LN2;function Rb(t){return t>>>=0,t===0?32:31-(jb(t)/Ab|0)|0}var Va=64,Fa=4194304;function ro(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var c=o&~i;c!==0?r=ro(c):(s&=o,s!==0&&(r=ro(s)))}else o=n&~i,o!==0?r=ro(o):s!==0&&(r=ro(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Kt(e),i=1<<n,r|=t[n],e&=~i;return r}function Pb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Db(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Kt(s),c=1<<o,u=i[o];u===-1?(!(c&n)||c&r)&&(i[o]=Pb(c,e)):u<=e&&(t.expiredLanes|=c),s&=~c}}function Bd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Nv(){var t=Va;return Va<<=1,!(Va&4194240)&&(Va=64),t}function zu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kt(e),t[e]=n}function Mb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Kt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function af(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Kt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var he=0;function Sv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Cv,lf,kv,jv,Av,$d=!1,Ua=[],lr=null,cr=null,ur=null,No=new Map,So=new Map,Jn=[],Lb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ng(t,e){switch(t){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":No.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(e.pointerId)}}function Bs(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ea(e),e!==null&&lf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Ob(t,e,n,r,i){switch(e){case"focusin":return lr=Bs(lr,t,e,n,r,i),!0;case"dragenter":return cr=Bs(cr,t,e,n,r,i),!0;case"mouseover":return ur=Bs(ur,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return No.set(s,Bs(No.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,So.set(s,Bs(So.get(s)||null,t,e,n,r,i)),!0}return!1}function Rv(t){var e=Br(t.target);if(e!==null){var n=ai(e);if(n!==null){if(e=n.tag,e===13){if(e=wv(n),e!==null){t.blockedOn=e,Av(t.priority,function(){kv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vd=r,n.target.dispatchEvent(r),Vd=null}else return e=ea(n),e!==null&&lf(e),t.blockedOn=n,!1;e.shift()}return!0}function rg(t,e,n){dl(t)&&n.delete(e)}function Vb(){$d=!1,lr!==null&&dl(lr)&&(lr=null),cr!==null&&dl(cr)&&(cr=null),ur!==null&&dl(ur)&&(ur=null),No.forEach(rg),So.forEach(rg)}function $s(t,e){t.blockedOn===e&&(t.blockedOn=null,$d||($d=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,Vb)))}function Co(t){function e(i){return $s(i,t)}if(0<Ua.length){$s(Ua[0],t);for(var n=1;n<Ua.length;n++){var r=Ua[n];r.blockedOn===t&&(r.blockedOn=null)}}for(lr!==null&&$s(lr,t),cr!==null&&$s(cr,t),ur!==null&&$s(ur,t),No.forEach(e),So.forEach(e),n=0;n<Jn.length;n++)r=Jn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jn.length&&(n=Jn[0],n.blockedOn===null);)Rv(n),n.blockedOn===null&&Jn.shift()}var zi=Un.ReactCurrentBatchConfig,Ul=!0;function Fb(t,e,n,r){var i=he,s=zi.transition;zi.transition=null;try{he=1,cf(t,e,n,r)}finally{he=i,zi.transition=s}}function Ub(t,e,n,r){var i=he,s=zi.transition;zi.transition=null;try{he=4,cf(t,e,n,r)}finally{he=i,zi.transition=s}}function cf(t,e,n,r){if(Ul){var i=Wd(t,e,n,r);if(i===null)Xu(t,e,r,zl,n),ng(t,r);else if(Ob(i,t,e,n,r))r.stopPropagation();else if(ng(t,r),e&4&&-1<Lb.indexOf(t)){for(;i!==null;){var s=ea(i);if(s!==null&&Cv(s),s=Wd(t,e,n,r),s===null&&Xu(t,e,r,zl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Xu(t,e,r,null,n)}}var zl=null;function Wd(t,e,n,r){if(zl=null,t=sf(r),t=Br(t),t!==null)if(e=ai(t),e===null)t=null;else if(n=e.tag,n===13){if(t=wv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zl=t,null}function Pv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sb()){case of:return 1;case Tv:return 4;case Vl:case Cb:return 16;case Iv:return 536870912;default:return 16}default:return 16}}var sr=null,uf=null,hl=null;function Dv(){if(hl)return hl;var t,e=uf,n=e.length,r,i="value"in sr?sr.value:sr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return hl=i.slice(t,1<r?1-r:void 0)}function fl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function za(){return!0}function ig(){return!1}function Ct(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?za:ig,this.isPropagationStopped=ig,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za}),e}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},df=Ct(fs),Zo=Ie({},fs,{view:0,detail:0}),zb=Ct(Zo),Bu,$u,Ws,Rc=Ie({},Zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ws&&(Ws&&t.type==="mousemove"?(Bu=t.screenX-Ws.screenX,$u=t.screenY-Ws.screenY):$u=Bu=0,Ws=t),Bu)},movementY:function(t){return"movementY"in t?t.movementY:$u}}),sg=Ct(Rc),Bb=Ie({},Rc,{dataTransfer:0}),$b=Ct(Bb),Wb=Ie({},Zo,{relatedTarget:0}),Wu=Ct(Wb),Hb=Ie({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),qb=Ct(Hb),Gb=Ie({},fs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Kb=Ct(Gb),Qb=Ie({},fs,{data:0}),og=Ct(Qb),Yb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Jb[t])?!!e[t]:!1}function hf(){return Zb}var eE=Ie({},Zo,{key:function(t){if(t.key){var e=Yb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hf,charCode:function(t){return t.type==="keypress"?fl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tE=Ct(eE),nE=Ie({},Rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ag=Ct(nE),rE=Ie({},Zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hf}),iE=Ct(rE),sE=Ie({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),oE=Ct(sE),aE=Ie({},Rc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lE=Ct(aE),cE=[9,13,27,32],ff=jn&&"CompositionEvent"in window,uo=null;jn&&"documentMode"in document&&(uo=document.documentMode);var uE=jn&&"TextEvent"in window&&!uo,Mv=jn&&(!ff||uo&&8<uo&&11>=uo),lg=" ",cg=!1;function Lv(t,e){switch(t){case"keyup":return cE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ov(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Si=!1;function dE(t,e){switch(t){case"compositionend":return Ov(e);case"keypress":return e.which!==32?null:(cg=!0,lg);case"textInput":return t=e.data,t===lg&&cg?null:t;default:return null}}function hE(t,e){if(Si)return t==="compositionend"||!ff&&Lv(t,e)?(t=Dv(),hl=uf=sr=null,Si=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Mv&&e.locale!=="ko"?null:e.data;default:return null}}var fE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fE[t.type]:e==="textarea"}function Vv(t,e,n,r){pv(r),e=Bl(e,"onChange"),0<e.length&&(n=new df("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ho=null,ko=null;function mE(t){Qv(t,0)}function Pc(t){var e=ji(t);if(lv(e))return t}function pE(t,e){if(t==="change")return e}var Fv=!1;if(jn){var Hu;if(jn){var qu="oninput"in document;if(!qu){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),qu=typeof dg.oninput=="function"}Hu=qu}else Hu=!1;Fv=Hu&&(!document.documentMode||9<document.documentMode)}function hg(){ho&&(ho.detachEvent("onpropertychange",Uv),ko=ho=null)}function Uv(t){if(t.propertyName==="value"&&Pc(ko)){var e=[];Vv(e,ko,t,sf(t)),xv(mE,e)}}function gE(t,e,n){t==="focusin"?(hg(),ho=e,ko=n,ho.attachEvent("onpropertychange",Uv)):t==="focusout"&&hg()}function yE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pc(ko)}function vE(t,e){if(t==="click")return Pc(e)}function xE(t,e){if(t==="input"||t==="change")return Pc(e)}function wE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yt=typeof Object.is=="function"?Object.is:wE;function jo(t,e){if(Yt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Nd.call(e,i)||!Yt(t[i],e[i]))return!1}return!0}function fg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mg(t,e){var n=fg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fg(n)}}function zv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Bv(){for(var t=window,e=Ml();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ml(t.document)}return e}function mf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _E(t){var e=Bv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zv(n.ownerDocument.documentElement,n)){if(r!==null&&mf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=mg(n,s);var o=mg(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bE=jn&&"documentMode"in document&&11>=document.documentMode,Ci=null,Hd=null,fo=null,qd=!1;function pg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qd||Ci==null||Ci!==Ml(r)||(r=Ci,"selectionStart"in r&&mf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fo&&jo(fo,r)||(fo=r,r=Bl(Hd,"onSelect"),0<r.length&&(e=new df("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ci)))}function Ba(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ki={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionend:Ba("Transition","TransitionEnd")},Gu={},$v={};jn&&($v=document.createElement("div").style,"AnimationEvent"in window||(delete ki.animationend.animation,delete ki.animationiteration.animation,delete ki.animationstart.animation),"TransitionEvent"in window||delete ki.transitionend.transition);function Dc(t){if(Gu[t])return Gu[t];if(!ki[t])return t;var e=ki[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $v)return Gu[t]=e[n];return t}var Wv=Dc("animationend"),Hv=Dc("animationiteration"),qv=Dc("animationstart"),Gv=Dc("transitionend"),Kv=new Map,gg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,e){Kv.set(t,e),oi(e,[t])}for(var Ku=0;Ku<gg.length;Ku++){var Qu=gg[Ku],EE=Qu.toLowerCase(),TE=Qu[0].toUpperCase()+Qu.slice(1);Ar(EE,"on"+TE)}Ar(Wv,"onAnimationEnd");Ar(Hv,"onAnimationIteration");Ar(qv,"onAnimationStart");Ar("dblclick","onDoubleClick");Ar("focusin","onFocus");Ar("focusout","onBlur");Ar(Gv,"onTransitionEnd");Yi("onMouseEnter",["mouseout","mouseover"]);Yi("onMouseLeave",["mouseout","mouseover"]);Yi("onPointerEnter",["pointerout","pointerover"]);Yi("onPointerLeave",["pointerout","pointerover"]);oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IE=new Set("cancel close invalid load scroll toggle".split(" ").concat(io));function yg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Eb(r,e,void 0,t),t.currentTarget=null}function Qv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var c=r[o],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==s&&i.isPropagationStopped())break e;yg(i,c,d),s=u}else for(o=0;o<r.length;o++){if(c=r[o],u=c.instance,d=c.currentTarget,c=c.listener,u!==s&&i.isPropagationStopped())break e;yg(i,c,d),s=u}}}if(Ol)throw t=zd,Ol=!1,zd=null,t}function ve(t,e){var n=e[Xd];n===void 0&&(n=e[Xd]=new Set);var r=t+"__bubble";n.has(r)||(Yv(e,t,2,!1),n.add(r))}function Yu(t,e,n){var r=0;e&&(r|=4),Yv(n,t,r,e)}var $a="_reactListening"+Math.random().toString(36).slice(2);function Ao(t){if(!t[$a]){t[$a]=!0,rv.forEach(function(n){n!=="selectionchange"&&(IE.has(n)||Yu(n,!1,t),Yu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$a]||(e[$a]=!0,Yu("selectionchange",!1,e))}}function Yv(t,e,n,r){switch(Pv(e)){case 1:var i=Fb;break;case 4:i=Ub;break;default:i=cf}n=i.bind(null,e,n,t),i=void 0,!Ud||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Xu(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;c!==null;){if(o=Br(c),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}c=c.parentNode}}r=r.return}xv(function(){var d=s,f=sf(n),p=[];e:{var g=Kv.get(t);if(g!==void 0){var T=df,C=t;switch(t){case"keypress":if(fl(n)===0)break e;case"keydown":case"keyup":T=tE;break;case"focusin":C="focus",T=Wu;break;case"focusout":C="blur",T=Wu;break;case"beforeblur":case"afterblur":T=Wu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=sg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=$b;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=iE;break;case Wv:case Hv:case qv:T=qb;break;case Gv:T=oE;break;case"scroll":T=zb;break;case"wheel":T=lE;break;case"copy":case"cut":case"paste":T=Kb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=ag}var j=(e&4)!==0,A=!j&&t==="scroll",w=j?g!==null?g+"Capture":null:g;j=[];for(var x=d,E;x!==null;){E=x;var D=E.stateNode;if(E.tag===5&&D!==null&&(E=D,w!==null&&(D=Io(x,w),D!=null&&j.push(Ro(x,D,E)))),A)break;x=x.return}0<j.length&&(g=new T(g,C,null,n,f),p.push({event:g,listeners:j}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",g&&n!==Vd&&(C=n.relatedTarget||n.fromElement)&&(Br(C)||C[An]))break e;if((T||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,T?(C=n.relatedTarget||n.toElement,T=d,C=C?Br(C):null,C!==null&&(A=ai(C),C!==A||C.tag!==5&&C.tag!==6)&&(C=null)):(T=null,C=d),T!==C)){if(j=sg,D="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(j=ag,D="onPointerLeave",w="onPointerEnter",x="pointer"),A=T==null?g:ji(T),E=C==null?g:ji(C),g=new j(D,x+"leave",T,n,f),g.target=A,g.relatedTarget=E,D=null,Br(f)===d&&(j=new j(w,x+"enter",C,n,f),j.target=E,j.relatedTarget=A,D=j),A=D,T&&C)t:{for(j=T,w=C,x=0,E=j;E;E=gi(E))x++;for(E=0,D=w;D;D=gi(D))E++;for(;0<x-E;)j=gi(j),x--;for(;0<E-x;)w=gi(w),E--;for(;x--;){if(j===w||w!==null&&j===w.alternate)break t;j=gi(j),w=gi(w)}j=null}else j=null;T!==null&&vg(p,g,T,j,!1),C!==null&&A!==null&&vg(p,A,C,j,!0)}}e:{if(g=d?ji(d):window,T=g.nodeName&&g.nodeName.toLowerCase(),T==="select"||T==="input"&&g.type==="file")var V=pE;else if(ug(g))if(Fv)V=xE;else{V=yE;var z=gE}else(T=g.nodeName)&&T.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(V=vE);if(V&&(V=V(t,d))){Vv(p,V,n,f);break e}z&&z(t,g,d),t==="focusout"&&(z=g._wrapperState)&&z.controlled&&g.type==="number"&&Pd(g,"number",g.value)}switch(z=d?ji(d):window,t){case"focusin":(ug(z)||z.contentEditable==="true")&&(Ci=z,Hd=d,fo=null);break;case"focusout":fo=Hd=Ci=null;break;case"mousedown":qd=!0;break;case"contextmenu":case"mouseup":case"dragend":qd=!1,pg(p,n,f);break;case"selectionchange":if(bE)break;case"keydown":case"keyup":pg(p,n,f)}var I;if(ff)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Si?Lv(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Mv&&n.locale!=="ko"&&(Si||v!=="onCompositionStart"?v==="onCompositionEnd"&&Si&&(I=Dv()):(sr=f,uf="value"in sr?sr.value:sr.textContent,Si=!0)),z=Bl(d,v),0<z.length&&(v=new og(v,t,null,n,f),p.push({event:v,listeners:z}),I?v.data=I:(I=Ov(n),I!==null&&(v.data=I)))),(I=uE?dE(t,n):hE(t,n))&&(d=Bl(d,"onBeforeInput"),0<d.length&&(f=new og("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:d}),f.data=I))}Qv(p,e)})}function Ro(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Io(t,n),s!=null&&r.unshift(Ro(t,s,i)),s=Io(t,e),s!=null&&r.push(Ro(t,s,i))),t=t.return}return r}function gi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vg(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var c=n,u=c.alternate,d=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&d!==null&&(c=d,i?(u=Io(n,s),u!=null&&o.unshift(Ro(n,u,c))):i||(u=Io(n,s),u!=null&&o.push(Ro(n,u,c)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var NE=/\r\n?/g,SE=/\u0000|\uFFFD/g;function xg(t){return(typeof t=="string"?t:""+t).replace(NE,`
`).replace(SE,"")}function Wa(t,e,n){if(e=xg(e),xg(t)!==e&&n)throw Error(F(425))}function $l(){}var Gd=null,Kd=null;function Qd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yd=typeof setTimeout=="function"?setTimeout:void 0,CE=typeof clearTimeout=="function"?clearTimeout:void 0,wg=typeof Promise=="function"?Promise:void 0,kE=typeof queueMicrotask=="function"?queueMicrotask:typeof wg<"u"?function(t){return wg.resolve(null).then(t).catch(jE)}:Yd;function jE(t){setTimeout(function(){throw t})}function Ju(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Co(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Co(e)}function dr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _g(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ms=Math.random().toString(36).slice(2),sn="__reactFiber$"+ms,Po="__reactProps$"+ms,An="__reactContainer$"+ms,Xd="__reactEvents$"+ms,AE="__reactListeners$"+ms,RE="__reactHandles$"+ms;function Br(t){var e=t[sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[An]||n[sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_g(t);t!==null;){if(n=t[sn])return n;t=_g(t)}return e}t=n,n=t.parentNode}return null}function ea(t){return t=t[sn]||t[An],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ji(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Mc(t){return t[Po]||null}var Jd=[],Ai=-1;function Rr(t){return{current:t}}function we(t){0>Ai||(t.current=Jd[Ai],Jd[Ai]=null,Ai--)}function me(t,e){Ai++,Jd[Ai]=t.current,t.current=e}var Er={},at=Rr(Er),xt=Rr(!1),Yr=Er;function Xi(t,e){var n=t.type.contextTypes;if(!n)return Er;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wt(t){return t=t.childContextTypes,t!=null}function Wl(){we(xt),we(at)}function bg(t,e,n){if(at.current!==Er)throw Error(F(168));me(at,e),me(xt,n)}function Xv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,gb(t)||"Unknown",i));return Ie({},n,r)}function Hl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Er,Yr=at.current,me(at,t),me(xt,xt.current),!0}function Eg(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=Xv(t,e,Yr),r.__reactInternalMemoizedMergedChildContext=t,we(xt),we(at),me(at,t)):we(xt),me(xt,n)}var _n=null,Lc=!1,Zu=!1;function Jv(t){_n===null?_n=[t]:_n.push(t)}function PE(t){Lc=!0,Jv(t)}function Pr(){if(!Zu&&_n!==null){Zu=!0;var t=0,e=he;try{var n=_n;for(he=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}_n=null,Lc=!1}catch(i){throw _n!==null&&(_n=_n.slice(t+1)),Ev(of,Pr),i}finally{he=e,Zu=!1}}return null}var Ri=[],Pi=0,ql=null,Gl=0,jt=[],At=0,Xr=null,bn=1,En="";function Vr(t,e){Ri[Pi++]=Gl,Ri[Pi++]=ql,ql=t,Gl=e}function Zv(t,e,n){jt[At++]=bn,jt[At++]=En,jt[At++]=Xr,Xr=t;var r=bn;t=En;var i=32-Kt(r)-1;r&=~(1<<i),n+=1;var s=32-Kt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,bn=1<<32-Kt(e)+i|n<<i|r,En=s+t}else bn=1<<s|n<<i|r,En=t}function pf(t){t.return!==null&&(Vr(t,1),Zv(t,1,0))}function gf(t){for(;t===ql;)ql=Ri[--Pi],Ri[Pi]=null,Gl=Ri[--Pi],Ri[Pi]=null;for(;t===Xr;)Xr=jt[--At],jt[At]=null,En=jt[--At],jt[At]=null,bn=jt[--At],jt[At]=null}var It=null,Tt=null,_e=!1,Ht=null;function ex(t,e){var n=Pt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Tg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,It=t,Tt=dr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,It=t,Tt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xr!==null?{id:bn,overflow:En}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,It=t,Tt=null,!0):!1;default:return!1}}function Zd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function eh(t){if(_e){var e=Tt;if(e){var n=e;if(!Tg(t,e)){if(Zd(t))throw Error(F(418));e=dr(n.nextSibling);var r=It;e&&Tg(t,e)?ex(r,n):(t.flags=t.flags&-4097|2,_e=!1,It=t)}}else{if(Zd(t))throw Error(F(418));t.flags=t.flags&-4097|2,_e=!1,It=t}}}function Ig(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;It=t}function Ha(t){if(t!==It)return!1;if(!_e)return Ig(t),_e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qd(t.type,t.memoizedProps)),e&&(e=Tt)){if(Zd(t))throw tx(),Error(F(418));for(;e;)ex(t,e),e=dr(e.nextSibling)}if(Ig(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tt=dr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tt=null}}else Tt=It?dr(t.stateNode.nextSibling):null;return!0}function tx(){for(var t=Tt;t;)t=dr(t.nextSibling)}function Ji(){Tt=It=null,_e=!1}function yf(t){Ht===null?Ht=[t]:Ht.push(t)}var DE=Un.ReactCurrentBatchConfig;function Hs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var c=i.refs;o===null?delete c[s]:c[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function qa(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ng(t){var e=t._init;return e(t._payload)}function nx(t){function e(w,x){if(t){var E=w.deletions;E===null?(w.deletions=[x],w.flags|=16):E.push(x)}}function n(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function i(w,x){return w=pr(w,x),w.index=0,w.sibling=null,w}function s(w,x,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<x?(w.flags|=2,x):E):(w.flags|=2,x)):(w.flags|=1048576,x)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function c(w,x,E,D){return x===null||x.tag!==6?(x=od(E,w.mode,D),x.return=w,x):(x=i(x,E),x.return=w,x)}function u(w,x,E,D){var V=E.type;return V===Ni?f(w,x,E.props.children,D,E.key):x!==null&&(x.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Yn&&Ng(V)===x.type)?(D=i(x,E.props),D.ref=Hs(w,x,E),D.return=w,D):(D=wl(E.type,E.key,E.props,null,w.mode,D),D.ref=Hs(w,x,E),D.return=w,D)}function d(w,x,E,D){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=ad(E,w.mode,D),x.return=w,x):(x=i(x,E.children||[]),x.return=w,x)}function f(w,x,E,D,V){return x===null||x.tag!==7?(x=Kr(E,w.mode,D,V),x.return=w,x):(x=i(x,E),x.return=w,x)}function p(w,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return x=od(""+x,w.mode,E),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ma:return E=wl(x.type,x.key,x.props,null,w.mode,E),E.ref=Hs(w,null,x),E.return=w,E;case Ii:return x=ad(x,w.mode,E),x.return=w,x;case Yn:var D=x._init;return p(w,D(x._payload),E)}if(no(x)||Us(x))return x=Kr(x,w.mode,E,null),x.return=w,x;qa(w,x)}return null}function g(w,x,E,D){var V=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return V!==null?null:c(w,x,""+E,D);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ma:return E.key===V?u(w,x,E,D):null;case Ii:return E.key===V?d(w,x,E,D):null;case Yn:return V=E._init,g(w,x,V(E._payload),D)}if(no(E)||Us(E))return V!==null?null:f(w,x,E,D,null);qa(w,E)}return null}function T(w,x,E,D,V){if(typeof D=="string"&&D!==""||typeof D=="number")return w=w.get(E)||null,c(x,w,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ma:return w=w.get(D.key===null?E:D.key)||null,u(x,w,D,V);case Ii:return w=w.get(D.key===null?E:D.key)||null,d(x,w,D,V);case Yn:var z=D._init;return T(w,x,E,z(D._payload),V)}if(no(D)||Us(D))return w=w.get(E)||null,f(x,w,D,V,null);qa(x,D)}return null}function C(w,x,E,D){for(var V=null,z=null,I=x,v=x=0,_=null;I!==null&&v<E.length;v++){I.index>v?(_=I,I=null):_=I.sibling;var N=g(w,I,E[v],D);if(N===null){I===null&&(I=_);break}t&&I&&N.alternate===null&&e(w,I),x=s(N,x,v),z===null?V=N:z.sibling=N,z=N,I=_}if(v===E.length)return n(w,I),_e&&Vr(w,v),V;if(I===null){for(;v<E.length;v++)I=p(w,E[v],D),I!==null&&(x=s(I,x,v),z===null?V=I:z.sibling=I,z=I);return _e&&Vr(w,v),V}for(I=r(w,I);v<E.length;v++)_=T(I,w,v,E[v],D),_!==null&&(t&&_.alternate!==null&&I.delete(_.key===null?v:_.key),x=s(_,x,v),z===null?V=_:z.sibling=_,z=_);return t&&I.forEach(function(k){return e(w,k)}),_e&&Vr(w,v),V}function j(w,x,E,D){var V=Us(E);if(typeof V!="function")throw Error(F(150));if(E=V.call(E),E==null)throw Error(F(151));for(var z=V=null,I=x,v=x=0,_=null,N=E.next();I!==null&&!N.done;v++,N=E.next()){I.index>v?(_=I,I=null):_=I.sibling;var k=g(w,I,N.value,D);if(k===null){I===null&&(I=_);break}t&&I&&k.alternate===null&&e(w,I),x=s(k,x,v),z===null?V=k:z.sibling=k,z=k,I=_}if(N.done)return n(w,I),_e&&Vr(w,v),V;if(I===null){for(;!N.done;v++,N=E.next())N=p(w,N.value,D),N!==null&&(x=s(N,x,v),z===null?V=N:z.sibling=N,z=N);return _e&&Vr(w,v),V}for(I=r(w,I);!N.done;v++,N=E.next())N=T(I,w,v,N.value,D),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?v:N.key),x=s(N,x,v),z===null?V=N:z.sibling=N,z=N);return t&&I.forEach(function(S){return e(w,S)}),_e&&Vr(w,v),V}function A(w,x,E,D){if(typeof E=="object"&&E!==null&&E.type===Ni&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Ma:e:{for(var V=E.key,z=x;z!==null;){if(z.key===V){if(V=E.type,V===Ni){if(z.tag===7){n(w,z.sibling),x=i(z,E.props.children),x.return=w,w=x;break e}}else if(z.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Yn&&Ng(V)===z.type){n(w,z.sibling),x=i(z,E.props),x.ref=Hs(w,z,E),x.return=w,w=x;break e}n(w,z);break}else e(w,z);z=z.sibling}E.type===Ni?(x=Kr(E.props.children,w.mode,D,E.key),x.return=w,w=x):(D=wl(E.type,E.key,E.props,null,w.mode,D),D.ref=Hs(w,x,E),D.return=w,w=D)}return o(w);case Ii:e:{for(z=E.key;x!==null;){if(x.key===z)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){n(w,x.sibling),x=i(x,E.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else e(w,x);x=x.sibling}x=ad(E,w.mode,D),x.return=w,w=x}return o(w);case Yn:return z=E._init,A(w,x,z(E._payload),D)}if(no(E))return C(w,x,E,D);if(Us(E))return j(w,x,E,D);qa(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,x!==null&&x.tag===6?(n(w,x.sibling),x=i(x,E),x.return=w,w=x):(n(w,x),x=od(E,w.mode,D),x.return=w,w=x),o(w)):n(w,x)}return A}var Zi=nx(!0),rx=nx(!1),Kl=Rr(null),Ql=null,Di=null,vf=null;function xf(){vf=Di=Ql=null}function wf(t){var e=Kl.current;we(Kl),t._currentValue=e}function th(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bi(t,e){Ql=t,vf=Di=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vt=!0),t.firstContext=null)}function Lt(t){var e=t._currentValue;if(vf!==t)if(t={context:t,memoizedValue:e,next:null},Di===null){if(Ql===null)throw Error(F(308));Di=t,Ql.dependencies={lanes:0,firstContext:t}}else Di=Di.next=t;return e}var $r=null;function _f(t){$r===null?$r=[t]:$r.push(t)}function ix(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,_f(e)):(n.next=i.next,i.next=n),e.interleaved=n,Rn(t,r)}function Rn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xn=!1;function bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Rn(t,n)}return i=r.interleaved,i===null?(e.next=e,_f(r)):(e.next=i.next,i.next=e),r.interleaved=e,Rn(t,n)}function ml(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,af(t,n)}}function Sg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yl(t,e,n,r){var i=t.updateQueue;Xn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var u=c,d=u.next;u.next=null,o===null?s=d:o.next=d,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==o&&(c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,f=d=u=null,c=s;do{var g=c.lane,T=c.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:T,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var C=t,j=c;switch(g=e,T=n,j.tag){case 1:if(C=j.payload,typeof C=="function"){p=C.call(T,p,g);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=j.payload,g=typeof C=="function"?C.call(T,p,g):C,g==null)break e;p=Ie({},p,g);break e;case 2:Xn=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[c]:g.push(c))}else T={eventTime:T,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(d=f=T,u=p):f=f.next=T,o|=g;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;g=c,c=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(u=p),i.baseState=u,i.firstBaseUpdate=d,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Zr|=o,t.lanes=o,t.memoizedState=p}}function Cg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var ta={},ln=Rr(ta),Do=Rr(ta),Mo=Rr(ta);function Wr(t){if(t===ta)throw Error(F(174));return t}function Ef(t,e){switch(me(Mo,e),me(Do,t),me(ln,ta),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Md(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Md(e,t)}we(ln),me(ln,e)}function es(){we(ln),we(Do),we(Mo)}function ox(t){Wr(Mo.current);var e=Wr(ln.current),n=Md(e,t.type);e!==n&&(me(Do,t),me(ln,n))}function Tf(t){Do.current===t&&(we(ln),we(Do))}var Ee=Rr(0);function Xl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ed=[];function If(){for(var t=0;t<ed.length;t++)ed[t]._workInProgressVersionPrimary=null;ed.length=0}var pl=Un.ReactCurrentDispatcher,td=Un.ReactCurrentBatchConfig,Jr=0,Te=null,Me=null,Ue=null,Jl=!1,mo=!1,Lo=0,ME=0;function tt(){throw Error(F(321))}function Nf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yt(t[n],e[n]))return!1;return!0}function Sf(t,e,n,r,i,s){if(Jr=s,Te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pl.current=t===null||t.memoizedState===null?FE:UE,t=n(r,i),mo){s=0;do{if(mo=!1,Lo=0,25<=s)throw Error(F(301));s+=1,Ue=Me=null,e.updateQueue=null,pl.current=zE,t=n(r,i)}while(mo)}if(pl.current=Zl,e=Me!==null&&Me.next!==null,Jr=0,Ue=Me=Te=null,Jl=!1,e)throw Error(F(300));return t}function Cf(){var t=Lo!==0;return Lo=0,t}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Te.memoizedState=Ue=t:Ue=Ue.next=t,Ue}function Ot(){if(Me===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var e=Ue===null?Te.memoizedState:Ue.next;if(e!==null)Ue=e,Me=t;else{if(t===null)throw Error(F(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Ue===null?Te.memoizedState=Ue=t:Ue=Ue.next=t}return Ue}function Oo(t,e){return typeof e=="function"?e(t):e}function nd(t){var e=Ot(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=Me,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var c=o=null,u=null,d=s;do{var f=d.lane;if((Jr&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=p,o=r):u=u.next=p,Te.lanes|=f,Zr|=f}d=d.next}while(d!==null&&d!==s);u===null?o=r:u.next=c,Yt(r,e.memoizedState)||(vt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Te.lanes|=s,Zr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rd(t){var e=Ot(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Yt(s,e.memoizedState)||(vt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ax(){}function lx(t,e){var n=Te,r=Ot(),i=e(),s=!Yt(r.memoizedState,i);if(s&&(r.memoizedState=i,vt=!0),r=r.queue,kf(dx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,Vo(9,ux.bind(null,n,r,i,e),void 0,null),ze===null)throw Error(F(349));Jr&30||cx(n,e,i)}return i}function cx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ux(t,e,n,r){e.value=n,e.getSnapshot=r,hx(e)&&fx(t)}function dx(t,e,n){return n(function(){hx(e)&&fx(t)})}function hx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yt(t,n)}catch{return!0}}function fx(t){var e=Rn(t,1);e!==null&&Qt(e,t,1,-1)}function kg(t){var e=nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:t},e.queue=t,t=t.dispatch=VE.bind(null,Te,t),[e.memoizedState,t]}function Vo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mx(){return Ot().memoizedState}function gl(t,e,n,r){var i=nn();Te.flags|=t,i.memoizedState=Vo(1|e,n,void 0,r===void 0?null:r)}function Oc(t,e,n,r){var i=Ot();r=r===void 0?null:r;var s=void 0;if(Me!==null){var o=Me.memoizedState;if(s=o.destroy,r!==null&&Nf(r,o.deps)){i.memoizedState=Vo(e,n,s,r);return}}Te.flags|=t,i.memoizedState=Vo(1|e,n,s,r)}function jg(t,e){return gl(8390656,8,t,e)}function kf(t,e){return Oc(2048,8,t,e)}function px(t,e){return Oc(4,2,t,e)}function gx(t,e){return Oc(4,4,t,e)}function yx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vx(t,e,n){return n=n!=null?n.concat([t]):null,Oc(4,4,yx.bind(null,e,t),n)}function jf(){}function xx(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function wx(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _x(t,e,n){return Jr&21?(Yt(n,e)||(n=Nv(),Te.lanes|=n,Zr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vt=!0),t.memoizedState=n)}function LE(t,e){var n=he;he=n!==0&&4>n?n:4,t(!0);var r=td.transition;td.transition={};try{t(!1),e()}finally{he=n,td.transition=r}}function bx(){return Ot().memoizedState}function OE(t,e,n){var r=mr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ex(t))Tx(e,n);else if(n=ix(t,e,n,r),n!==null){var i=ft();Qt(n,t,r,i),Ix(n,e,r)}}function VE(t,e,n){var r=mr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ex(t))Tx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,c=s(o,n);if(i.hasEagerState=!0,i.eagerState=c,Yt(c,o)){var u=e.interleaved;u===null?(i.next=i,_f(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=ix(t,e,i,r),n!==null&&(i=ft(),Qt(n,t,r,i),Ix(n,e,r))}}function Ex(t){var e=t.alternate;return t===Te||e!==null&&e===Te}function Tx(t,e){mo=Jl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ix(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,af(t,n)}}var Zl={readContext:Lt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},FE={readContext:Lt,useCallback:function(t,e){return nn().memoizedState=[t,e===void 0?null:e],t},useContext:Lt,useEffect:jg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gl(4194308,4,yx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gl(4194308,4,t,e)},useInsertionEffect:function(t,e){return gl(4,2,t,e)},useMemo:function(t,e){var n=nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=OE.bind(null,Te,t),[r.memoizedState,t]},useRef:function(t){var e=nn();return t={current:t},e.memoizedState=t},useState:kg,useDebugValue:jf,useDeferredValue:function(t){return nn().memoizedState=t},useTransition:function(){var t=kg(!1),e=t[0];return t=LE.bind(null,t[1]),nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Te,i=nn();if(_e){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),ze===null)throw Error(F(349));Jr&30||cx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,jg(dx.bind(null,r,s,t),[t]),r.flags|=2048,Vo(9,ux.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=nn(),e=ze.identifierPrefix;if(_e){var n=En,r=bn;n=(r&~(1<<32-Kt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Lo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ME++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},UE={readContext:Lt,useCallback:xx,useContext:Lt,useEffect:kf,useImperativeHandle:vx,useInsertionEffect:px,useLayoutEffect:gx,useMemo:wx,useReducer:nd,useRef:mx,useState:function(){return nd(Oo)},useDebugValue:jf,useDeferredValue:function(t){var e=Ot();return _x(e,Me.memoizedState,t)},useTransition:function(){var t=nd(Oo)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:ax,useSyncExternalStore:lx,useId:bx,unstable_isNewReconciler:!1},zE={readContext:Lt,useCallback:xx,useContext:Lt,useEffect:kf,useImperativeHandle:vx,useInsertionEffect:px,useLayoutEffect:gx,useMemo:wx,useReducer:rd,useRef:mx,useState:function(){return rd(Oo)},useDebugValue:jf,useDeferredValue:function(t){var e=Ot();return Me===null?e.memoizedState=t:_x(e,Me.memoizedState,t)},useTransition:function(){var t=rd(Oo)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:ax,useSyncExternalStore:lx,useId:bx,unstable_isNewReconciler:!1};function $t(t,e){if(t&&t.defaultProps){e=Ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function nh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vc={isMounted:function(t){return(t=t._reactInternals)?ai(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ft(),i=mr(t),s=Sn(r,i);s.payload=e,n!=null&&(s.callback=n),e=hr(t,s,i),e!==null&&(Qt(e,t,i,r),ml(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ft(),i=mr(t),s=Sn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=hr(t,s,i),e!==null&&(Qt(e,t,i,r),ml(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ft(),r=mr(t),i=Sn(n,r);i.tag=2,e!=null&&(i.callback=e),e=hr(t,i,r),e!==null&&(Qt(e,t,r,n),ml(e,t,r))}};function Ag(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!jo(n,r)||!jo(i,s):!0}function Nx(t,e,n){var r=!1,i=Er,s=e.contextType;return typeof s=="object"&&s!==null?s=Lt(s):(i=wt(e)?Yr:at.current,r=e.contextTypes,s=(r=r!=null)?Xi(t,i):Er),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Rg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vc.enqueueReplaceState(e,e.state,null)}function rh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},bf(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Lt(s):(s=wt(e)?Yr:at.current,i.context=Xi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(nh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vc.enqueueReplaceState(i,i.state,null),Yl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ts(t,e){try{var n="",r=e;do n+=pb(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function id(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ih(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BE=typeof WeakMap=="function"?WeakMap:Map;function Sx(t,e,n){n=Sn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){tc||(tc=!0,mh=r),ih(t,e)},n}function Cx(t,e,n){n=Sn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ih(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ih(t,e),typeof r!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Pg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new BE;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=nT.bind(null,t,e,n),e.then(t,t))}function Dg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Mg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sn(-1,1),e.tag=2,hr(n,e,1))),n.lanes|=1),t)}var $E=Un.ReactCurrentOwner,vt=!1;function ht(t,e,n,r){e.child=t===null?rx(e,null,n,r):Zi(e,t.child,n,r)}function Lg(t,e,n,r,i){n=n.render;var s=e.ref;return Bi(e,i),r=Sf(t,e,n,r,s,i),n=Cf(),t!==null&&!vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pn(t,e,i)):(_e&&n&&pf(e),e.flags|=1,ht(t,e,r,i),e.child)}function Og(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Vf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,kx(t,e,s,r,i)):(t=wl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:jo,n(o,r)&&t.ref===e.ref)return Pn(t,e,i)}return e.flags|=1,t=pr(s,r),t.ref=e.ref,t.return=e,e.child=t}function kx(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(jo(s,r)&&t.ref===e.ref)if(vt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(vt=!0);else return e.lanes=t.lanes,Pn(t,e,i)}return sh(t,e,n,r,i)}function jx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(Li,Et),Et|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,me(Li,Et),Et|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,me(Li,Et),Et|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,me(Li,Et),Et|=r;return ht(t,e,i,n),e.child}function Ax(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sh(t,e,n,r,i){var s=wt(n)?Yr:at.current;return s=Xi(e,s),Bi(e,i),n=Sf(t,e,n,r,s,i),r=Cf(),t!==null&&!vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pn(t,e,i)):(_e&&r&&pf(e),e.flags|=1,ht(t,e,n,i),e.child)}function Vg(t,e,n,r,i){if(wt(n)){var s=!0;Hl(e)}else s=!1;if(Bi(e,i),e.stateNode===null)yl(t,e),Nx(e,n,r),rh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,c=e.memoizedProps;o.props=c;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Lt(d):(d=wt(n)?Yr:at.current,d=Xi(e,d));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||u!==d)&&Rg(e,o,r,d),Xn=!1;var g=e.memoizedState;o.state=g,Yl(e,r,o,i),u=e.memoizedState,c!==r||g!==u||xt.current||Xn?(typeof f=="function"&&(nh(e,n,f,r),u=e.memoizedState),(c=Xn||Ag(e,n,c,r,g,u,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=d,r=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,sx(t,e),c=e.memoizedProps,d=e.type===e.elementType?c:$t(e.type,c),o.props=d,p=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Lt(u):(u=wt(n)?Yr:at.current,u=Xi(e,u));var T=n.getDerivedStateFromProps;(f=typeof T=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==p||g!==u)&&Rg(e,o,r,u),Xn=!1,g=e.memoizedState,o.state=g,Yl(e,r,o,i);var C=e.memoizedState;c!==p||g!==C||xt.current||Xn?(typeof T=="function"&&(nh(e,n,T,r),C=e.memoizedState),(d=Xn||Ag(e,n,d,r,g,C,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return oh(t,e,n,r,s,i)}function oh(t,e,n,r,i,s){Ax(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Eg(e,n,!1),Pn(t,e,s);r=e.stateNode,$E.current=e;var c=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zi(e,t.child,null,s),e.child=Zi(e,null,c,s)):ht(t,e,c,s),e.memoizedState=r.state,i&&Eg(e,n,!0),e.child}function Rx(t){var e=t.stateNode;e.pendingContext?bg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bg(t,e.context,!1),Ef(t,e.containerInfo)}function Fg(t,e,n,r,i){return Ji(),yf(i),e.flags|=256,ht(t,e,n,r),e.child}var ah={dehydrated:null,treeContext:null,retryLane:0};function lh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Px(t,e,n){var r=e.pendingProps,i=Ee.current,s=!1,o=(e.flags&128)!==0,c;if((c=o)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),me(Ee,i&1),t===null)return eh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=zc(o,r,0,null),t=Kr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=lh(n),e.memoizedState=ah,t):Af(e,o));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return WE(t,e,o,r,c,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,c=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=pr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=pr(c,s):(s=Kr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?lh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ah,r}return s=t.child,t=s.sibling,r=pr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Af(t,e){return e=zc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ga(t,e,n,r){return r!==null&&yf(r),Zi(e,t.child,null,n),t=Af(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WE(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=id(Error(F(422))),Ga(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=zc({mode:"visible",children:r.children},i,0,null),s=Kr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Zi(e,t.child,null,o),e.child.memoizedState=lh(o),e.memoizedState=ah,s);if(!(e.mode&1))return Ga(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error(F(419)),r=id(s,r,void 0),Ga(t,e,o,r)}if(c=(o&t.childLanes)!==0,vt||c){if(r=ze,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Rn(t,i),Qt(r,t,i,-1))}return Of(),r=id(Error(F(421))),Ga(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=rT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Tt=dr(i.nextSibling),It=e,_e=!0,Ht=null,t!==null&&(jt[At++]=bn,jt[At++]=En,jt[At++]=Xr,bn=t.id,En=t.overflow,Xr=e),e=Af(e,r.children),e.flags|=4096,e)}function Ug(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),th(t.return,e,n)}function sd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Dx(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ht(t,e,r.children,n),r=Ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ug(t,n,e);else if(t.tag===19)Ug(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(me(Ee,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),sd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}sd(e,!0,n,null,s);break;case"together":sd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=pr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=pr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function HE(t,e,n){switch(e.tag){case 3:Rx(e),Ji();break;case 5:ox(e);break;case 1:wt(e.type)&&Hl(e);break;case 4:Ef(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;me(Kl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(me(Ee,Ee.current&1),e.flags|=128,null):n&e.child.childLanes?Px(t,e,n):(me(Ee,Ee.current&1),t=Pn(t,e,n),t!==null?t.sibling:null);me(Ee,Ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Dx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),me(Ee,Ee.current),r)break;return null;case 22:case 23:return e.lanes=0,jx(t,e,n)}return Pn(t,e,n)}var Mx,ch,Lx,Ox;Mx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ch=function(){};Lx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Wr(ln.current);var s=null;switch(n){case"input":i=Ad(t,i),r=Ad(t,r),s=[];break;case"select":i=Ie({},i,{value:void 0}),r=Ie({},r,{value:void 0}),s=[];break;case"textarea":i=Dd(t,i),r=Dd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$l)}Ld(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var c=i[d];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Eo.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(c=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(s=s||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Eo.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&ve("scroll",t),s||c===u||(s=[])):(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};Ox=function(t,e,n,r){n!==r&&(e.flags|=4)};function qs(t,e){if(!_e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qE(t,e,n){var r=e.pendingProps;switch(gf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(e),null;case 1:return wt(e.type)&&Wl(),nt(e),null;case 3:return r=e.stateNode,es(),we(xt),we(at),If(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ha(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ht!==null&&(yh(Ht),Ht=null))),ch(t,e),nt(e),null;case 5:Tf(e);var i=Wr(Mo.current);if(n=e.type,t!==null&&e.stateNode!=null)Lx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return nt(e),null}if(t=Wr(ln.current),Ha(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[sn]=e,r[Po]=s,t=(e.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(i=0;i<io.length;i++)ve(io[i],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":Qp(r,s),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ve("invalid",r);break;case"textarea":Xp(r,s),ve("invalid",r)}Ld(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var c=s[o];o==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&Wa(r.textContent,c,t),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&Wa(r.textContent,c,t),i=["children",""+c]):Eo.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":La(r),Yp(r,s,!0);break;case"textarea":La(r),Jp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=$l)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[sn]=e,t[Po]=r,Mx(t,e,!1,!1),e.stateNode=t;e:{switch(o=Od(n,r),n){case"dialog":ve("cancel",t),ve("close",t),i=r;break;case"iframe":case"object":case"embed":ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<io.length;i++)ve(io[i],t);i=r;break;case"source":ve("error",t),i=r;break;case"img":case"image":case"link":ve("error",t),ve("load",t),i=r;break;case"details":ve("toggle",t),i=r;break;case"input":Qp(t,r),i=Ad(t,r),ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ie({},r,{value:void 0}),ve("invalid",t);break;case"textarea":Xp(t,r),i=Dd(t,r),ve("invalid",t);break;default:i=r}Ld(n,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var u=c[s];s==="style"?mv(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&hv(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&To(t,u):typeof u=="number"&&To(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Eo.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ve("scroll",t):u!=null&&ef(t,s,u,o))}switch(n){case"input":La(t),Yp(t,r,!1);break;case"textarea":La(t),Jp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+br(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Vi(t,!!r.multiple,s,!1):r.defaultValue!=null&&Vi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=$l)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nt(e),null;case 6:if(t&&e.stateNode!=null)Ox(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=Wr(Mo.current),Wr(ln.current),Ha(e)){if(r=e.stateNode,n=e.memoizedProps,r[sn]=e,(s=r.nodeValue!==n)&&(t=It,t!==null))switch(t.tag){case 3:Wa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wa(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sn]=e,e.stateNode=r}return nt(e),null;case 13:if(we(Ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_e&&Tt!==null&&e.mode&1&&!(e.flags&128))tx(),Ji(),e.flags|=98560,s=!1;else if(s=Ha(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[sn]=e}else Ji(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nt(e),s=!1}else Ht!==null&&(yh(Ht),Ht=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ee.current&1?Le===0&&(Le=3):Of())),e.updateQueue!==null&&(e.flags|=4),nt(e),null);case 4:return es(),ch(t,e),t===null&&Ao(e.stateNode.containerInfo),nt(e),null;case 10:return wf(e.type._context),nt(e),null;case 17:return wt(e.type)&&Wl(),nt(e),null;case 19:if(we(Ee),s=e.memoizedState,s===null)return nt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)qs(s,!1);else{if(Le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xl(t),o!==null){for(e.flags|=128,qs(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return me(Ee,Ee.current&1|2),e.child}t=t.sibling}s.tail!==null&&je()>ns&&(e.flags|=128,r=!0,qs(s,!1),e.lanes=4194304)}else{if(!r)if(t=Xl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!_e)return nt(e),null}else 2*je()-s.renderingStartTime>ns&&n!==1073741824&&(e.flags|=128,r=!0,qs(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=je(),e.sibling=null,n=Ee.current,me(Ee,r?n&1|2:n&1),e):(nt(e),null);case 22:case 23:return Lf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Et&1073741824&&(nt(e),e.subtreeFlags&6&&(e.flags|=8192)):nt(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function GE(t,e){switch(gf(e),e.tag){case 1:return wt(e.type)&&Wl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return es(),we(xt),we(at),If(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tf(e),null;case 13:if(we(Ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));Ji()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return we(Ee),null;case 4:return es(),null;case 10:return wf(e.type._context),null;case 22:case 23:return Lf(),null;case 24:return null;default:return null}}var Ka=!1,st=!1,KE=typeof WeakSet=="function"?WeakSet:Set,W=null;function Mi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(t,e,r)}else n.current=null}function uh(t,e,n){try{n()}catch(r){Ce(t,e,r)}}var zg=!1;function QE(t,e){if(Gd=Ul,t=Bv(),mf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,c=-1,u=-1,d=0,f=0,p=t,g=null;t:for(;;){for(var T;p!==n||i!==0&&p.nodeType!==3||(c=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(T=p.firstChild)!==null;)g=p,p=T;for(;;){if(p===t)break t;if(g===n&&++d===i&&(c=o),g===s&&++f===r&&(u=o),(T=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=T}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kd={focusedElem:t,selectionRange:n},Ul=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var j=C.memoizedProps,A=C.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?j:$t(e.type,j),A);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(D){Ce(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return C=zg,zg=!1,C}function po(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&uh(e,n,s)}i=i.next}while(i!==r)}}function Fc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function dh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Vx(t){var e=t.alternate;e!==null&&(t.alternate=null,Vx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sn],delete e[Po],delete e[Xd],delete e[AE],delete e[RE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Fx(t){return t.tag===5||t.tag===3||t.tag===4}function Bg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$l));else if(r!==4&&(t=t.child,t!==null))for(hh(t,e,n),t=t.sibling;t!==null;)hh(t,e,n),t=t.sibling}function fh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fh(t,e,n),t=t.sibling;t!==null;)fh(t,e,n),t=t.sibling}var We=null,Wt=!1;function qn(t,e,n){for(n=n.child;n!==null;)Ux(t,e,n),n=n.sibling}function Ux(t,e,n){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Ac,n)}catch{}switch(n.tag){case 5:st||Mi(n,e);case 6:var r=We,i=Wt;We=null,qn(t,e,n),We=r,Wt=i,We!==null&&(Wt?(t=We,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):We.removeChild(n.stateNode));break;case 18:We!==null&&(Wt?(t=We,n=n.stateNode,t.nodeType===8?Ju(t.parentNode,n):t.nodeType===1&&Ju(t,n),Co(t)):Ju(We,n.stateNode));break;case 4:r=We,i=Wt,We=n.stateNode.containerInfo,Wt=!0,qn(t,e,n),We=r,Wt=i;break;case 0:case 11:case 14:case 15:if(!st&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&uh(n,e,o),i=i.next}while(i!==r)}qn(t,e,n);break;case 1:if(!st&&(Mi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Ce(n,e,c)}qn(t,e,n);break;case 21:qn(t,e,n);break;case 22:n.mode&1?(st=(r=st)||n.memoizedState!==null,qn(t,e,n),st=r):qn(t,e,n);break;default:qn(t,e,n)}}function $g(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KE),e.forEach(function(r){var i=iT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Bt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 5:We=c.stateNode,Wt=!1;break e;case 3:We=c.stateNode.containerInfo,Wt=!0;break e;case 4:We=c.stateNode.containerInfo,Wt=!0;break e}c=c.return}if(We===null)throw Error(F(160));Ux(s,o,i),We=null,Wt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(d){Ce(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zx(e,t),e=e.sibling}function zx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bt(e,t),tn(t),r&4){try{po(3,t,t.return),Fc(3,t)}catch(j){Ce(t,t.return,j)}try{po(5,t,t.return)}catch(j){Ce(t,t.return,j)}}break;case 1:Bt(e,t),tn(t),r&512&&n!==null&&Mi(n,n.return);break;case 5:if(Bt(e,t),tn(t),r&512&&n!==null&&Mi(n,n.return),t.flags&32){var i=t.stateNode;try{To(i,"")}catch(j){Ce(t,t.return,j)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&cv(i,s),Od(c,o);var d=Od(c,s);for(o=0;o<u.length;o+=2){var f=u[o],p=u[o+1];f==="style"?mv(i,p):f==="dangerouslySetInnerHTML"?hv(i,p):f==="children"?To(i,p):ef(i,f,p,d)}switch(c){case"input":Rd(i,s);break;case"textarea":uv(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var T=s.value;T!=null?Vi(i,!!s.multiple,T,!1):g!==!!s.multiple&&(s.defaultValue!=null?Vi(i,!!s.multiple,s.defaultValue,!0):Vi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Po]=s}catch(j){Ce(t,t.return,j)}}break;case 6:if(Bt(e,t),tn(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(j){Ce(t,t.return,j)}}break;case 3:if(Bt(e,t),tn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Co(e.containerInfo)}catch(j){Ce(t,t.return,j)}break;case 4:Bt(e,t),tn(t);break;case 13:Bt(e,t),tn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Df=je())),r&4&&$g(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(st=(d=st)||f,Bt(e,t),st=d):Bt(e,t),tn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(W=t,f=t.child;f!==null;){for(p=W=f;W!==null;){switch(g=W,T=g.child,g.tag){case 0:case 11:case 14:case 15:po(4,g,g.return);break;case 1:Mi(g,g.return);var C=g.stateNode;if(typeof C.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(j){Ce(r,n,j)}}break;case 5:Mi(g,g.return);break;case 22:if(g.memoizedState!==null){Hg(p);continue}}T!==null?(T.return=g,W=T):Hg(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=fv("display",o))}catch(j){Ce(t,t.return,j)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(j){Ce(t,t.return,j)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Bt(e,t),tn(t),r&4&&$g(t);break;case 21:break;default:Bt(e,t),tn(t)}}function tn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Fx(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(To(i,""),r.flags&=-33);var s=Bg(t);fh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,c=Bg(t);hh(t,c,o);break;default:throw Error(F(161))}}catch(u){Ce(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YE(t,e,n){W=t,Bx(t)}function Bx(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ka;if(!o){var c=i.alternate,u=c!==null&&c.memoizedState!==null||st;c=Ka;var d=st;if(Ka=o,(st=u)&&!d)for(W=i;W!==null;)o=W,u=o.child,o.tag===22&&o.memoizedState!==null?qg(i):u!==null?(u.return=o,W=u):qg(i);for(;s!==null;)W=s,Bx(s),s=s.sibling;W=i,Ka=c,st=d}Wg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):Wg(t)}}function Wg(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:st||Fc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!st)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$t(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Cg(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cg(e,o,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Co(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}st||e.flags&512&&dh(e)}catch(g){Ce(e,e.return,g)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Hg(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function qg(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fc(4,e)}catch(u){Ce(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Ce(e,i,u)}}var s=e.return;try{dh(e)}catch(u){Ce(e,s,u)}break;case 5:var o=e.return;try{dh(e)}catch(u){Ce(e,o,u)}}}catch(u){Ce(e,e.return,u)}if(e===t){W=null;break}var c=e.sibling;if(c!==null){c.return=e.return,W=c;break}W=e.return}}var XE=Math.ceil,ec=Un.ReactCurrentDispatcher,Rf=Un.ReactCurrentOwner,Dt=Un.ReactCurrentBatchConfig,ae=0,ze=null,Pe=null,Ke=0,Et=0,Li=Rr(0),Le=0,Fo=null,Zr=0,Uc=0,Pf=0,go=null,yt=null,Df=0,ns=1/0,wn=null,tc=!1,mh=null,fr=null,Qa=!1,or=null,nc=0,yo=0,ph=null,vl=-1,xl=0;function ft(){return ae&6?je():vl!==-1?vl:vl=je()}function mr(t){return t.mode&1?ae&2&&Ke!==0?Ke&-Ke:DE.transition!==null?(xl===0&&(xl=Nv()),xl):(t=he,t!==0||(t=window.event,t=t===void 0?16:Pv(t.type)),t):1}function Qt(t,e,n,r){if(50<yo)throw yo=0,ph=null,Error(F(185));Jo(t,n,r),(!(ae&2)||t!==ze)&&(t===ze&&(!(ae&2)&&(Uc|=n),Le===4&&Zn(t,Ke)),_t(t,r),n===1&&ae===0&&!(e.mode&1)&&(ns=je()+500,Lc&&Pr()))}function _t(t,e){var n=t.callbackNode;Db(t,e);var r=Fl(t,t===ze?Ke:0);if(r===0)n!==null&&tg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&tg(n),e===1)t.tag===0?PE(Gg.bind(null,t)):Jv(Gg.bind(null,t)),kE(function(){!(ae&6)&&Pr()}),n=null;else{switch(Sv(r)){case 1:n=of;break;case 4:n=Tv;break;case 16:n=Vl;break;case 536870912:n=Iv;break;default:n=Vl}n=Yx(n,$x.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $x(t,e){if(vl=-1,xl=0,ae&6)throw Error(F(327));var n=t.callbackNode;if($i()&&t.callbackNode!==n)return null;var r=Fl(t,t===ze?Ke:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rc(t,r);else{e=r;var i=ae;ae|=2;var s=Hx();(ze!==t||Ke!==e)&&(wn=null,ns=je()+500,Gr(t,e));do try{eT();break}catch(c){Wx(t,c)}while(!0);xf(),ec.current=s,ae=i,Pe!==null?e=0:(ze=null,Ke=0,e=Le)}if(e!==0){if(e===2&&(i=Bd(t),i!==0&&(r=i,e=gh(t,i))),e===1)throw n=Fo,Gr(t,0),Zn(t,r),_t(t,je()),n;if(e===6)Zn(t,r);else{if(i=t.current.alternate,!(r&30)&&!JE(i)&&(e=rc(t,r),e===2&&(s=Bd(t),s!==0&&(r=s,e=gh(t,s))),e===1))throw n=Fo,Gr(t,0),Zn(t,r),_t(t,je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:Fr(t,yt,wn);break;case 3:if(Zn(t,r),(r&130023424)===r&&(e=Df+500-je(),10<e)){if(Fl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ft(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Yd(Fr.bind(null,t,yt,wn),e);break}Fr(t,yt,wn);break;case 4:if(Zn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Kt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XE(r/1960))-r,10<r){t.timeoutHandle=Yd(Fr.bind(null,t,yt,wn),r);break}Fr(t,yt,wn);break;case 5:Fr(t,yt,wn);break;default:throw Error(F(329))}}}return _t(t,je()),t.callbackNode===n?$x.bind(null,t):null}function gh(t,e){var n=go;return t.current.memoizedState.isDehydrated&&(Gr(t,e).flags|=256),t=rc(t,e),t!==2&&(e=yt,yt=n,e!==null&&yh(e)),t}function yh(t){yt===null?yt=t:yt.push.apply(yt,t)}function JE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Yt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zn(t,e){for(e&=~Pf,e&=~Uc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Kt(e),r=1<<n;t[n]=-1,e&=~r}}function Gg(t){if(ae&6)throw Error(F(327));$i();var e=Fl(t,0);if(!(e&1))return _t(t,je()),null;var n=rc(t,e);if(t.tag!==0&&n===2){var r=Bd(t);r!==0&&(e=r,n=gh(t,r))}if(n===1)throw n=Fo,Gr(t,0),Zn(t,e),_t(t,je()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fr(t,yt,wn),_t(t,je()),null}function Mf(t,e){var n=ae;ae|=1;try{return t(e)}finally{ae=n,ae===0&&(ns=je()+500,Lc&&Pr())}}function ei(t){or!==null&&or.tag===0&&!(ae&6)&&$i();var e=ae;ae|=1;var n=Dt.transition,r=he;try{if(Dt.transition=null,he=1,t)return t()}finally{he=r,Dt.transition=n,ae=e,!(ae&6)&&Pr()}}function Lf(){Et=Li.current,we(Li)}function Gr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CE(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(gf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wl();break;case 3:es(),we(xt),we(at),If();break;case 5:Tf(r);break;case 4:es();break;case 13:we(Ee);break;case 19:we(Ee);break;case 10:wf(r.type._context);break;case 22:case 23:Lf()}n=n.return}if(ze=t,Pe=t=pr(t.current,null),Ke=Et=e,Le=0,Fo=null,Pf=Uc=Zr=0,yt=go=null,$r!==null){for(e=0;e<$r.length;e++)if(n=$r[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}$r=null}return t}function Wx(t,e){do{var n=Pe;try{if(xf(),pl.current=Zl,Jl){for(var r=Te.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jl=!1}if(Jr=0,Ue=Me=Te=null,mo=!1,Lo=0,Rf.current=null,n===null||n.return===null){Le=1,Fo=e,Pe=null;break}e:{var s=t,o=n.return,c=n,u=e;if(e=Ke,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=c,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var T=Dg(o);if(T!==null){T.flags&=-257,Mg(T,o,c,s,e),T.mode&1&&Pg(s,d,e),e=T,u=d;var C=e.updateQueue;if(C===null){var j=new Set;j.add(u),e.updateQueue=j}else C.add(u);break e}else{if(!(e&1)){Pg(s,d,e),Of();break e}u=Error(F(426))}}else if(_e&&c.mode&1){var A=Dg(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Mg(A,o,c,s,e),yf(ts(u,c));break e}}s=u=ts(u,c),Le!==4&&(Le=2),go===null?go=[s]:go.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=Sx(s,u,e);Sg(s,w);break e;case 1:c=u;var x=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(fr===null||!fr.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=Cx(s,c,e);Sg(s,D);break e}}s=s.return}while(s!==null)}Gx(n)}catch(V){e=V,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function Hx(){var t=ec.current;return ec.current=Zl,t===null?Zl:t}function Of(){(Le===0||Le===3||Le===2)&&(Le=4),ze===null||!(Zr&268435455)&&!(Uc&268435455)||Zn(ze,Ke)}function rc(t,e){var n=ae;ae|=2;var r=Hx();(ze!==t||Ke!==e)&&(wn=null,Gr(t,e));do try{ZE();break}catch(i){Wx(t,i)}while(!0);if(xf(),ae=n,ec.current=r,Pe!==null)throw Error(F(261));return ze=null,Ke=0,Le}function ZE(){for(;Pe!==null;)qx(Pe)}function eT(){for(;Pe!==null&&!Ib();)qx(Pe)}function qx(t){var e=Qx(t.alternate,t,Et);t.memoizedProps=t.pendingProps,e===null?Gx(t):Pe=e,Rf.current=null}function Gx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=GE(n,e),n!==null){n.flags&=32767,Pe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Le=6,Pe=null;return}}else if(n=qE(n,e,Et),n!==null){Pe=n;return}if(e=e.sibling,e!==null){Pe=e;return}Pe=e=t}while(e!==null);Le===0&&(Le=5)}function Fr(t,e,n){var r=he,i=Dt.transition;try{Dt.transition=null,he=1,tT(t,e,n,r)}finally{Dt.transition=i,he=r}return null}function tT(t,e,n,r){do $i();while(or!==null);if(ae&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Mb(t,s),t===ze&&(Pe=ze=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qa||(Qa=!0,Yx(Vl,function(){return $i(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Dt.transition,Dt.transition=null;var o=he;he=1;var c=ae;ae|=4,Rf.current=null,QE(t,n),zx(n,t),_E(Kd),Ul=!!Gd,Kd=Gd=null,t.current=n,YE(n),Nb(),ae=c,he=o,Dt.transition=s}else t.current=n;if(Qa&&(Qa=!1,or=t,nc=i),s=t.pendingLanes,s===0&&(fr=null),kb(n.stateNode),_t(t,je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(tc)throw tc=!1,t=mh,mh=null,t;return nc&1&&t.tag!==0&&$i(),s=t.pendingLanes,s&1?t===ph?yo++:(yo=0,ph=t):yo=0,Pr(),null}function $i(){if(or!==null){var t=Sv(nc),e=Dt.transition,n=he;try{if(Dt.transition=null,he=16>t?16:t,or===null)var r=!1;else{if(t=or,or=null,nc=0,ae&6)throw Error(F(331));var i=ae;for(ae|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var c=s.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(W=d;W!==null;){var f=W;switch(f.tag){case 0:case 11:case 15:po(8,f,s)}var p=f.child;if(p!==null)p.return=f,W=p;else for(;W!==null;){f=W;var g=f.sibling,T=f.return;if(Vx(f),f===d){W=null;break}if(g!==null){g.return=T,W=g;break}W=T}}}var C=s.alternate;if(C!==null){var j=C.child;if(j!==null){C.child=null;do{var A=j.sibling;j.sibling=null,j=A}while(j!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:po(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,W=w;break e}W=s.return}}var x=t.current;for(W=x;W!==null;){o=W;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,W=E;else e:for(o=x;W!==null;){if(c=W,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Fc(9,c)}}catch(V){Ce(c,c.return,V)}if(c===o){W=null;break e}var D=c.sibling;if(D!==null){D.return=c.return,W=D;break e}W=c.return}}if(ae=i,Pr(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Ac,t)}catch{}r=!0}return r}finally{he=n,Dt.transition=e}}return!1}function Kg(t,e,n){e=ts(n,e),e=Sx(t,e,1),t=hr(t,e,1),e=ft(),t!==null&&(Jo(t,1,e),_t(t,e))}function Ce(t,e,n){if(t.tag===3)Kg(t,t,n);else for(;e!==null;){if(e.tag===3){Kg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fr===null||!fr.has(r))){t=ts(n,t),t=Cx(e,t,1),e=hr(e,t,1),t=ft(),e!==null&&(Jo(e,1,t),_t(e,t));break}}e=e.return}}function nT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ft(),t.pingedLanes|=t.suspendedLanes&n,ze===t&&(Ke&n)===n&&(Le===4||Le===3&&(Ke&130023424)===Ke&&500>je()-Df?Gr(t,0):Pf|=n),_t(t,e)}function Kx(t,e){e===0&&(t.mode&1?(e=Fa,Fa<<=1,!(Fa&130023424)&&(Fa=4194304)):e=1);var n=ft();t=Rn(t,e),t!==null&&(Jo(t,e,n),_t(t,n))}function rT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Kx(t,n)}function iT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),Kx(t,n)}var Qx;Qx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xt.current)vt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vt=!1,HE(t,e,n);vt=!!(t.flags&131072)}else vt=!1,_e&&e.flags&1048576&&Zv(e,Gl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;yl(t,e),t=e.pendingProps;var i=Xi(e,at.current);Bi(e,n),i=Sf(null,e,r,t,i,n);var s=Cf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wt(r)?(s=!0,Hl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bf(e),i.updater=Vc,e.stateNode=i,i._reactInternals=e,rh(e,r,t,n),e=oh(null,e,r,!0,s,n)):(e.tag=0,_e&&s&&pf(e),ht(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(yl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=oT(r),t=$t(r,t),i){case 0:e=sh(null,e,r,t,n);break e;case 1:e=Vg(null,e,r,t,n);break e;case 11:e=Lg(null,e,r,t,n);break e;case 14:e=Og(null,e,r,$t(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$t(r,i),sh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$t(r,i),Vg(t,e,r,i,n);case 3:e:{if(Rx(e),t===null)throw Error(F(387));r=e.pendingProps,s=e.memoizedState,i=s.element,sx(t,e),Yl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ts(Error(F(423)),e),e=Fg(t,e,r,n,i);break e}else if(r!==i){i=ts(Error(F(424)),e),e=Fg(t,e,r,n,i);break e}else for(Tt=dr(e.stateNode.containerInfo.firstChild),It=e,_e=!0,Ht=null,n=rx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ji(),r===i){e=Pn(t,e,n);break e}ht(t,e,r,n)}e=e.child}return e;case 5:return ox(e),t===null&&eh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Qd(r,i)?o=null:s!==null&&Qd(r,s)&&(e.flags|=32),Ax(t,e),ht(t,e,o,n),e.child;case 6:return t===null&&eh(e),null;case 13:return Px(t,e,n);case 4:return Ef(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zi(e,null,r,n):ht(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$t(r,i),Lg(t,e,r,i,n);case 7:return ht(t,e,e.pendingProps,n),e.child;case 8:return ht(t,e,e.pendingProps.children,n),e.child;case 12:return ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,me(Kl,r._currentValue),r._currentValue=o,s!==null)if(Yt(s.value,o)){if(s.children===i.children&&!xt.current){e=Pn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){o=s.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Sn(-1,n&-n),u.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),th(s.return,n,e),c.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),th(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ht(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Bi(e,n),i=Lt(i),r=r(i),e.flags|=1,ht(t,e,r,n),e.child;case 14:return r=e.type,i=$t(r,e.pendingProps),i=$t(r.type,i),Og(t,e,r,i,n);case 15:return kx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$t(r,i),yl(t,e),e.tag=1,wt(r)?(t=!0,Hl(e)):t=!1,Bi(e,n),Nx(e,r,i),rh(e,r,i,n),oh(null,e,r,!0,t,n);case 19:return Dx(t,e,n);case 22:return jx(t,e,n)}throw Error(F(156,e.tag))};function Yx(t,e){return Ev(t,e)}function sT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,e,n,r){return new sT(t,e,n,r)}function Vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oT(t){if(typeof t=="function")return Vf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nf)return 11;if(t===rf)return 14}return 2}function pr(t,e){var n=t.alternate;return n===null?(n=Pt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Vf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ni:return Kr(n.children,i,s,e);case tf:o=8,i|=8;break;case Sd:return t=Pt(12,n,e,i|2),t.elementType=Sd,t.lanes=s,t;case Cd:return t=Pt(13,n,e,i),t.elementType=Cd,t.lanes=s,t;case kd:return t=Pt(19,n,e,i),t.elementType=kd,t.lanes=s,t;case ov:return zc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case iv:o=10;break e;case sv:o=9;break e;case nf:o=11;break e;case rf:o=14;break e;case Yn:o=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=Pt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Kr(t,e,n,r){return t=Pt(7,t,r,e),t.lanes=n,t}function zc(t,e,n,r){return t=Pt(22,t,r,e),t.elementType=ov,t.lanes=n,t.stateNode={isHidden:!1},t}function od(t,e,n){return t=Pt(6,t,null,e),t.lanes=n,t}function ad(t,e,n){return e=Pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aT(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zu(0),this.expirationTimes=zu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ff(t,e,n,r,i,s,o,c,u){return t=new aT(t,e,n,c,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bf(s),t}function lT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ii,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Xx(t){if(!t)return Er;t=t._reactInternals;e:{if(ai(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(wt(n))return Xv(t,n,e)}return e}function Jx(t,e,n,r,i,s,o,c,u){return t=Ff(n,r,!0,t,i,s,o,c,u),t.context=Xx(null),n=t.current,r=ft(),i=mr(n),s=Sn(r,i),s.callback=e??null,hr(n,s,i),t.current.lanes=i,Jo(t,i,r),_t(t,r),t}function Bc(t,e,n,r){var i=e.current,s=ft(),o=mr(i);return n=Xx(n),e.context===null?e.context=n:e.pendingContext=n,e=Sn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=hr(i,e,o),t!==null&&(Qt(t,i,o,s),ml(t,i,o)),o}function ic(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Uf(t,e){Qg(t,e),(t=t.alternate)&&Qg(t,e)}function cT(){return null}var Zx=typeof reportError=="function"?reportError:function(t){console.error(t)};function zf(t){this._internalRoot=t}$c.prototype.render=zf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));Bc(t,e,null,null)};$c.prototype.unmount=zf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ei(function(){Bc(null,t,null,null)}),e[An]=null}};function $c(t){this._internalRoot=t}$c.prototype.unstable_scheduleHydration=function(t){if(t){var e=jv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jn.length&&e!==0&&e<Jn[n].priority;n++);Jn.splice(n,0,t),n===0&&Rv(t)}};function Bf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yg(){}function uT(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=ic(o);s.call(d)}}var o=Jx(e,r,t,0,null,!1,!1,"",Yg);return t._reactRootContainer=o,t[An]=o.current,Ao(t.nodeType===8?t.parentNode:t),ei(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var d=ic(u);c.call(d)}}var u=Ff(t,0,!1,null,null,!1,!1,"",Yg);return t._reactRootContainer=u,t[An]=u.current,Ao(t.nodeType===8?t.parentNode:t),ei(function(){Bc(e,u,n,r)}),u}function Hc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var c=i;i=function(){var u=ic(o);c.call(u)}}Bc(e,o,t,i)}else o=uT(n,e,t,i,r);return ic(o)}Cv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ro(e.pendingLanes);n!==0&&(af(e,n|1),_t(e,je()),!(ae&6)&&(ns=je()+500,Pr()))}break;case 13:ei(function(){var r=Rn(t,1);if(r!==null){var i=ft();Qt(r,t,1,i)}}),Uf(t,1)}};lf=function(t){if(t.tag===13){var e=Rn(t,134217728);if(e!==null){var n=ft();Qt(e,t,134217728,n)}Uf(t,134217728)}};kv=function(t){if(t.tag===13){var e=mr(t),n=Rn(t,e);if(n!==null){var r=ft();Qt(n,t,e,r)}Uf(t,e)}};jv=function(){return he};Av=function(t,e){var n=he;try{return he=t,e()}finally{he=n}};Fd=function(t,e,n){switch(e){case"input":if(Rd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Mc(r);if(!i)throw Error(F(90));lv(r),Rd(r,i)}}}break;case"textarea":uv(t,n);break;case"select":e=n.value,e!=null&&Vi(t,!!n.multiple,e,!1)}};yv=Mf;vv=ei;var dT={usingClientEntryPoint:!1,Events:[ea,ji,Mc,pv,gv,Mf]},Gs={findFiberByHostInstance:Br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hT={bundleType:Gs.bundleType,version:Gs.version,rendererPackageName:Gs.rendererPackageName,rendererConfig:Gs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Un.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_v(t),t===null?null:t.stateNode},findFiberByHostInstance:Gs.findFiberByHostInstance||cT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ya=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ya.isDisabled&&Ya.supportsFiber)try{Ac=Ya.inject(hT),an=Ya}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dT;St.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bf(e))throw Error(F(200));return lT(t,e,null,n)};St.createRoot=function(t,e){if(!Bf(t))throw Error(F(299));var n=!1,r="",i=Zx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ff(t,1,!1,null,null,n,!1,r,i),t[An]=e.current,Ao(t.nodeType===8?t.parentNode:t),new zf(e)};St.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=_v(e),t=t===null?null:t.stateNode,t};St.flushSync=function(t){return ei(t)};St.hydrate=function(t,e,n){if(!Wc(e))throw Error(F(200));return Hc(null,t,e,!0,n)};St.hydrateRoot=function(t,e,n){if(!Bf(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Zx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Jx(e,null,t,1,n??null,i,!1,s,o),t[An]=e.current,Ao(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new $c(e)};St.render=function(t,e,n){if(!Wc(e))throw Error(F(200));return Hc(null,t,e,!1,n)};St.unmountComponentAtNode=function(t){if(!Wc(t))throw Error(F(40));return t._reactRootContainer?(ei(function(){Hc(null,null,t,!1,function(){t._reactRootContainer=null,t[An]=null})}),!0):!1};St.unstable_batchedUpdates=Mf;St.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wc(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return Hc(t,e,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function ew(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ew)}catch(t){console.error(t)}}ew(),ev.exports=St;var fT=ev.exports,tw,Xg=fT;tw=Xg.createRoot,Xg.hydrateRoot;var $f={};Object.defineProperty($f,"__esModule",{value:!0});$f.parse=wT;$f.serialize=_T;const mT=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,pT=/^[\u0021-\u003A\u003C-\u007E]*$/,gT=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,yT=/^[\u0020-\u003A\u003D-\u007E]*$/,vT=Object.prototype.toString,xT=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function wT(t,e){const n=new xT,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||bT;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const c=t.indexOf(";",s),u=c===-1?r:c;if(o>u){s=t.lastIndexOf(";",o-1)+1;continue}const d=Jg(t,s,o),f=Zg(t,o,d),p=t.slice(d,f);if(n[p]===void 0){let g=Jg(t,o+1,u),T=Zg(t,u,g);const C=i(t.slice(g,T));n[p]=C}s=u+1}while(s<r);return n}function Jg(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function Zg(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function _T(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!mT.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!pT.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!gT.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!yT.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!ET(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function bT(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function ET(t){return vT.call(t)==="[object Date]"}/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var e0="popstate";function TT(t={}){function e(r,i){let{pathname:s,search:o,hash:c}=r.location;return vh("",{pathname:s,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Uo(i)}return NT(e,n,null,t)}function be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IT(){return Math.random().toString(36).substring(2,10)}function t0(t,e){return{usr:t.state,key:t.key,idx:e}}function vh(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ps(e):e,state:n,key:e&&e.key||r||IT()}}function Uo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ps(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function NT(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,c="POP",u=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function p(){c="POP";let A=f(),w=A==null?null:A-d;d=A,u&&u({action:c,location:j.location,delta:w})}function g(A,w){c="PUSH";let x=vh(j.location,A,w);d=f()+1;let E=t0(x,d),D=j.createHref(x);try{o.pushState(E,"",D)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(D)}s&&u&&u({action:c,location:j.location,delta:1})}function T(A,w){c="REPLACE";let x=vh(j.location,A,w);d=f();let E=t0(x,d),D=j.createHref(x);o.replaceState(E,"",D),s&&u&&u({action:c,location:j.location,delta:0})}function C(A){let w=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof A=="string"?A:Uo(A);return x=x.replace(/ $/,"%20"),be(w,`No window.location.(origin|href) available to create URL for href: ${x}`),new URL(x,w)}let j={get action(){return c},get location(){return t(i,o)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(e0,p),u=A,()=>{i.removeEventListener(e0,p),u=null}},createHref(A){return e(i,A)},createURL:C,encodeLocation(A){let w=C(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:T,go(A){return o.go(A)}};return j}function nw(t,e,n="/"){return ST(t,e,n,!1)}function ST(t,e,n,r){let i=typeof e=="string"?ps(e):e,s=Dn(i.pathname||"/",n);if(s==null)return null;let o=rw(t);CT(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let d=FT(s);c=OT(o[u],d,r)}return c}function rw(t,e=[],n=[],r=""){let i=(s,o,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(be(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let d=Cn([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(be(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),rw(s.children,e,f,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:MT(d,s.index),routesMeta:f})};return t.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,o);else for(let u of iw(s.path))i(s,o,u)}),e}function iw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=iw(r.join("/")),c=[];return c.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&c.push(...o),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function CT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:LT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var kT=/^:[\w-]+$/,jT=3,AT=2,RT=1,PT=10,DT=-2,n0=t=>t==="*";function MT(t,e){let n=t.split("/"),r=n.length;return n.some(n0)&&(r+=DT),e&&(r+=AT),n.filter(i=>!n0(i)).reduce((i,s)=>i+(kT.test(s)?jT:s===""?RT:PT),r)}function LT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function OT(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],d=c===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=sc({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),g=u.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=sc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Cn([s,p.pathname]),pathnameBase:$T(Cn([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Cn([s,p.pathnameBase]))}return o}function sc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=VT(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:p},g)=>{if(f==="*"){let C=c[g]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const T=c[g];return p&&!T?d[f]=void 0:d[f]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function VT(t,e=!1,n=!0){Xt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function FT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Dn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function UT(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ps(t):t;return{pathname:n?n.startsWith("/")?n:zT(n,e):e,search:WT(r),hash:HT(i)}}function zT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ld(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wf(t){let e=BT(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Hf(t,e,n,r=!1){let i;typeof t=="string"?i=ps(t):(i={...t},be(!i.pathname||!i.pathname.includes("?"),ld("?","pathname","search",i)),be(!i.pathname||!i.pathname.includes("#"),ld("#","pathname","hash",i)),be(!i.search||!i.search.includes("#"),ld("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,c;if(o==null)c=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}c=p>=0?e[p]:"/"}let u=UT(i,c),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var Cn=t=>t.join("/").replace(/\/\/+/g,"/"),$T=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var sw=["POST","PUT","PATCH","DELETE"];new Set(sw);var GT=["GET",...sw];new Set(GT);var gs=P.createContext(null);gs.displayName="DataRouter";var qc=P.createContext(null);qc.displayName="DataRouterState";var ow=P.createContext({isTransitioning:!1});ow.displayName="ViewTransition";var KT=P.createContext(new Map);KT.displayName="Fetchers";var QT=P.createContext(null);QT.displayName="Await";var Zt=P.createContext(null);Zt.displayName="Navigation";var na=P.createContext(null);na.displayName="Location";var mn=P.createContext({outlet:null,matches:[],isDataRoute:!1});mn.displayName="Route";var qf=P.createContext(null);qf.displayName="RouteError";function YT(t,{relative:e}={}){be(ys(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(Zt),{hash:i,pathname:s,search:o}=ia(t,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:Cn([n,s])),r.createHref({pathname:c,search:o,hash:i})}function ys(){return P.useContext(na)!=null}function zn(){return be(ys(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(na).location}var aw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lw(t){P.useContext(Zt).static||P.useLayoutEffect(t)}function ra(){let{isDataRoute:t}=P.useContext(mn);return t?cI():XT()}function XT(){be(ys(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(gs),{basename:e,navigator:n}=P.useContext(Zt),{matches:r}=P.useContext(mn),{pathname:i}=zn(),s=JSON.stringify(Wf(r)),o=P.useRef(!1);return lw(()=>{o.current=!0}),P.useCallback((u,d={})=>{if(Xt(o.current,aw),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=Hf(u,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Cn([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,s,i,t])}P.createContext(null);function ia(t,{relative:e}={}){let{matches:n}=P.useContext(mn),{pathname:r}=zn(),i=JSON.stringify(Wf(n));return P.useMemo(()=>Hf(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function JT(t,e){return cw(t,e)}function cw(t,e,n,r){var x;be(ys(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=P.useContext(Zt),{matches:o}=P.useContext(mn),c=o[o.length-1],u=c?c.params:{},d=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let E=p&&p.path||"";uw(d,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let g=zn(),T;if(e){let E=typeof e=="string"?ps(e):e;be(f==="/"||((x=E.pathname)==null?void 0:x.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),T=E}else T=g;let C=T.pathname||"/",j=C;if(f!=="/"){let E=f.replace(/^\//,"").split("/");j="/"+C.replace(/^\//,"").split("/").slice(E.length).join("/")}let A=!s&&n&&n.matches&&n.matches.length>0?n.matches:nw(t,{pathname:j});Xt(p||A!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Xt(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=rI(A&&A.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Cn([f,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:Cn([f,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&w?P.createElement(na.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},w):w}function ZT(){let t=lI(),e=qT(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:s},"ErrorBoundary")," or"," ",P.createElement("code",{style:s},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,o)}var eI=P.createElement(ZT,null),tI=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?P.createElement(mn.Provider,{value:this.props.routeContext},P.createElement(qf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nI({routeContext:t,match:e,children:n}){let r=P.useContext(gs);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(mn.Provider,{value:t},n)}function rI(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let u=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);be(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,c=-1;if(n)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,g=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,d,f)=>{let p,g=!1,T=null,C=null;n&&(p=s&&d.route.id?s[d.route.id]:void 0,T=d.route.errorElement||eI,o&&(c<0&&f===0?(uw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,C=null):c===f&&(g=!0,C=d.route.hydrateFallbackElement||null)));let j=e.concat(i.slice(0,f+1)),A=()=>{let w;return p?w=T:g?w=C:d.route.Component?w=P.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,P.createElement(nI,{match:d,routeContext:{outlet:u,matches:j,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?P.createElement(tI,{location:n.location,revalidation:n.revalidation,component:T,error:p,children:A(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):A()},null)}function Gf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iI(t){let e=P.useContext(gs);return be(e,Gf(t)),e}function sI(t){let e=P.useContext(qc);return be(e,Gf(t)),e}function oI(t){let e=P.useContext(mn);return be(e,Gf(t)),e}function Kf(t){let e=oI(t),n=e.matches[e.matches.length-1];return be(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function aI(){return Kf("useRouteId")}function lI(){var r;let t=P.useContext(qf),e=sI("useRouteError"),n=Kf("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function cI(){let{router:t}=iI("useNavigate"),e=Kf("useNavigate"),n=P.useRef(!1);return lw(()=>{n.current=!0}),P.useCallback(async(i,s={})=>{Xt(n.current,aw),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var r0={};function uw(t,e,n){!e&&!r0[t]&&(r0[t]=!0,Xt(!1,n))}P.memo(uI);function uI({routes:t,future:e,state:n}){return cw(t,void 0,n,e)}function dI({to:t,replace:e,state:n,relative:r}){be(ys(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=P.useContext(Zt);Xt(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=P.useContext(mn),{pathname:o}=zn(),c=ra(),u=Hf(t,Wf(s),o,r==="path"),d=JSON.stringify(u);return P.useEffect(()=>{c(JSON.parse(d),{replace:e,state:n,relative:r})},[c,d,r,e,n]),null}function xn(t){be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hI({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){be(!ys(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=P.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=ps(n));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:g="default"}=n,T=P.useMemo(()=>{let C=Dn(u,o);return C==null?null:{location:{pathname:C,search:d,hash:f,state:p,key:g},navigationType:r}},[o,u,d,f,p,g,r]);return Xt(T!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:P.createElement(Zt.Provider,{value:c},P.createElement(na.Provider,{children:e,value:T}))}function fI({children:t,location:e}){return JT(xh(t),e)}function xh(t,e=[]){let n=[];return P.Children.forEach(t,(r,i)=>{if(!P.isValidElement(r))return;let s=[...e,i];if(r.type===P.Fragment){n.push.apply(n,xh(r.props.children,s));return}be(r.type===xn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),be(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=xh(r.props.children,s)),n.push(o)}),n}var _l="get",bl="application/x-www-form-urlencoded";function Gc(t){return t!=null&&typeof t.tagName=="string"}function mI(t){return Gc(t)&&t.tagName.toLowerCase()==="button"}function pI(t){return Gc(t)&&t.tagName.toLowerCase()==="form"}function gI(t){return Gc(t)&&t.tagName.toLowerCase()==="input"}function yI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vI(t,e){return t.button===0&&(!e||e==="_self")&&!yI(t)}var Xa=null;function xI(){if(Xa===null)try{new FormData(document.createElement("form"),0),Xa=!1}catch{Xa=!0}return Xa}var wI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cd(t){return t!=null&&!wI.has(t)?(Xt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bl}"`),null):t}function _I(t,e){let n,r,i,s,o;if(pI(t)){let c=t.getAttribute("action");r=c?Dn(c,e):null,n=t.getAttribute("method")||_l,i=cd(t.getAttribute("enctype"))||bl,s=new FormData(t)}else if(mI(t)||gI(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(r=u?Dn(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||_l,i=cd(t.getAttribute("formenctype"))||cd(c.getAttribute("enctype"))||bl,s=new FormData(c,t),!xI()){let{name:d,type:f,value:p}=t;if(f==="image"){let g=d?`${d}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else d&&s.append(d,p)}}else{if(Gc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_l,r=null,i=bl,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function Qf(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function bI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function TI(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await bI(s,n);return o.links?o.links():[]}return[]}));return CI(r.flat(1).filter(EI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function i0(t,e,n,r,i,s){let o=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,c=(u,d)=>{var f;return n[d].pathname!==u.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,d)=>o(u,d)||c(u,d)):s==="data"?e.filter((u,d)=>{var p;let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,d)||c(u,d))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function II(t,e,{includeHydrateFallback:n}={}){return NI(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function NI(t){return[...new Set(t)]}function SI(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function CI(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(SI(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function kI(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Dn(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function dw(){let t=P.useContext(gs);return Qf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function jI(){let t=P.useContext(qc);return Qf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Yf=P.createContext(void 0);Yf.displayName="FrameworkContext";function hw(){let t=P.useContext(Yf);return Qf(t,"You must render this element inside a <HydratedRouter> element"),t}function AI(t,e){let n=P.useContext(Yf),[r,i]=P.useState(!1),[s,o]=P.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=e,g=P.useRef(null);P.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let j=w=>{w.forEach(x=>{o(x.isIntersecting)})},A=new IntersectionObserver(j,{threshold:.5});return g.current&&A.observe(g.current),()=>{A.disconnect()}}},[t]),P.useEffect(()=>{if(r){let j=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(j)}}},[r]);let T=()=>{i(!0)},C=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,g,{}]:[s,g,{onFocus:Ks(c,T),onBlur:Ks(u,C),onMouseEnter:Ks(d,T),onMouseLeave:Ks(f,C),onTouchStart:Ks(p,T)}]:[!1,g,{}]}function Ks(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function RI({page:t,...e}){let{router:n}=dw(),r=P.useMemo(()=>nw(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?P.createElement(DI,{page:t,matches:r,...e}):null}function PI(t){let{manifest:e,routeModules:n}=hw(),[r,i]=P.useState([]);return P.useEffect(()=>{let s=!1;return TI(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function DI({page:t,matches:e,...n}){let r=zn(),{manifest:i,routeModules:s}=hw(),{basename:o}=dw(),{loaderData:c,matches:u}=jI(),d=P.useMemo(()=>i0(t,e,u,i,r,"data"),[t,e,u,i,r]),f=P.useMemo(()=>i0(t,e,u,i,r,"assets"),[t,e,u,i,r]),p=P.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,j=!1;if(e.forEach(w=>{var E;let x=i.routes[w.route.id];!x||!x.hasLoader||(!d.some(D=>D.route.id===w.route.id)&&w.route.id in c&&((E=s[w.route.id])!=null&&E.shouldRevalidate)||x.hasClientLoader?j=!0:C.add(w.route.id))}),C.size===0)return[];let A=kI(t,o);return j&&C.size>0&&A.searchParams.set("_routes",e.filter(w=>C.has(w.route.id)).map(w=>w.route.id).join(",")),[A.pathname+A.search]},[o,c,r,i,d,e,t,s]),g=P.useMemo(()=>II(f,i),[f,i]),T=PI(f);return P.createElement(P.Fragment,null,p.map(C=>P.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),g.map(C=>P.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),T.map(({key:C,link:j})=>P.createElement("link",{key:C,...j})))}function MI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var fw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fw&&(window.__reactRouterVersion="7.3.0")}catch{}function LI({basename:t,children:e,window:n}){let r=P.useRef();r.current==null&&(r.current=TT({window:n,v5Compat:!0}));let i=r.current,[s,o]=P.useState({action:i.action,location:i.location}),c=P.useCallback(u=>{P.startTransition(()=>o(u))},[o]);return P.useLayoutEffect(()=>i.listen(c),[i,c]),P.createElement(hI,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var mw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pw=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:c,target:u,to:d,preventScrollReset:f,viewTransition:p,...g},T){let{basename:C}=P.useContext(Zt),j=typeof d=="string"&&mw.test(d),A,w=!1;if(typeof d=="string"&&j&&(A=d,fw))try{let _=new URL(window.location.href),N=d.startsWith("//")?new URL(_.protocol+d):new URL(d),k=Dn(N.pathname,C);N.origin===_.origin&&k!=null?d=k+N.search+N.hash:w=!0}catch{Xt(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=YT(d,{relative:i}),[E,D,V]=AI(r,g),z=UI(d,{replace:o,state:c,target:u,preventScrollReset:f,relative:i,viewTransition:p});function I(_){e&&e(_),_.defaultPrevented||z(_)}let v=P.createElement("a",{...g,...V,href:A||x,onClick:w||s?e:I,ref:MI(T,D),target:u,"data-discover":!j&&n==="render"?"true":void 0});return E&&!j?P.createElement(P.Fragment,null,v,P.createElement(RI,{page:x})):v});pw.displayName="Link";var OI=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:c,children:u,...d},f){let p=ia(o,{relative:d.relative}),g=zn(),T=P.useContext(qc),{navigator:C,basename:j}=P.useContext(Zt),A=T!=null&&HI(p)&&c===!0,w=C.encodeLocation?C.encodeLocation(p).pathname:p.pathname,x=g.pathname,E=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(x=x.toLowerCase(),E=E?E.toLowerCase():null,w=w.toLowerCase()),E&&j&&(E=Dn(E,j)||E);const D=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let V=x===w||!i&&x.startsWith(w)&&x.charAt(D)==="/",z=E!=null&&(E===w||!i&&E.startsWith(w)&&E.charAt(w.length)==="/"),I={isActive:V,isPending:z,isTransitioning:A},v=V?e:void 0,_;typeof r=="function"?_=r(I):_=[r,V?"active":null,z?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let N=typeof s=="function"?s(I):s;return P.createElement(pw,{...d,"aria-current":v,className:_,ref:f,style:N,to:o,viewTransition:c},typeof u=="function"?u(I):u)});OI.displayName="NavLink";var VI=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=_l,action:c,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:p,...g},T)=>{let C=$I(),j=WI(c,{relative:d}),A=o.toLowerCase()==="get"?"get":"post",w=typeof c=="string"&&mw.test(c),x=E=>{if(u&&u(E),E.defaultPrevented)return;E.preventDefault();let D=E.nativeEvent.submitter,V=(D==null?void 0:D.getAttribute("formmethod"))||o;C(D||E.currentTarget,{fetcherKey:e,method:V,navigate:n,replace:i,state:s,relative:d,preventScrollReset:f,viewTransition:p})};return P.createElement("form",{ref:T,method:A,action:j,onSubmit:r?u:x,...g,"data-discover":!w&&t==="render"?"true":void 0})});VI.displayName="Form";function FI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gw(t){let e=P.useContext(gs);return be(e,FI(t)),e}function UI(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let c=ra(),u=zn(),d=ia(t,{relative:s});return P.useCallback(f=>{if(vI(f,e)){f.preventDefault();let p=n!==void 0?n:Uo(u)===Uo(d);c(t,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[u,c,d,n,r,e,t,i,s,o])}var zI=0,BI=()=>`__${String(++zI)}__`;function $I(){let{router:t}=gw("useSubmit"),{basename:e}=P.useContext(Zt),n=aI();return P.useCallback(async(r,i={})=>{let{action:s,method:o,encType:c,formData:u,body:d}=_I(r,e);if(i.navigate===!1){let f=i.fetcherKey||BI();await t.fetch(f,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||o,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||o,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function WI(t,{relative:e}={}){let{basename:n}=P.useContext(Zt),r=P.useContext(mn);be(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...ia(t||".",{relative:e})},o=zn();if(t==null){s.search=o.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(p=>p).forEach(p=>c.append("index",p));let f=c.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Cn([n,s.pathname])),Uo(s)}function HI(t,e={}){let n=P.useContext(ow);be(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=gw("useViewTransitionState"),i=ia(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Dn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Dn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return sc(i.pathname,o)!=null||sc(i.pathname,s)!=null}new TextEncoder;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),vs=(t,e)=>{const n=P.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:c="",children:u,...d},f)=>P.createElement("svg",{ref:f,...qI,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${GI(t)}`,c].join(" "),...d},[...e.map(([p,g])=>P.createElement(p,g)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=vs("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=vs("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=vs("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=vs("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=vs("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=vs("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var eN=typeof Element<"u",tN=typeof Map=="function",nN=typeof Set=="function",rN=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function El(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!El(t[r],e[r]))return!1;return!0}var s;if(tN&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!El(r.value[1],e.get(r.value[0])))return!1;return!0}if(nN&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(rN&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(eN&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!El(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var iN=function(e,n){try{return El(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const sN=kc(iN);var oN=function(t,e,n,r,i,s,o,c){if(!t){var u;if(e===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,r,i,s,o,c],f=0;u=new Error(e.replace(/%s/g,function(){return d[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}},aN=oN;const s0=kc(aN);var lN=function(e,n,r,i){var s=r?r.call(i,e,n):void 0;if(s!==void 0)return!!s;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),c=Object.keys(n);if(o.length!==c.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(n),d=0;d<o.length;d++){var f=o[d];if(!u(f))return!1;var p=e[f],g=n[f];if(s=r?r.call(i,p,g,f):void 0,s===!1||s===void 0&&p!==g)return!1}return!0};const cN=kc(lN);var yw=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(yw||{}),ud={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},o0=Object.values(yw),Xf={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},uN=Object.entries(Xf).reduce((t,[e,n])=>(t[n]=e,t),{}),qt="data-rh",Wi={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Hi=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},dN=t=>{let e=Hi(t,"title");const n=Hi(t,Wi.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=Hi(t,Wi.DEFAULT_TITLE);return e||r||void 0},hN=t=>Hi(t,Wi.ON_CHANGE_CLIENT_STATE)||(()=>{}),dd=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),fN=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const c=i[s].toLowerCase();if(t.indexOf(c)!==-1&&r[c])return n.concat(r)}}return n},[]),mN=t=>console&&typeof console.warn=="function"&&console.warn(t),Qs=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&mN(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,s)=>{const o={};s.filter(u=>{let d;const f=Object.keys(u);for(let g=0;g<f.length;g+=1){const T=f[g],C=T.toLowerCase();e.indexOf(C)!==-1&&!(d==="rel"&&u[d].toLowerCase()==="canonical")&&!(C==="rel"&&u[C].toLowerCase()==="stylesheet")&&(d=C),e.indexOf(T)!==-1&&(T==="innerHTML"||T==="cssText"||T==="itemprop")&&(d=T)}if(!d||!u[d])return!1;const p=u[d].toLowerCase();return r[d]||(r[d]={}),o[d]||(o[d]={}),r[d][p]?!1:(o[d][p]=!0,!0)}).reverse().forEach(u=>i.push(u));const c=Object.keys(o);for(let u=0;u<c.length;u+=1){const d=c[u],f={...r[d],...o[d]};r[d]=f}return i},[]).reverse()},pN=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},gN=t=>({baseTag:fN(["href"],t),bodyAttributes:dd("bodyAttributes",t),defer:Hi(t,Wi.DEFER),encode:Hi(t,Wi.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:dd("htmlAttributes",t),linkTags:Qs("link",["rel","href"],t),metaTags:Qs("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:Qs("noscript",["innerHTML"],t),onChangeClientState:hN(t),scriptTags:Qs("script",["src","innerHTML"],t),styleTags:Qs("style",["cssText"],t),title:dN(t),titleAttributes:dd("titleAttributes",t),prioritizeSeoTags:pN(t,Wi.PRIORITIZE_SEO_TAGS)}),vw=t=>Array.isArray(t)?t.join(""):t,yN=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},hd=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(yN(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},a0=(t,e)=>({...t,[e]:void 0}),vN=["noscript","script","style"],wh=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),xw=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),xN=(t,e,n,r)=>{const i=xw(n),s=vw(e);return i?`<${t} ${qt}="true" ${i}>${wh(s,r)}</${t}>`:`<${t} ${qt}="true">${wh(s,r)}</${t}>`},wN=(t,e,n=!0)=>e.reduce((r,i)=>{const s=i,o=Object.keys(s).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,f)=>{const p=typeof s[f]>"u"?f:`${f}="${wh(s[f],n)}"`;return d?`${d} ${p}`:p},""),c=s.innerHTML||s.cssText||"",u=vN.indexOf(t)===-1;return`${r}<${t} ${qt}="true" ${o}${u?"/>":`>${c}</${t}>`}`},""),ww=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=Xf[r];return n[i||r]=t[r],n},e),_N=(t,e,n)=>{const r={key:e,[qt]:!0},i=ww(n,r);return[ir.createElement("title",i,e)]},Tl=(t,e)=>e.map((n,r)=>{const i={key:r,[qt]:!0};return Object.keys(n).forEach(s=>{const c=Xf[s]||s;if(c==="innerHTML"||c==="cssText"){const u=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:u}}else i[c]=n[s]}),ir.createElement(t,i)}),kt=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>_N(t,e.title,e.titleAttributes),toString:()=>xN(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>ww(e),toString:()=>xw(e)};default:return{toComponent:()=>Tl(t,e),toString:()=>wN(t,e,n)}}},bN=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=hd(t,ud.meta),s=hd(e,ud.link),o=hd(n,ud.script);return{priorityMethods:{toComponent:()=>[...Tl("meta",i.priority),...Tl("link",s.priority),...Tl("script",o.priority)],toString:()=>`${kt("meta",i.priority,r)} ${kt("link",s.priority,r)} ${kt("script",o.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:o.default}},EN=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:o,title:c="",titleAttributes:u,prioritizeSeoTags:d}=t;let{linkTags:f,metaTags:p,scriptTags:g}=t,T={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:T,linkTags:f,metaTags:p,scriptTags:g}=bN(t)),{priority:T,base:kt("base",e,r),bodyAttributes:kt("bodyAttributes",n,r),htmlAttributes:kt("htmlAttributes",i,r),link:kt("link",f,r),meta:kt("meta",p,r),noscript:kt("noscript",s,r),script:kt("script",g,r),style:kt("style",o,r),title:kt("title",{title:c,titleAttributes:u},r)}},_h=EN,Ja=[],_w=!!(typeof window<"u"&&window.document&&window.document.createElement),bh=class{constructor(t,e){vn(this,"instances",[]);vn(this,"canUseDOM",_w);vn(this,"context");vn(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Ja:this.instances,add:t=>{(this.canUseDOM?Ja:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?Ja:this.instances).indexOf(t);(this.canUseDOM?Ja:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=_h({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},TN={},bw=ir.createContext(TN),qr,Ew=(qr=class extends P.Component{constructor(n){super(n);vn(this,"helmetData");this.helmetData=new bh(this.props.context||{},qr.canUseDOM)}render(){return ir.createElement(bw.Provider,{value:this.helmetData.value},this.props.children)}},vn(qr,"canUseDOM",_w),qr),yi=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${qt}]`),i=[].slice.call(r),s=[];let o;return e&&e.length&&e.forEach(c=>{const u=document.createElement(t);for(const d in c)if(Object.prototype.hasOwnProperty.call(c,d))if(d==="innerHTML")u.innerHTML=c.innerHTML;else if(d==="cssText")u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{const f=d,p=typeof c[f]>"u"?"":c[f];u.setAttribute(d,p)}u.setAttribute(qt,"true"),i.some((d,f)=>(o=f,u.isEqualNode(d)))?i.splice(o,1):s.push(u)}),i.forEach(c=>{var u;return(u=c.parentNode)==null?void 0:u.removeChild(c)}),s.forEach(c=>n.appendChild(c)),{oldTags:i,newTags:s}},Eh=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(qt),i=r?r.split(","):[],s=[...i],o=Object.keys(e);for(const c of o){const u=e[c]||"";n.getAttribute(c)!==u&&n.setAttribute(c,u),i.indexOf(c)===-1&&i.push(c);const d=s.indexOf(c);d!==-1&&s.splice(d,1)}for(let c=s.length-1;c>=0;c-=1)n.removeAttribute(s[c]);i.length===s.length?n.removeAttribute(qt):n.getAttribute(qt)!==o.join(",")&&n.setAttribute(qt,o.join(","))},IN=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=vw(t)),Eh("title",e)},l0=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:o,noscriptTags:c,onChangeClientState:u,scriptTags:d,styleTags:f,title:p,titleAttributes:g}=t;Eh("body",r),Eh("html",i),IN(p,g);const T={baseTag:yi("base",n),linkTags:yi("link",s),metaTags:yi("meta",o),noscriptTags:yi("noscript",c),scriptTags:yi("script",d),styleTags:yi("style",f)},C={},j={};Object.keys(T).forEach(A=>{const{newTags:w,oldTags:x}=T[A];w.length&&(C[A]=w),x.length&&(j[A]=T[A].oldTags)}),e&&e(),u(t,C,j)},Ys=null,NN=t=>{Ys&&cancelAnimationFrame(Ys),t.defer?Ys=requestAnimationFrame(()=>{l0(t,()=>{Ys=null})}):(l0(t),Ys=null)},SN=NN,c0=class extends P.Component{constructor(){super(...arguments);vn(this,"rendered",!1)}shouldComponentUpdate(e){return!cN(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=gN(e.get().map(s=>{const o={...s.props};return delete o.context,o}));Ew.canUseDOM?SN(i):_h&&(r=_h(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Id,CN=(Id=class extends P.Component{shouldComponentUpdate(t){return!sN(a0(this.props,"helmetData"),a0(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return s0(o0.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${o0.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),s0(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return ir.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...s}=r.props,o=Object.keys(s).reduce((u,d)=>(u[uN[d]||d]=s[d],u),{});let{type:c}=r;switch(typeof c=="symbol"?c=c.toString():this.warnOnInvalidChildren(r,i),c){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,o,i);break;default:e=this.mapObjectTypeChildren(r,e,o,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof bh)){const i=r;r=new bh(i.context,!0),delete n.helmetData}return r?ir.createElement(c0,{...n,context:r.value}):ir.createElement(bw.Consumer,null,i=>ir.createElement(c0,{...n,context:i}))}},vn(Id,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Id);function u0({setMobileMenuOpen:t}){const e=ra(),r=zn().pathname,[i,s]=P.useState(!1);P.useEffect(()=>{const u=()=>{s(window.scrollY>20)};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]);const o=[{path:"/",label:"Home",icon:YI},{path:"/services",label:"Services",icon:QI},{path:"/guide",label:"Guides",icon:KI},{path:"/about",label:"About",icon:JI}],c=u=>{e(u),t==null||t(!1)};return a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:`flex flex-col md:flex-row md:items-center transition-all duration-300 ${i?"md:py-2":"md:py-4"}`,children:[o.map(u=>a.jsxs("button",{onClick:()=>c(u.path),className:`
              relative px-3 py-1.5 rounded-lg text-sm font-medium flex items-center 
              transition-all duration-300 ease-in-out group overflow-hidden
              md:mx-2
              ${r===u.path?"text-white bg-blue-700 md:bg-blue-700 md:text-white shadow-md":"text-white hover:bg-blue-600/40"}
              my-1 md:my-0
            `,children:[a.jsx("span",{className:"absolute inset-0 w-0 bg-blue-500/30 transition-all duration-300 ease-in-out group-hover:w-full"}),a.jsx(u.icon,{className:`mr-2 transition-transform duration-300 group-hover:scale-110 ${r===u.path?"text-white":"text-blue-200"}`,size:20}),a.jsx("span",{className:"relative z-10",children:u.label}),r===u.path&&a.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-full bg-white transform origin-left"})]},u.path)),a.jsx("button",{onClick:()=>e("/contact"),className:`
            hidden md:inline-block px-5 py-1.5 bg-white text-blue-900 rounded-full text-base font-medium 
            hover:bg-blue-50 transition-all duration-300 ml-4
            hover:shadow-md hover:scale-105 active:scale-95
          `,children:"Contact Us"})]})})}const kN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='900'%20height='600'%20viewBox='0%200%203%202'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='1'%20height='2'%20fill='%23009246'/%3e%3crect%20width='1'%20height='2'%20x='1'%20fill='%23fff'/%3e%3crect%20width='1'%20height='2'%20x='2'%20fill='%23ce2b37'/%3e%3c/svg%3e",jN="/assets/facebook-DqEEJdSt.png",AN="/assets/twitter-7VgRLBVu.png",RN="/assets/linkedin-BePj2NMB.png",PN="/assets/whatsapp-C_r0qu2D.png",DN="/assets/logo_f-Bbj7mo_1.png";function MN(){return a.jsx("footer",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 mt-16 border-t border-blue-100",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"py-10 grid grid-cols-1 md:grid-cols-2 items-center gap-8",children:[a.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[a.jsx("img",{src:DN,alt:"Logo",className:"h-32 w-auto"}),a.jsx("div",{className:"-mt-6 text-center md:text-left",children:a.jsx("p",{className:"text-gray-600 mt-0",children:"Immigration & Tax Consultant"})})]}),a.jsxs("div",{className:"flex flex-col items-center md:items-end",children:[a.jsx("p",{className:"text-gray-600 mb-3 font-medium",children:"Follow us"}),a.jsxs("div",{className:"flex space-x-5",children:[a.jsx("a",{href:"#",className:"text-blue-800 hover:text-blue-900 transition-colors duration-200","aria-label":"Facebook",children:a.jsx("img",{src:jN,alt:"Facebook",className:"w-6 h-6 hover:scale-110 transition-transform [filter:brightness(0)_saturate(100%)_invert(39%)_sepia(98%)_saturate(1900%)_hue-rotate(206deg)_brightness(97%)_contrast(95%)]"})}),a.jsx("a",{href:"#",className:"text-blue-800 hover:text-blue-900 transition-colors duration-200","aria-label":"X (Twitter)",children:a.jsx("img",{src:AN,alt:"Twitter",className:"w-6 h-6 hover:scale-110 transition-transform [filter:brightness(0)_saturate(100%)_invert(39%)_sepia(98%)_saturate(1900%)_hue-rotate(206deg)_brightness(97%)_contrast(95%)]"})}),a.jsx("a",{href:"#",className:"text-blue-800 hover:text-blue-900 transition-colors duration-200","aria-label":"LinkedIn",children:a.jsx("img",{src:RN,alt:"LinkedIn",className:"w-6 h-6 hover:scale-110 transition-transform [filter:brightness(0)_saturate(100%)_invert(39%)_sepia(98%)_saturate(1900%)_hue-rotate(206deg)_brightness(97%)_contrast(95%)]"})}),a.jsx("a",{href:"https://wa.me/393516737374",target:"_blank",rel:"noopener noreferrer",className:"text-blue-800 hover:text-blue-900 transition-colors duration-200","aria-label":"WhatsApp",children:a.jsx("img",{src:PN,alt:"WhatsApp",className:"w-6 h-6 hover:scale-110 transition-transform [filter:brightness(0)_saturate(100%)_invert(39%)_sepia(98%)_saturate(1900%)_hue-rotate(206deg)_brightness(97%)_contrast(95%)]"})})]})]})]}),a.jsxs("div",{className:"py-8 border-t border-blue-100 grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[a.jsx("h4",{className:"text-lg font-medium text-blue-800 mb-4",children:"Contact Us"}),a.jsxs("address",{className:"not-italic text-gray-600 text-sm space-y-2",children:[a.jsx("p",{children:"Khadija Zouine"}),a.jsx("p",{children:"Corso Giulio Cesare 118C"}),a.jsx("p",{children:"Turin, 10154"}),a.jsx("p",{children:"VAT: 12744510012"})]})]}),a.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[a.jsx("h4",{className:"text-lg font-medium text-blue-800 mb-4",children:"Quick Links"}),a.jsxs("nav",{className:"flex flex-col space-y-2 text-sm",children:[a.jsx("a",{href:"#",className:"text-gray-600 hover:text-blue-700 transition-colors",children:"Privacy & Cookie Policy"}),a.jsx("a",{href:"#",className:"text-gray-600 hover:text-blue-700 transition-colors",children:"Terms and Conditions"}),a.jsx("a",{href:"#",className:"text-gray-600 hover:text-blue-700 transition-colors",children:"Services"}),a.jsx("a",{href:"#",className:"text-gray-600 hover:text-blue-700 transition-colors",children:"Contact"})]})]}),a.jsxs("div",{className:"flex flex-col items-center md:items-end",children:[a.jsx("h4",{className:"text-lg font-medium text-blue-800 mb-4",children:"Language"}),a.jsx("div",{className:"flex space-x-3",children:a.jsx("a",{href:"#",className:"flex items-center space-x-2 text-gray-600 hover:text-blue-700 transition-colors",children:a.jsx("img",{src:kN,className:"h-5 w-7 shadow-sm"})})})]})]}),a.jsx("div",{className:"py-6 border-t border-blue-100",children:a.jsx("p",{className:"text-xs text-gray-500 leading-relaxed text-center",children:"E-Co Fisco Immigration Specialists is an agency for foreigners specialized in administrative assistance and advice for immigration in Italy and, when necessary, puts you in touch with an immigration expert. The information provided on this website is for general informational purposes only and does not constitute legal advice. We recommend that you consult directly with an immigration attorney working with us for specific advice regarding your individual situation."})}),a.jsx("div",{className:"py-4 border-t border-blue-100 text-center",children:a.jsxs("p",{className:"text-xs text-gray-500",children:[" ",new Date().getFullYear()," E-Co Fisco Immigration & Tax Consultant. All rights reserved."]})})]})})}const vi="/assets/italy-D-Ds6erS.png",LN="/assets/hero-DobAd53D.jpg",ON=()=>{};var d0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},VN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Iw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|c>>4;let g=(c&15)<<2|d>>6,T=d&63;u||(T=64,o||(g=64)),r.push(n[f],n[p],n[g],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Tw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||p==null)throw new FN;const g=s<<2|c>>4;if(r.push(g),d!==64){const T=c<<4&240|d>>2;if(r.push(T),p!==64){const C=d<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UN=function(t){const e=Tw(t);return Iw.encodeByteArray(e,!0)},oc=function(t){return UN(t).replace(/\./g,"")},Nw=function(t){try{return Iw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=()=>zN().__FIREBASE_DEFAULTS__,$N=()=>{if(typeof process>"u"||typeof d0>"u")return;const t=d0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nw(t[1]);return e&&JSON.parse(e)},Kc=()=>{try{return ON()||BN()||$N()||WN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Sw=t=>{var e,n;return(n=(e=Kc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},HN=t=>{const e=Sw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Cw=()=>{var t;return(t=Kc())===null||t===void 0?void 0:t.config},kw=t=>{var e;return(e=Kc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[oc(JSON.stringify(n)),oc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function QN(){var t;const e=(t=Kc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function JN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZN(){const t=lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eS(){return!QN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tS(){try{return typeof indexedDB=="object"}catch{return!1}}function nS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="FirebaseError";class Bn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rS,Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sa.prototype.create)}}class sa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?iS(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Bn(i,c,r)}}function iS(t,e){return t.replace(sS,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const sS=/\{\$([^}]+)}/g;function oS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ti(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(h0(s)&&h0(o)){if(!ti(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function h0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function aS(t,e){const n=new lS(t,e);return n.subscribe.bind(n)}class lS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cS(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=fd),i.error===void 0&&(i.error=fd),i.complete===void 0&&(i.complete=fd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cS(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){return t&&t._delegate?t._delegate:t}class ni{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hS(e))try{this.getOrInitializeService({instanceIdentifier:Ur})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ur){return this.instances.has(e)}getOptions(e=Ur){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ur){return this.component?this.component.multipleInstances?e:Ur:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dS(t){return t===Ur?void 0:t}function hS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));const mS={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},pS=te.INFO,gS={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},yS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=gS[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jf{constructor(e){this.name=e,this._logLevel=pS,this._logHandler=yS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const vS=(t,e)=>e.some(n=>t instanceof n);let f0,m0;function xS(){return f0||(f0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wS(){return m0||(m0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jw=new WeakMap,Th=new WeakMap,Aw=new WeakMap,md=new WeakMap,Zf=new WeakMap;function _S(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(gr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jw.set(n,t)}).catch(()=>{}),Zf.set(e,t),e}function bS(t){if(Th.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Th.set(t,e)}let Ih={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Th.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Aw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ES(t){Ih=t(Ih)}function TS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pd(this),e,...n);return Aw.set(r,e.sort?e.sort():[e]),gr(r)}:wS().includes(t)?function(...e){return t.apply(pd(this),e),gr(jw.get(this))}:function(...e){return gr(t.apply(pd(this),e))}}function IS(t){return typeof t=="function"?TS(t):(t instanceof IDBTransaction&&bS(t),vS(t,xS())?new Proxy(t,Ih):t)}function gr(t){if(t instanceof IDBRequest)return _S(t);if(md.has(t))return md.get(t);const e=IS(t);return e!==t&&(md.set(t,e),Zf.set(e,t)),e}const pd=t=>Zf.get(t);function NS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),c=gr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(gr(o.result),u.oldVersion,u.newVersion,gr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const SS=["get","getKey","getAll","getAllKeys","count"],CS=["put","add","delete","clear"],gd=new Map;function p0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gd.get(e))return gd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=CS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||SS.includes(n)))return;const s=async function(o,...c){const u=this.transaction(o,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&u.done]))[0]};return gd.set(e,s),s}ES(t=>({...t,get:(e,n,r)=>p0(e,n)||t.get(e,n,r),has:(e,n)=>!!p0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nh="@firebase/app",g0="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn=new Jf("@firebase/app"),AS="@firebase/app-compat",RS="@firebase/analytics-compat",PS="@firebase/analytics",DS="@firebase/app-check-compat",MS="@firebase/app-check",LS="@firebase/auth",OS="@firebase/auth-compat",VS="@firebase/database",FS="@firebase/data-connect",US="@firebase/database-compat",zS="@firebase/functions",BS="@firebase/functions-compat",$S="@firebase/installations",WS="@firebase/installations-compat",HS="@firebase/messaging",qS="@firebase/messaging-compat",GS="@firebase/performance",KS="@firebase/performance-compat",QS="@firebase/remote-config",YS="@firebase/remote-config-compat",XS="@firebase/storage",JS="@firebase/storage-compat",ZS="@firebase/firestore",e4="@firebase/vertexai",t4="@firebase/firestore-compat",n4="firebase",r4="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="[DEFAULT]",i4={[Nh]:"fire-core",[AS]:"fire-core-compat",[PS]:"fire-analytics",[RS]:"fire-analytics-compat",[MS]:"fire-app-check",[DS]:"fire-app-check-compat",[LS]:"fire-auth",[OS]:"fire-auth-compat",[VS]:"fire-rtdb",[FS]:"fire-data-connect",[US]:"fire-rtdb-compat",[zS]:"fire-fn",[BS]:"fire-fn-compat",[$S]:"fire-iid",[WS]:"fire-iid-compat",[HS]:"fire-fcm",[qS]:"fire-fcm-compat",[GS]:"fire-perf",[KS]:"fire-perf-compat",[QS]:"fire-rc",[YS]:"fire-rc-compat",[XS]:"fire-gcs",[JS]:"fire-gcs-compat",[ZS]:"fire-fst",[t4]:"fire-fst-compat",[e4]:"fire-vertex","fire-js":"fire-js",[n4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new Map,s4=new Map,Ch=new Map;function y0(t,e){try{t.container.addComponent(e)}catch(n){Mn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rs(t){const e=t.name;if(Ch.has(e))return Mn.debug(`There were multiple attempts to register component ${e}.`),!1;Ch.set(e,t);for(const n of ac.values())y0(n,t);for(const n of s4.values())y0(n,t);return!0}function em(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function on(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new sa("app","Firebase",o4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=r4;function Rw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Sh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw yr.create("bad-app-name",{appName:String(i)});if(n||(n=Cw()),!n)throw yr.create("no-options");const s=ac.get(i);if(s){if(ti(n,s.options)&&ti(r,s.config))return s;throw yr.create("duplicate-app",{appName:i})}const o=new fS(i);for(const u of Ch.values())o.addComponent(u);const c=new a4(n,r,o);return ac.set(i,c),c}function Pw(t=Sh){const e=ac.get(t);if(!e&&t===Sh&&Cw())return Rw();if(!e)throw yr.create("no-app",{appName:t});return e}function vr(t,e,n){var r;let i=(r=i4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mn.warn(c.join(" "));return}rs(new ni(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="firebase-heartbeat-database",c4=1,zo="firebase-heartbeat-store";let yd=null;function Dw(){return yd||(yd=NS(l4,c4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zo)}catch(n){console.warn(n)}}}}).catch(t=>{throw yr.create("idb-open",{originalErrorMessage:t.message})})),yd}async function u4(t){try{const n=(await Dw()).transaction(zo),r=await n.objectStore(zo).get(Mw(t));return await n.done,r}catch(e){if(e instanceof Bn)Mn.warn(e.message);else{const n=yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mn.warn(n.message)}}}async function v0(t,e){try{const r=(await Dw()).transaction(zo,"readwrite");await r.objectStore(zo).put(e,Mw(t)),await r.done}catch(n){if(n instanceof Bn)Mn.warn(n.message);else{const r=yr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mn.warn(r.message)}}}function Mw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=1024,h4=30;class f4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new p4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=x0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>h4){const o=g4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Mn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=x0(),{heartbeatsToSend:r,unsentEntries:i}=m4(this._heartbeatsCache.heartbeats),s=oc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Mn.warn(n),""}}}function x0(){return new Date().toISOString().substring(0,10)}function m4(t,e=d4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),w0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),w0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class p4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tS()?nS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await u4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return v0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return v0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function w0(t){return oc(JSON.stringify({version:2,heartbeats:t})).length}function g4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(t){rs(new ni("platform-logger",e=>new kS(e),"PRIVATE")),rs(new ni("heartbeat",e=>new f4(e),"PRIVATE")),vr(Nh,g0,t),vr(Nh,g0,"esm2017"),vr("fire-js","")}y4("");var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xr,Lw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,v){function _(){}_.prototype=v.prototype,I.D=v.prototype,I.prototype=new _,I.prototype.constructor=I,I.C=function(N,k,S){for(var b=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)b[oe-2]=arguments[oe];return v.prototype[k].apply(N,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,_){_||(_=0);var N=Array(16);if(typeof v=="string")for(var k=0;16>k;++k)N[k]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(k=0;16>k;++k)N[k]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=I.g[0],_=I.g[1],k=I.g[2];var S=I.g[3],b=v+(S^_&(k^S))+N[0]+3614090360&4294967295;v=_+(b<<7&4294967295|b>>>25),b=S+(k^v&(_^k))+N[1]+3905402710&4294967295,S=v+(b<<12&4294967295|b>>>20),b=k+(_^S&(v^_))+N[2]+606105819&4294967295,k=S+(b<<17&4294967295|b>>>15),b=_+(v^k&(S^v))+N[3]+3250441966&4294967295,_=k+(b<<22&4294967295|b>>>10),b=v+(S^_&(k^S))+N[4]+4118548399&4294967295,v=_+(b<<7&4294967295|b>>>25),b=S+(k^v&(_^k))+N[5]+1200080426&4294967295,S=v+(b<<12&4294967295|b>>>20),b=k+(_^S&(v^_))+N[6]+2821735955&4294967295,k=S+(b<<17&4294967295|b>>>15),b=_+(v^k&(S^v))+N[7]+4249261313&4294967295,_=k+(b<<22&4294967295|b>>>10),b=v+(S^_&(k^S))+N[8]+1770035416&4294967295,v=_+(b<<7&4294967295|b>>>25),b=S+(k^v&(_^k))+N[9]+2336552879&4294967295,S=v+(b<<12&4294967295|b>>>20),b=k+(_^S&(v^_))+N[10]+4294925233&4294967295,k=S+(b<<17&4294967295|b>>>15),b=_+(v^k&(S^v))+N[11]+2304563134&4294967295,_=k+(b<<22&4294967295|b>>>10),b=v+(S^_&(k^S))+N[12]+1804603682&4294967295,v=_+(b<<7&4294967295|b>>>25),b=S+(k^v&(_^k))+N[13]+4254626195&4294967295,S=v+(b<<12&4294967295|b>>>20),b=k+(_^S&(v^_))+N[14]+2792965006&4294967295,k=S+(b<<17&4294967295|b>>>15),b=_+(v^k&(S^v))+N[15]+1236535329&4294967295,_=k+(b<<22&4294967295|b>>>10),b=v+(k^S&(_^k))+N[1]+4129170786&4294967295,v=_+(b<<5&4294967295|b>>>27),b=S+(_^k&(v^_))+N[6]+3225465664&4294967295,S=v+(b<<9&4294967295|b>>>23),b=k+(v^_&(S^v))+N[11]+643717713&4294967295,k=S+(b<<14&4294967295|b>>>18),b=_+(S^v&(k^S))+N[0]+3921069994&4294967295,_=k+(b<<20&4294967295|b>>>12),b=v+(k^S&(_^k))+N[5]+3593408605&4294967295,v=_+(b<<5&4294967295|b>>>27),b=S+(_^k&(v^_))+N[10]+38016083&4294967295,S=v+(b<<9&4294967295|b>>>23),b=k+(v^_&(S^v))+N[15]+3634488961&4294967295,k=S+(b<<14&4294967295|b>>>18),b=_+(S^v&(k^S))+N[4]+3889429448&4294967295,_=k+(b<<20&4294967295|b>>>12),b=v+(k^S&(_^k))+N[9]+568446438&4294967295,v=_+(b<<5&4294967295|b>>>27),b=S+(_^k&(v^_))+N[14]+3275163606&4294967295,S=v+(b<<9&4294967295|b>>>23),b=k+(v^_&(S^v))+N[3]+4107603335&4294967295,k=S+(b<<14&4294967295|b>>>18),b=_+(S^v&(k^S))+N[8]+1163531501&4294967295,_=k+(b<<20&4294967295|b>>>12),b=v+(k^S&(_^k))+N[13]+2850285829&4294967295,v=_+(b<<5&4294967295|b>>>27),b=S+(_^k&(v^_))+N[2]+4243563512&4294967295,S=v+(b<<9&4294967295|b>>>23),b=k+(v^_&(S^v))+N[7]+1735328473&4294967295,k=S+(b<<14&4294967295|b>>>18),b=_+(S^v&(k^S))+N[12]+2368359562&4294967295,_=k+(b<<20&4294967295|b>>>12),b=v+(_^k^S)+N[5]+4294588738&4294967295,v=_+(b<<4&4294967295|b>>>28),b=S+(v^_^k)+N[8]+2272392833&4294967295,S=v+(b<<11&4294967295|b>>>21),b=k+(S^v^_)+N[11]+1839030562&4294967295,k=S+(b<<16&4294967295|b>>>16),b=_+(k^S^v)+N[14]+4259657740&4294967295,_=k+(b<<23&4294967295|b>>>9),b=v+(_^k^S)+N[1]+2763975236&4294967295,v=_+(b<<4&4294967295|b>>>28),b=S+(v^_^k)+N[4]+1272893353&4294967295,S=v+(b<<11&4294967295|b>>>21),b=k+(S^v^_)+N[7]+4139469664&4294967295,k=S+(b<<16&4294967295|b>>>16),b=_+(k^S^v)+N[10]+3200236656&4294967295,_=k+(b<<23&4294967295|b>>>9),b=v+(_^k^S)+N[13]+681279174&4294967295,v=_+(b<<4&4294967295|b>>>28),b=S+(v^_^k)+N[0]+3936430074&4294967295,S=v+(b<<11&4294967295|b>>>21),b=k+(S^v^_)+N[3]+3572445317&4294967295,k=S+(b<<16&4294967295|b>>>16),b=_+(k^S^v)+N[6]+76029189&4294967295,_=k+(b<<23&4294967295|b>>>9),b=v+(_^k^S)+N[9]+3654602809&4294967295,v=_+(b<<4&4294967295|b>>>28),b=S+(v^_^k)+N[12]+3873151461&4294967295,S=v+(b<<11&4294967295|b>>>21),b=k+(S^v^_)+N[15]+530742520&4294967295,k=S+(b<<16&4294967295|b>>>16),b=_+(k^S^v)+N[2]+3299628645&4294967295,_=k+(b<<23&4294967295|b>>>9),b=v+(k^(_|~S))+N[0]+4096336452&4294967295,v=_+(b<<6&4294967295|b>>>26),b=S+(_^(v|~k))+N[7]+1126891415&4294967295,S=v+(b<<10&4294967295|b>>>22),b=k+(v^(S|~_))+N[14]+2878612391&4294967295,k=S+(b<<15&4294967295|b>>>17),b=_+(S^(k|~v))+N[5]+4237533241&4294967295,_=k+(b<<21&4294967295|b>>>11),b=v+(k^(_|~S))+N[12]+1700485571&4294967295,v=_+(b<<6&4294967295|b>>>26),b=S+(_^(v|~k))+N[3]+2399980690&4294967295,S=v+(b<<10&4294967295|b>>>22),b=k+(v^(S|~_))+N[10]+4293915773&4294967295,k=S+(b<<15&4294967295|b>>>17),b=_+(S^(k|~v))+N[1]+2240044497&4294967295,_=k+(b<<21&4294967295|b>>>11),b=v+(k^(_|~S))+N[8]+1873313359&4294967295,v=_+(b<<6&4294967295|b>>>26),b=S+(_^(v|~k))+N[15]+4264355552&4294967295,S=v+(b<<10&4294967295|b>>>22),b=k+(v^(S|~_))+N[6]+2734768916&4294967295,k=S+(b<<15&4294967295|b>>>17),b=_+(S^(k|~v))+N[13]+1309151649&4294967295,_=k+(b<<21&4294967295|b>>>11),b=v+(k^(_|~S))+N[4]+4149444226&4294967295,v=_+(b<<6&4294967295|b>>>26),b=S+(_^(v|~k))+N[11]+3174756917&4294967295,S=v+(b<<10&4294967295|b>>>22),b=k+(v^(S|~_))+N[2]+718787259&4294967295,k=S+(b<<15&4294967295|b>>>17),b=_+(S^(k|~v))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(k+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+S&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var _=v-this.blockSize,N=this.B,k=this.h,S=0;S<v;){if(k==0)for(;S<=_;)i(this,I,S),S+=this.blockSize;if(typeof I=="string"){for(;S<v;)if(N[k++]=I.charCodeAt(S++),k==this.blockSize){i(this,N),k=0;break}}else for(;S<v;)if(N[k++]=I[S++],k==this.blockSize){i(this,N),k=0;break}}this.h=k,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var _=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=_&255,_/=256;for(this.u(I),I=Array(16),v=_=0;4>v;++v)for(var N=0;32>N;N+=8)I[_++]=this.g[v]>>>N&255;return I};function s(I,v){var _=c;return Object.prototype.hasOwnProperty.call(_,I)?_[I]:_[I]=v(I)}function o(I,v){this.h=v;for(var _=[],N=!0,k=I.length-1;0<=k;k--){var S=I[k]|0;N&&S==v||(_[k]=S,N=!1)}this.g=_}var c={};function u(I){return-128<=I&&128>I?s(I,function(v){return new o([v|0],0>v?-1:0)}):new o([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return A(d(-I));for(var v=[],_=1,N=0;I>=_;N++)v[N]=I/_|0,_*=4294967296;return new o(v,0)}function f(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return A(f(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=d(Math.pow(v,8)),N=p,k=0;k<I.length;k+=8){var S=Math.min(8,I.length-k),b=parseInt(I.substring(k,k+S),v);8>S?(S=d(Math.pow(v,S)),N=N.j(S).add(d(b))):(N=N.j(_),N=N.add(d(b)))}return N}var p=u(0),g=u(1),T=u(16777216);t=o.prototype,t.m=function(){if(j(this))return-A(this).m();for(var I=0,v=1,_=0;_<this.g.length;_++){var N=this.i(_);I+=(0<=N?N:4294967296+N)*v,v*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(j(this))return"-"+A(this).toString(I);for(var v=d(Math.pow(I,6)),_=this,N="";;){var k=D(_,v).g;_=w(_,k.j(v));var S=((0<_.g.length?_.g[0]:_.h)>>>0).toString(I);if(_=k,C(_))return S+N;for(;6>S.length;)S="0"+S;N=S+N}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function j(I){return I.h==-1}t.l=function(I){return I=w(this,I),j(I)?-1:C(I)?0:1};function A(I){for(var v=I.g.length,_=[],N=0;N<v;N++)_[N]=~I.g[N];return new o(_,~I.h).add(g)}t.abs=function(){return j(this)?A(this):this},t.add=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],N=0,k=0;k<=v;k++){var S=N+(this.i(k)&65535)+(I.i(k)&65535),b=(S>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);N=b>>>16,S&=65535,b&=65535,_[k]=b<<16|S}return new o(_,_[_.length-1]&-2147483648?-1:0)};function w(I,v){return I.add(A(v))}t.j=function(I){if(C(this)||C(I))return p;if(j(this))return j(I)?A(this).j(A(I)):A(A(this).j(I));if(j(I))return A(this.j(A(I)));if(0>this.l(T)&&0>I.l(T))return d(this.m()*I.m());for(var v=this.g.length+I.g.length,_=[],N=0;N<2*v;N++)_[N]=0;for(N=0;N<this.g.length;N++)for(var k=0;k<I.g.length;k++){var S=this.i(N)>>>16,b=this.i(N)&65535,oe=I.i(k)>>>16,re=I.i(k)&65535;_[2*N+2*k]+=b*re,x(_,2*N+2*k),_[2*N+2*k+1]+=S*re,x(_,2*N+2*k+1),_[2*N+2*k+1]+=b*oe,x(_,2*N+2*k+1),_[2*N+2*k+2]+=S*oe,x(_,2*N+2*k+2)}for(N=0;N<v;N++)_[N]=_[2*N+1]<<16|_[2*N];for(N=v;N<2*v;N++)_[N]=0;return new o(_,0)};function x(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function E(I,v){this.g=I,this.h=v}function D(I,v){if(C(v))throw Error("division by zero");if(C(I))return new E(p,p);if(j(I))return v=D(A(I),v),new E(A(v.g),A(v.h));if(j(v))return v=D(I,A(v)),new E(A(v.g),v.h);if(30<I.g.length){if(j(I)||j(v))throw Error("slowDivide_ only works with positive integers.");for(var _=g,N=v;0>=N.l(I);)_=V(_),N=V(N);var k=z(_,1),S=z(N,1);for(N=z(N,2),_=z(_,2);!C(N);){var b=S.add(N);0>=b.l(I)&&(k=k.add(_),S=b),N=z(N,1),_=z(_,1)}return v=w(I,k.j(v)),new E(k,v)}for(k=p;0<=I.l(v);){for(_=Math.max(1,Math.floor(I.m()/v.m())),N=Math.ceil(Math.log(_)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),S=d(_),b=S.j(v);j(b)||0<b.l(I);)_-=N,S=d(_),b=S.j(v);C(S)&&(S=g),k=k.add(S),I=w(I,b)}return new E(k,I)}t.A=function(I){return D(this,I).h},t.and=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],N=0;N<v;N++)_[N]=this.i(N)&I.i(N);return new o(_,this.h&I.h)},t.or=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],N=0;N<v;N++)_[N]=this.i(N)|I.i(N);return new o(_,this.h|I.h)},t.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],N=0;N<v;N++)_[N]=this.i(N)^I.i(N);return new o(_,this.h^I.h)};function V(I){for(var v=I.g.length+1,_=[],N=0;N<v;N++)_[N]=I.i(N)<<1|I.i(N-1)>>>31;return new o(_,I.h)}function z(I,v){var _=v>>5;v%=32;for(var N=I.g.length-_,k=[],S=0;S<N;S++)k[S]=0<v?I.i(S+_)>>>v|I.i(S+_+1)<<32-v:I.i(S+_);return new o(k,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Lw=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,xr=o}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var Za=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ow,so,Vw,Il,kh,Fw,Uw,zw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,m){return l==Array.prototype||l==Object.prototype||(l[h]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Za=="object"&&Za];for(var h=0;h<l.length;++h){var m=l[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var m=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var R=l[y];if(!(R in m))break e;m=m[R]}l=l[l.length-1],y=m[l],h=h(y),h!=y&&h!=null&&e(m,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var m=0,y=!1,R={next:function(){if(!y&&m<l.length){var M=m++;return{value:h(M,l[M]),done:!1}}return y=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function d(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function f(l,h,m){return l.call.apply(l.bind,arguments)}function p(l,h,m){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,y),l.apply(h,R)}}return function(){return l.apply(h,arguments)}}function g(l,h,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function T(l,h){var m=Array.prototype.slice.call(arguments,1);return function(){var y=m.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function C(l,h){function m(){}m.prototype=h.prototype,l.aa=h.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(y,R,M){for(var B=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)B[fe-2]=arguments[fe];return h.prototype[R].apply(y,B)}}function j(l){const h=l.length;if(0<h){const m=Array(h);for(let y=0;y<h;y++)m[y]=l[y];return m}return[]}function A(l,h){for(let m=1;m<arguments.length;m++){const y=arguments[m];if(u(y)){const R=l.length||0,M=y.length||0;l.length=R+M;for(let B=0;B<M;B++)l[R+B]=y[B]}else l.push(y)}}class w{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function x(l){return/^[\s\xa0]*$/.test(l)}function E(){var l=c.navigator;return l&&(l=l.userAgent)?l:""}function D(l){return D[" "](l),l}D[" "]=function(){};var V=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function z(l,h,m){for(const y in l)h.call(m,l[y],y,l)}function I(l,h){for(const m in l)h.call(void 0,l[m],m,l)}function v(l){const h={};for(const m in l)h[m]=l[m];return h}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(l,h){let m,y;for(let R=1;R<arguments.length;R++){y=arguments[R];for(m in y)l[m]=y[m];for(let M=0;M<_.length;M++)m=_[M],Object.prototype.hasOwnProperty.call(y,m)&&(l[m]=y[m])}}function k(l){var h=1;l=l.split(":");const m=[];for(;0<h&&l.length;)m.push(l.shift()),h--;return l.length&&m.push(l.join(":")),m}function S(l){c.setTimeout(()=>{throw l},0)}function b(){var l=q;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class oe{constructor(){this.h=this.g=null}add(h,m){const y=re.get();y.set(h,m),this.h?this.h.next=y:this.g=y,this.h=y}}var re=new w(()=>new Ae,l=>l.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,U=!1,q=new oe,J=()=>{const l=c.Promise.resolve(void 0);ee=()=>{l.then(pe)}};var pe=()=>{for(var l;l=b();){try{l.h.call(l.g)}catch(m){S(m)}var h=re;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}U=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Ft=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};c.addEventListener("test",m,h),c.removeEventListener("test",m,h)}catch{}return l}();function Be(l,h){if(ge.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(V){e:{try{D(h.nodeName);var R=!0;break e}catch{}R=!1}R||(h=null)}}else m=="mouseover"?h=l.fromElement:m=="mouseout"&&(h=l.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ut[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Be.aa.h.call(this)}}C(Be,ge);var Ut={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var pn="closure_listenable_"+(1e6*Math.random()|0),c_=0;function u_(l,h,m,y,R){this.listener=l,this.proxy=null,this.src=h,this.type=m,this.capture=!!y,this.ha=R,this.key=++c_,this.da=this.fa=!1}function ga(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ya(l){this.src=l,this.g={},this.h=0}ya.prototype.add=function(l,h,m,y,R){var M=l.toString();l=this.g[M],l||(l=this.g[M]=[],this.h++);var B=mu(l,h,y,R);return-1<B?(h=l[B],m||(h.fa=!1)):(h=new u_(h,this.src,M,!!y,R),h.fa=m,l.push(h)),h};function fu(l,h){var m=h.type;if(m in l.g){var y=l.g[m],R=Array.prototype.indexOf.call(y,h,void 0),M;(M=0<=R)&&Array.prototype.splice.call(y,R,1),M&&(ga(h),l.g[m].length==0&&(delete l.g[m],l.h--))}}function mu(l,h,m,y){for(var R=0;R<l.length;++R){var M=l[R];if(!M.da&&M.listener==h&&M.capture==!!m&&M.ha==y)return R}return-1}var pu="closure_lm_"+(1e6*Math.random()|0),gu={};function Wm(l,h,m,y,R){if(Array.isArray(h)){for(var M=0;M<h.length;M++)Wm(l,h[M],m,y,R);return null}return m=Gm(m),l&&l[pn]?l.K(h,m,d(y)?!!y.capture:!!y,R):d_(l,h,m,!1,y,R)}function d_(l,h,m,y,R,M){if(!h)throw Error("Invalid event type");var B=d(R)?!!R.capture:!!R,fe=vu(l);if(fe||(l[pu]=fe=new ya(l)),m=fe.add(h,m,y,B,M),m.proxy)return m;if(y=h_(),m.proxy=y,y.src=l,y.listener=m,l.addEventListener)Ft||(R=B),R===void 0&&(R=!1),l.addEventListener(h.toString(),y,R);else if(l.attachEvent)l.attachEvent(qm(h.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return m}function h_(){function l(m){return h.call(l.src,l.listener,m)}const h=f_;return l}function Hm(l,h,m,y,R){if(Array.isArray(h))for(var M=0;M<h.length;M++)Hm(l,h[M],m,y,R);else y=d(y)?!!y.capture:!!y,m=Gm(m),l&&l[pn]?(l=l.i,h=String(h).toString(),h in l.g&&(M=l.g[h],m=mu(M,m,y,R),-1<m&&(ga(M[m]),Array.prototype.splice.call(M,m,1),M.length==0&&(delete l.g[h],l.h--)))):l&&(l=vu(l))&&(h=l.g[h.toString()],l=-1,h&&(l=mu(h,m,y,R)),(m=-1<l?h[l]:null)&&yu(m))}function yu(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[pn])fu(h.i,l);else{var m=l.type,y=l.proxy;h.removeEventListener?h.removeEventListener(m,y,l.capture):h.detachEvent?h.detachEvent(qm(m),y):h.addListener&&h.removeListener&&h.removeListener(y),(m=vu(h))?(fu(m,l),m.h==0&&(m.src=null,h[pu]=null)):ga(l)}}}function qm(l){return l in gu?gu[l]:gu[l]="on"+l}function f_(l,h){if(l.da)l=!0;else{h=new Be(h,this);var m=l.listener,y=l.ha||l.src;l.fa&&yu(l),l=m.call(y,h)}return l}function vu(l){return l=l[pu],l instanceof ya?l:null}var xu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gm(l){return typeof l=="function"?l:(l[xu]||(l[xu]=function(h){return l.handleEvent(h)}),l[xu])}function Je(){le.call(this),this.i=new ya(this),this.M=this,this.F=null}C(Je,le),Je.prototype[pn]=!0,Je.prototype.removeEventListener=function(l,h,m,y){Hm(this,l,h,m,y)};function ct(l,h){var m,y=l.F;if(y)for(m=[];y;y=y.F)m.push(y);if(l=l.M,y=h.type||h,typeof h=="string")h=new ge(h,l);else if(h instanceof ge)h.target=h.target||l;else{var R=h;h=new ge(y,l),N(h,R)}if(R=!0,m)for(var M=m.length-1;0<=M;M--){var B=h.g=m[M];R=va(B,y,!0,h)&&R}if(B=h.g=l,R=va(B,y,!0,h)&&R,R=va(B,y,!1,h)&&R,m)for(M=0;M<m.length;M++)B=h.g=m[M],R=va(B,y,!1,h)&&R}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var m=l.g[h],y=0;y<m.length;y++)ga(m[y]);delete l.g[h],l.h--}}this.F=null},Je.prototype.K=function(l,h,m,y){return this.i.add(String(l),h,!1,m,y)},Je.prototype.L=function(l,h,m,y){return this.i.add(String(l),h,!0,m,y)};function va(l,h,m,y){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var R=!0,M=0;M<h.length;++M){var B=h[M];if(B&&!B.da&&B.capture==m){var fe=B.listener,$e=B.ha||B.src;B.fa&&fu(l.i,B),R=fe.call($e,y)!==!1&&R}}return R&&!y.defaultPrevented}function Km(l,h,m){if(typeof l=="function")m&&(l=g(l,m));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:c.setTimeout(l,h||0)}function Qm(l){l.g=Km(()=>{l.g=null,l.i&&(l.i=!1,Qm(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class m_ extends le{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Qm(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(l){le.call(this),this.h=l,this.g={}}C(Ss,le);var Ym=[];function Xm(l){z(l.g,function(h,m){this.g.hasOwnProperty(m)&&yu(h)},l),l.g={}}Ss.prototype.N=function(){Ss.aa.N.call(this),Xm(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wu=c.JSON.stringify,p_=c.JSON.parse,g_=class{stringify(l){return c.JSON.stringify(l,void 0)}parse(l){return c.JSON.parse(l,void 0)}};function _u(){}_u.prototype.h=null;function Jm(l){return l.h||(l.h=l.i())}function Zm(){}var Cs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bu(){ge.call(this,"d")}C(bu,ge);function Eu(){ge.call(this,"c")}C(Eu,ge);var Dr={},ep=null;function xa(){return ep=ep||new Je}Dr.La="serverreachability";function tp(l){ge.call(this,Dr.La,l)}C(tp,ge);function ks(l){const h=xa();ct(h,new tp(h))}Dr.STAT_EVENT="statevent";function np(l,h){ge.call(this,Dr.STAT_EVENT,l),this.stat=h}C(np,ge);function ut(l){const h=xa();ct(h,new np(h,l))}Dr.Ma="timingevent";function rp(l,h){ge.call(this,Dr.Ma,l),this.size=h}C(rp,ge);function js(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){l()},h)}function As(){this.g=!0}As.prototype.xa=function(){this.g=!1};function y_(l,h,m,y,R,M){l.info(function(){if(l.g)if(M)for(var B="",fe=M.split("&"),$e=0;$e<fe.length;$e++){var ce=fe[$e].split("=");if(1<ce.length){var Ze=ce[0];ce=ce[1];var et=Ze.split("_");B=2<=et.length&&et[1]=="type"?B+(Ze+"="+ce+"&"):B+(Ze+"=redacted&")}}else B=null;else B=M;return"XMLHTTP REQ ("+y+") [attempt "+R+"]: "+h+`
`+m+`
`+B})}function v_(l,h,m,y,R,M,B){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+R+"]: "+h+`
`+m+`
`+M+" "+B})}function hi(l,h,m,y){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+w_(l,m)+(y?" "+y:"")})}function x_(l,h){l.info(function(){return"TIMEOUT: "+h})}As.prototype.info=function(){};function w_(l,h){if(!l.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var y=m[l];if(!(2>y.length)){var R=y[1];if(Array.isArray(R)&&!(1>R.length)){var M=R[0];if(M!="noop"&&M!="stop"&&M!="close")for(var B=1;B<R.length;B++)R[B]=""}}}}return wu(m)}catch{return h}}var wa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ip={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tu;function _a(){}C(_a,_u),_a.prototype.g=function(){return new XMLHttpRequest},_a.prototype.i=function(){return{}},Tu=new _a;function $n(l,h,m,y){this.j=l,this.i=h,this.l=m,this.R=y||1,this.U=new Ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sp}function sp(){this.i=null,this.g="",this.h=!1}var op={},Iu={};function Nu(l,h,m){l.L=1,l.v=Ia(gn(h)),l.m=m,l.P=!0,ap(l,null)}function ap(l,h){l.F=Date.now(),ba(l),l.A=gn(l.v);var m=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),_p(m.i,"t",y),l.C=0,m=l.j.J,l.h=new sp,l.g=Fp(l.j,m?h:null,!l.m),0<l.O&&(l.M=new m_(g(l.Y,l,l.g),l.O)),h=l.U,m=l.g,y=l.ca;var R="readystatechange";Array.isArray(R)||(R&&(Ym[0]=R.toString()),R=Ym);for(var M=0;M<R.length;M++){var B=Wm(m,R[M],y||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),ks(),y_(l.i,l.u,l.A,l.l,l.R,l.m)}$n.prototype.ca=function(l){l=l.target;const h=this.M;h&&yn(l)==3?h.j():this.Y(l)},$n.prototype.Y=function(l){try{if(l==this.g)e:{const et=yn(this.g);var h=this.g.Ba();const pi=this.g.Z();if(!(3>et)&&(et!=3||this.g&&(this.h.h||this.g.oa()||Cp(this.g)))){this.J||et!=4||h==7||(h==8||0>=pi?ks(3):ks(2)),Su(this);var m=this.g.Z();this.X=m;t:if(lp(this)){var y=Cp(this.g);l="";var R=y.length,M=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mr(this),Rs(this);var B="";break t}this.h.i=new c.TextDecoder}for(h=0;h<R;h++)this.h.h=!0,l+=this.h.i.decode(y[h],{stream:!(M&&h==R-1)});y.length=0,this.h.g+=l,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=m==200,v_(this.i,this.u,this.A,this.l,this.R,et,m),this.o){if(this.T&&!this.K){t:{if(this.g){var fe,$e=this.g;if((fe=$e.g?$e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(fe)){var ce=fe;break t}}ce=null}if(m=ce)hi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cu(this,m);else{this.o=!1,this.s=3,ut(12),Mr(this),Rs(this);break e}}if(this.P){m=!0;let zt;for(;!this.J&&this.C<B.length;)if(zt=__(this,B),zt==Iu){et==4&&(this.s=4,ut(14),m=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==op){this.s=4,ut(15),hi(this.i,this.l,B,"[Invalid Chunk]"),m=!1;break}else hi(this.i,this.l,zt,null),Cu(this,zt);if(lp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),et!=4||B.length!=0||this.h.h||(this.s=1,ut(16),m=!1),this.o=this.o&&m,!m)hi(this.i,this.l,B,"[Invalid Chunked Response]"),Mr(this),Rs(this);else if(0<B.length&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.ba&&!Ze.M&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Du(Ze),Ze.M=!0,ut(11))}}else hi(this.i,this.l,B,null),Cu(this,B);et==4&&Mr(this),this.o&&!this.J&&(et==4?Mp(this.j,this):(this.o=!1,ba(this)))}else V_(this.g),m==400&&0<B.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Mr(this),Rs(this)}}}catch{}finally{}};function lp(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function __(l,h){var m=l.C,y=h.indexOf(`
`,m);return y==-1?Iu:(m=Number(h.substring(m,y)),isNaN(m)?op:(y+=1,y+m>h.length?Iu:(h=h.slice(y,y+m),l.C=y+m,h)))}$n.prototype.cancel=function(){this.J=!0,Mr(this)};function ba(l){l.S=Date.now()+l.I,cp(l,l.I)}function cp(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=js(g(l.ba,l),h)}function Su(l){l.B&&(c.clearTimeout(l.B),l.B=null)}$n.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(x_(this.i,this.A),this.L!=2&&(ks(),ut(17)),Mr(this),this.s=2,Rs(this)):cp(this,this.S-l)};function Rs(l){l.j.G==0||l.J||Mp(l.j,l)}function Mr(l){Su(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,Xm(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Cu(l,h){try{var m=l.j;if(m.G!=0&&(m.g==l||ku(m.h,l))){if(!l.K&&ku(m.h,l)&&m.G==3){try{var y=m.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var R=y;if(R[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)Aa(m),ka(m);else break e;Pu(m),ut(18)}}else m.za=R[1],0<m.za-m.T&&37500>R[2]&&m.F&&m.v==0&&!m.C&&(m.C=js(g(m.Za,m),6e3));if(1>=hp(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Or(m,11)}else if((l.K||m.g==l)&&Aa(m),!x(h))for(R=m.Da.g.parse(h),h=0;h<R.length;h++){let ce=R[h];if(m.T=ce[0],ce=ce[1],m.G==2)if(ce[0]=="c"){m.K=ce[1],m.ia=ce[2];const Ze=ce[3];Ze!=null&&(m.la=Ze,m.j.info("VER="+m.la));const et=ce[4];et!=null&&(m.Aa=et,m.j.info("SVER="+m.Aa));const pi=ce[5];pi!=null&&typeof pi=="number"&&0<pi&&(y=1.5*pi,m.L=y,m.j.info("backChannelRequestTimeoutMs_="+y)),y=m;const zt=l.g;if(zt){const Pa=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pa){var M=y.h;M.g||Pa.indexOf("spdy")==-1&&Pa.indexOf("quic")==-1&&Pa.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(ju(M,M.h),M.h=null))}if(y.D){const Mu=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Mu&&(y.ya=Mu,ye(y.I,y.D,Mu))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),y=m;var B=l;if(y.qa=Vp(y,y.J?y.ia:null,y.W),B.K){fp(y.h,B);var fe=B,$e=y.L;$e&&(fe.I=$e),fe.B&&(Su(fe),ba(fe)),y.g=B}else Pp(y);0<m.i.length&&ja(m)}else ce[0]!="stop"&&ce[0]!="close"||Or(m,7);else m.G==3&&(ce[0]=="stop"||ce[0]=="close"?ce[0]=="stop"?Or(m,7):Ru(m):ce[0]!="noop"&&m.l&&m.l.ta(ce),m.v=0)}}ks(4)}catch{}}var b_=class{constructor(l,h){this.g=l,this.map=h}};function up(l){this.l=l||10,c.PerformanceNavigationTiming?(l=c.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dp(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function hp(l){return l.h?1:l.g?l.g.size:0}function ku(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function ju(l,h){l.g?l.g.add(h):l.h=h}function fp(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}up.prototype.cancel=function(){if(this.i=mp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function mp(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const m of l.g.values())h=h.concat(m.D);return h}return j(l.i)}function E_(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],m=l.length,y=0;y<m;y++)h.push(l[y]);return h}h=[],m=0;for(y in l)h[m++]=l[y];return h}function T_(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var m=0;m<l;m++)h.push(m);return h}h=[],m=0;for(const y in l)h[m++]=y;return h}}}function pp(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var m=T_(l),y=E_(l),R=y.length,M=0;M<R;M++)h.call(void 0,y[M],m&&m[M],l)}var gp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function I_(l,h){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var y=l[m].indexOf("="),R=null;if(0<=y){var M=l[m].substring(0,y);R=l[m].substring(y+1)}else M=l[m];h(M,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function Lr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Lr){this.h=l.h,Ea(this,l.j),this.o=l.o,this.g=l.g,Ta(this,l.s),this.l=l.l;var h=l.i,m=new Ms;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),yp(this,m),this.m=l.m}else l&&(h=String(l).match(gp))?(this.h=!1,Ea(this,h[1]||"",!0),this.o=Ps(h[2]||""),this.g=Ps(h[3]||"",!0),Ta(this,h[4]),this.l=Ps(h[5]||"",!0),yp(this,h[6]||"",!0),this.m=Ps(h[7]||"")):(this.h=!1,this.i=new Ms(null,this.h))}Lr.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Ds(h,vp,!0),":");var m=this.g;return(m||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Ds(h,vp,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Ds(m,m.charAt(0)=="/"?C_:S_,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Ds(m,j_)),l.join("")};function gn(l){return new Lr(l)}function Ea(l,h,m){l.j=m?Ps(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Ta(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function yp(l,h,m){h instanceof Ms?(l.i=h,A_(l.i,l.h)):(m||(h=Ds(h,k_)),l.i=new Ms(h,l.h))}function ye(l,h,m){l.i.set(h,m)}function Ia(l){return ye(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ps(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ds(l,h,m){return typeof l=="string"?(l=encodeURI(l).replace(h,N_),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function N_(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var vp=/[#\/\?@]/g,S_=/[#\?:]/g,C_=/[#\?]/g,k_=/[#\?@]/g,j_=/#/g;function Ms(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Wn(l){l.g||(l.g=new Map,l.h=0,l.i&&I_(l.i,function(h,m){l.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=Ms.prototype,t.add=function(l,h){Wn(this),this.i=null,l=fi(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(h),this.h+=1,this};function xp(l,h){Wn(l),h=fi(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function wp(l,h){return Wn(l),h=fi(l,h),l.g.has(h)}t.forEach=function(l,h){Wn(this),this.g.forEach(function(m,y){m.forEach(function(R){l.call(h,R,y,this)},this)},this)},t.na=function(){Wn(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let y=0;y<h.length;y++){const R=l[y];for(let M=0;M<R.length;M++)m.push(h[y])}return m},t.V=function(l){Wn(this);let h=[];if(typeof l=="string")wp(this,l)&&(h=h.concat(this.g.get(fi(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)h=h.concat(l[m])}return h},t.set=function(l,h){return Wn(this),this.i=null,l=fi(this,l),wp(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function _p(l,h,m){xp(l,h),0<m.length&&(l.i=null,l.g.set(fi(l,h),j(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var y=h[m];const M=encodeURIComponent(String(y)),B=this.V(y);for(y=0;y<B.length;y++){var R=M;B[y]!==""&&(R+="="+encodeURIComponent(String(B[y]))),l.push(R)}}return this.i=l.join("&")};function fi(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function A_(l,h){h&&!l.j&&(Wn(l),l.i=null,l.g.forEach(function(m,y){var R=y.toLowerCase();y!=R&&(xp(this,y),_p(this,R,m))},l)),l.j=h}function R_(l,h){const m=new As;if(c.Image){const y=new Image;y.onload=T(Hn,m,"TestLoadImage: loaded",!0,h,y),y.onerror=T(Hn,m,"TestLoadImage: error",!1,h,y),y.onabort=T(Hn,m,"TestLoadImage: abort",!1,h,y),y.ontimeout=T(Hn,m,"TestLoadImage: timeout",!1,h,y),c.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else h(!1)}function P_(l,h){const m=new As,y=new AbortController,R=setTimeout(()=>{y.abort(),Hn(m,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:y.signal}).then(M=>{clearTimeout(R),M.ok?Hn(m,"TestPingServer: ok",!0,h):Hn(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(R),Hn(m,"TestPingServer: error",!1,h)})}function Hn(l,h,m,y,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),y(m)}catch{}}function D_(){this.g=new g_}function M_(l,h,m){const y=m||"";try{pp(l,function(R,M){let B=R;d(R)&&(B=wu(R)),h.push(y+M+"="+encodeURIComponent(B))})}catch(R){throw h.push(y+"type="+encodeURIComponent("_badmap")),R}}function Na(l){this.l=l.Ub||null,this.j=l.eb||!1}C(Na,_u),Na.prototype.g=function(){return new Sa(this.l,this.j)},Na.prototype.i=function(l){return function(){return l}}({});function Sa(l,h){Je.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Sa,Je),t=Sa.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Os(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||c).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ls(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Os(this)),this.g&&(this.readyState=3,Os(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bp(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function bp(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Ls(this):Os(this),this.readyState==3&&bp(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ls(this))},t.Qa=function(l){this.g&&(this.response=l,Ls(this))},t.ga=function(){this.g&&Ls(this)};function Ls(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Os(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=h.next();return l.join(`\r
`)};function Os(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Ep(l){let h="";return z(l,function(m,y){h+=y,h+=":",h+=m,h+=`\r
`}),h}function Au(l,h,m){e:{for(y in m){var y=!1;break e}y=!0}y||(m=Ep(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):ye(l,h,m))}function Se(l){Je.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Se,Je);var L_=/^https?$/i,O_=["POST","PUT"];t=Se.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,m,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tu.g(),this.v=this.o?Jm(this.o):Jm(Tu),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(M){Tp(this,M);return}if(l=m||"",m=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var R in y)m.set(R,y[R]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const M of y.keys())m.set(M,y.get(M));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(m.keys()).find(M=>M.toLowerCase()=="content-type"),R=c.FormData&&l instanceof c.FormData,!(0<=Array.prototype.indexOf.call(O_,h,void 0))||y||R||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,B]of m)this.g.setRequestHeader(M,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sp(this),this.u=!0,this.g.send(l),this.u=!1}catch(M){Tp(this,M)}};function Tp(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,Ip(l),Ca(l)}function Ip(l){l.A||(l.A=!0,ct(l,"complete"),ct(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ct(this,"complete"),ct(this,"abort"),Ca(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ca(this,!0)),Se.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Np(this):this.bb())},t.bb=function(){Np(this)};function Np(l){if(l.h&&typeof o<"u"&&(!l.v[1]||yn(l)!=4||l.Z()!=2)){if(l.u&&yn(l)==4)Km(l.Ea,0,l);else if(ct(l,"readystatechange"),yn(l)==4){l.h=!1;try{const B=l.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var y;if(y=B===0){var R=String(l.D).match(gp)[1]||null;!R&&c.self&&c.self.location&&(R=c.self.location.protocol.slice(0,-1)),y=!L_.test(R?R.toLowerCase():"")}m=y}if(m)ct(l,"complete"),ct(l,"success");else{l.m=6;try{var M=2<yn(l)?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.Z()+"]",Ip(l)}}finally{Ca(l)}}}}function Ca(l,h){if(l.g){Sp(l);const m=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||ct(l,"ready");try{m.onreadystatechange=y}catch{}}}function Sp(l){l.I&&(c.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function yn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),p_(h)}};function Cp(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function V_(l){const h={};l=(l.g&&2<=yn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(x(l[y]))continue;var m=k(l[y]);const R=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const M=h[R]||[];h[R]=M,M.push(m)}I(h,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vs(l,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||h}function kp(l){this.Aa=0,this.i=[],this.j=new As,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vs("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vs("baseRetryDelayMs",5e3,l),this.cb=Vs("retryDelaySeedMs",1e4,l),this.Wa=Vs("forwardChannelMaxRetries",2,l),this.wa=Vs("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new up(l&&l.concurrentRequestLimit),this.Da=new D_,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=kp.prototype,t.la=8,t.G=1,t.connect=function(l,h,m,y){ut(0),this.W=l,this.H=h||{},m&&y!==void 0&&(this.H.OSID=m,this.H.OAID=y),this.F=this.X,this.I=Vp(this,null,this.W),ja(this)};function Ru(l){if(jp(l),l.G==3){var h=l.U++,m=gn(l.I);if(ye(m,"SID",l.K),ye(m,"RID",h),ye(m,"TYPE","terminate"),Fs(l,m),h=new $n(l,l.j,h),h.L=2,h.v=Ia(gn(m)),m=!1,c.navigator&&c.navigator.sendBeacon)try{m=c.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&c.Image&&(new Image().src=h.v,m=!0),m||(h.g=Fp(h.j,null),h.g.ea(h.v)),h.F=Date.now(),ba(h)}Op(l)}function ka(l){l.g&&(Du(l),l.g.cancel(),l.g=null)}function jp(l){ka(l),l.u&&(c.clearTimeout(l.u),l.u=null),Aa(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&c.clearTimeout(l.s),l.s=null)}function ja(l){if(!dp(l.h)&&!l.s){l.s=!0;var h=l.Ga;ee||J(),U||(ee(),U=!0),q.add(h,l),l.B=0}}function F_(l,h){return hp(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=js(g(l.Ga,l,h),Lp(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const R=new $n(this,this.j,l);let M=this.o;if(this.S&&(M?(M=v(M),N(M,this.S)):M=this.S),this.m!==null||this.O||(R.H=M,M=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var y=this.i[m];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=Rp(this,R,h),m=gn(this.I),ye(m,"RID",l),ye(m,"CVER",22),this.D&&ye(m,"X-HTTP-Session-Id",this.D),Fs(this,m),M&&(this.O?h="headers="+encodeURIComponent(String(Ep(M)))+"&"+h:this.m&&Au(m,this.m,M)),ju(this.h,R),this.Ua&&ye(m,"TYPE","init"),this.P?(ye(m,"$req",h),ye(m,"SID","null"),R.T=!0,Nu(R,m,null)):Nu(R,m,h),this.G=2}}else this.G==3&&(l?Ap(this,l):this.i.length==0||dp(this.h)||Ap(this))};function Ap(l,h){var m;h?m=h.l:m=l.U++;const y=gn(l.I);ye(y,"SID",l.K),ye(y,"RID",m),ye(y,"AID",l.T),Fs(l,y),l.m&&l.o&&Au(y,l.m,l.o),m=new $n(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),h&&(l.i=h.D.concat(l.i)),h=Rp(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ju(l.h,m),Nu(m,y,h)}function Fs(l,h){l.H&&z(l.H,function(m,y){ye(h,y,m)}),l.l&&pp({},function(m,y){ye(h,y,m)})}function Rp(l,h,m){m=Math.min(l.i.length,m);var y=l.l?g(l.l.Na,l.l,l):null;e:{var R=l.i;let M=-1;for(;;){const B=["count="+m];M==-1?0<m?(M=R[0].g,B.push("ofs="+M)):M=0:B.push("ofs="+M);let fe=!0;for(let $e=0;$e<m;$e++){let ce=R[$e].g;const Ze=R[$e].map;if(ce-=M,0>ce)M=Math.max(0,R[$e].g-100),fe=!1;else try{M_(Ze,B,"req"+ce+"_")}catch{y&&y(Ze)}}if(fe){y=B.join("&");break e}}}return l=l.i.splice(0,m),h.D=l,y}function Pp(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;ee||J(),U||(ee(),U=!0),q.add(h,l),l.v=0}}function Pu(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=js(g(l.Fa,l),Lp(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Dp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=js(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),ka(this),Dp(this))};function Du(l){l.A!=null&&(c.clearTimeout(l.A),l.A=null)}function Dp(l){l.g=new $n(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=gn(l.qa);ye(h,"RID","rpc"),ye(h,"SID",l.K),ye(h,"AID",l.T),ye(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&ye(h,"TO",l.ja),ye(h,"TYPE","xmlhttp"),Fs(l,h),l.m&&l.o&&Au(h,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Ia(gn(h)),m.m=null,m.P=!0,ap(m,l)}t.Za=function(){this.C!=null&&(this.C=null,ka(this),Pu(this),ut(19))};function Aa(l){l.C!=null&&(c.clearTimeout(l.C),l.C=null)}function Mp(l,h){var m=null;if(l.g==h){Aa(l),Du(l),l.g=null;var y=2}else if(ku(l.h,h))m=h.D,fp(l.h,h),y=1;else return;if(l.G!=0){if(h.o)if(y==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var R=l.B;y=xa(),ct(y,new rp(y,m)),ja(l)}else Pp(l);else if(R=h.s,R==3||R==0&&0<h.X||!(y==1&&F_(l,h)||y==2&&Pu(l)))switch(m&&0<m.length&&(h=l.h,h.i=h.i.concat(m)),R){case 1:Or(l,5);break;case 4:Or(l,10);break;case 3:Or(l,6);break;default:Or(l,2)}}}function Lp(l,h){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*h}function Or(l,h){if(l.j.info("Error code "+h),h==2){var m=g(l.fb,l),y=l.Xa;const R=!y;y=new Lr(y||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ea(y,"https"),Ia(y),R?R_(y.toString(),m):P_(y.toString(),m)}else ut(2);l.G=0,l.l&&l.l.sa(h),Op(l),jp(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Op(l){if(l.G=0,l.ka=[],l.l){const h=mp(l.h);(h.length!=0||l.i.length!=0)&&(A(l.ka,h),A(l.ka,l.i),l.h.i.length=0,j(l.i),l.i.length=0),l.l.ra()}}function Vp(l,h,m){var y=m instanceof Lr?gn(m):new Lr(m);if(y.g!="")h&&(y.g=h+"."+y.g),Ta(y,y.s);else{var R=c.location;y=R.protocol,h=h?h+"."+R.hostname:R.hostname,R=+R.port;var M=new Lr(null);y&&Ea(M,y),h&&(M.g=h),R&&Ta(M,R),m&&(M.l=m),y=M}return m=l.D,h=l.ya,m&&h&&ye(y,m,h),ye(y,"VER",l.la),Fs(l,y),y}function Fp(l,h,m){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Se(new Na({eb:m})):new Se(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Up(){}t=Up.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ra(){}Ra.prototype.g=function(l,h){return new bt(l,h)};function bt(l,h){Je.call(this),this.g=new kp(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!x(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!x(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new mi(this)}C(bt,Je),bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bt.prototype.close=function(){Ru(this.g)},bt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=wu(l),l=m);h.i.push(new b_(h.Ya++,l)),h.G==3&&ja(h)},bt.prototype.N=function(){this.g.l=null,delete this.j,Ru(this.g),delete this.g,bt.aa.N.call(this)};function zp(l){bu.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const m in h){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}C(zp,bu);function Bp(){Eu.call(this),this.status=1}C(Bp,Eu);function mi(l){this.g=l}C(mi,Up),mi.prototype.ua=function(){ct(this.g,"a")},mi.prototype.ta=function(l){ct(this.g,new zp(l))},mi.prototype.sa=function(l){ct(this.g,new Bp)},mi.prototype.ra=function(){ct(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,bt.prototype.send=bt.prototype.o,bt.prototype.open=bt.prototype.m,bt.prototype.close=bt.prototype.close,zw=function(){return new Ra},Uw=function(){return xa()},Fw=Dr,kh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wa.NO_ERROR=0,wa.TIMEOUT=8,wa.HTTP_ERROR=6,Il=wa,ip.COMPLETE="complete",Vw=ip,Zm.EventType=Cs,Cs.OPEN="a",Cs.CLOSE="b",Cs.ERROR="c",Cs.MESSAGE="d",Je.prototype.listen=Je.prototype.K,so=Zm,Se.prototype.listenOnce=Se.prototype.L,Se.prototype.getLastError=Se.prototype.Ka,Se.prototype.getLastErrorCode=Se.prototype.Ba,Se.prototype.getStatus=Se.prototype.Z,Se.prototype.getResponseJson=Se.prototype.Oa,Se.prototype.getResponseText=Se.prototype.oa,Se.prototype.send=Se.prototype.ea,Se.prototype.setWithCredentials=Se.prototype.Ha,Ow=Se}).apply(typeof Za<"u"?Za:typeof self<"u"?self:typeof window<"u"?window:{});const b0="@firebase/firestore",E0="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ws="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=new Jf("@firebase/firestore");function _i(){return ri.logLevel}function $(t,...e){if(ri.logLevel<=te.DEBUG){const n=e.map(tm);ri.debug(`Firestore (${ws}): ${t}`,...n)}}function Ln(t,...e){if(ri.logLevel<=te.ERROR){const n=e.map(tm);ri.error(`Firestore (${ws}): ${t}`,...n)}}function is(t,...e){if(ri.logLevel<=te.WARN){const n=e.map(tm);ri.warn(`Firestore (${ws}): ${t}`,...n)}}function tm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t="Unexpected state"){const e=`FIRESTORE (${ws}) INTERNAL ASSERTION FAILED: `+t;throw Ln(e),new Error(e)}function ue(t,e){t||K()}function X(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Bn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class v4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(it.UNAUTHENTICATED))}shutdown(){}}class x4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class w4{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ue(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue(typeof r.accessToken=="string"),new Bw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string"),new it(e)}}class _4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=it.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class b4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new _4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E4{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,on(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){ue(this.o===void 0);const r=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new T0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ue(typeof n.token=="string"),this.R=n.token,new T0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=T4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ie(t,e){return t<e?-1:t>e?1:0}function ss(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=-62135596800,N0=1e6;class Oe{static now(){return Oe.fromMillis(Date.now())}static fromDate(e){return Oe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*N0);return new Oe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<I0)throw new H(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N0}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-I0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{static fromTimestamp(e){return new Y(e)}static min(){return new Y(new Oe(0,0))}static max(){return new Y(new Oe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="__name__";class rn{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(),r===void 0?r=e.length-n:r>e.length-n&&K(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=rn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=rn.isNumericId(e),i=rn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?rn.extractNumericId(e).compare(rn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xr.fromString(e.substring(4,e.length-2))}}class xe extends rn{construct(e,n,r){return new xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new xe(n)}static emptyPath(){return new xe([])}}const I4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends rn{construct(e,n,r){return new Ge(e,n,r)}static isValidIdentifier(e){return I4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===S0}static keyField(){return new Ge([S0])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new H(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new H(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new H(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(n)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(xe.fromString(e))}static fromName(e){return new G(xe.fromString(e).popFirst(5))}static empty(){return new G(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new xe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=-1;function N4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(r===1e9?new Oe(n+1,0):new Oe(n,r));return new Tr(i,G.empty(),e)}function S4(t){return new Tr(t.readTime,t.key,Bo)}class Tr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Tr(Y.min(),G.empty(),Bo)}static max(){return new Tr(Y.max(),G.empty(),Bo)}}function C4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _s(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==k4)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const s=e.length,o=new Array(s);let c=0;for(let u=0;u<s;u++){const d=u;n(e[d]).next(f=>{o[d]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new L((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function A4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Qc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=-1;function Yc(t){return t==null}function lc(t){return t===0&&1/t==-1/0}function R4(t){return typeof t=="number"&&Number.isInteger(t)&&!lc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="";function P4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=C0(e)),e=D4(t.get(n),e);return C0(e)}function D4(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Ww:n+="";break;default:n+=s}}return n}function C0(t){return t+Ww+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function li(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Hw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){this.comparator=e,this.root=n||He.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new el(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new el(this.root,e,this.comparator,!1)}getReverseIterator(){return new el(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new el(this.root,e,this.comparator,!0)}}class el{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??He.RED,this.left=i??He.EMPTY,this.right=s??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new He(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return He.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,n,r,i,s){return this}insert(e,n,r){return new He(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new j0(this.data.getIterator())}getIteratorFrom(e){return new j0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ve(this.comparator);return n.data=e,n}}class j0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new Gt([])}unionWith(e){let n=new Ve(Ge.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ss(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new qw("Invalid base64 string: "+s):s}}(e);return new Ye(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ye(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const M4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(t){if(ue(!!t),typeof t=="string"){let e=0;const n=M4.exec(t);if(ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(t.seconds),nanos:ke(t.nanos)}}function ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nr(t){return typeof t=="string"?Ye.fromBase64String(t):Ye.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="server_timestamp",Kw="__type__",Qw="__previous_value__",Yw="__local_write_time__";function rm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Kw])===null||n===void 0?void 0:n.stringValue)===Gw}function Xc(t){const e=t.mapValue.fields[Qw];return rm(e)?Xc(e):e}function $o(t){const e=Ir(t.mapValue.fields[Yw].timestampValue);return new Oe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n,r,i,s,o,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}}const cc="(default)";class Wo{constructor(e,n){this.projectId=e,this.database=n||cc}static empty(){return new Wo("","")}get isDefaultDatabase(){return this.database===cc}isEqual(e){return e instanceof Wo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="__type__",Jw="__max__",tl={mapValue:{fields:{__type__:{stringValue:Jw}}}},Zw="__vector__",uc="value";function Sr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rm(t)?4:V4(t)?9007199254740991:O4(t)?10:11:K()}function fn(t,e){if(t===e)return!0;const n=Sr(t);if(n!==Sr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $o(t).isEqual($o(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ir(i.timestampValue),c=Ir(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Nr(i.bytesValue).isEqual(Nr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ke(i.geoPointValue.latitude)===ke(s.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ke(i.integerValue)===ke(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ke(i.doubleValue),c=ke(s.doubleValue);return o===c?lc(o)===lc(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return ss(t.arrayValue.values||[],e.arrayValue.values||[],fn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(k0(o)!==k0(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!fn(o[u],c[u])))return!1;return!0}(t,e);default:return K()}}function Ho(t,e){return(t.values||[]).find(n=>fn(n,e))!==void 0}function os(t,e){if(t===e)return 0;const n=Sr(t),r=Sr(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){const c=ke(s.integerValue||s.doubleValue),u=ke(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return A0(t.timestampValue,e.timestampValue);case 4:return A0($o(t),$o(e));case 5:return ie(t.stringValue,e.stringValue);case 6:return function(s,o){const c=Nr(s),u=Nr(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const c=s.split("/"),u=o.split("/");for(let d=0;d<c.length&&d<u.length;d++){const f=ie(c[d],u[d]);if(f!==0)return f}return ie(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const c=ie(ke(s.latitude),ke(o.latitude));return c!==0?c:ie(ke(s.longitude),ke(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return R0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,d,f;const p=s.fields||{},g=o.fields||{},T=(c=p[uc])===null||c===void 0?void 0:c.arrayValue,C=(u=g[uc])===null||u===void 0?void 0:u.arrayValue,j=ie(((d=T==null?void 0:T.values)===null||d===void 0?void 0:d.length)||0,((f=C==null?void 0:C.values)===null||f===void 0?void 0:f.length)||0);return j!==0?j:R0(T,C)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===tl.mapValue&&o===tl.mapValue)return 0;if(s===tl.mapValue)return 1;if(o===tl.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const g=ie(u[p],f[p]);if(g!==0)return g;const T=os(c[u[p]],d[f[p]]);if(T!==0)return T}return ie(u.length,f.length)}(t.mapValue,e.mapValue);default:throw K()}}function A0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);const n=Ir(t),r=Ir(e),i=ie(n.seconds,r.seconds);return i!==0?i:ie(n.nanos,r.nanos)}function R0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=os(n[i],r[i]);if(s)return s}return ie(n.length,r.length)}function as(t){return jh(t)}function jh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ir(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Nr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=jh(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${jh(n.fields[o])}`;return i+"}"}(t.mapValue):K()}function Nl(t){switch(Sr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xc(t);return e?16+Nl(e):16;case 5:return 2*t.stringValue.length;case 6:return Nr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Nl(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return li(r.fields,(s,o)=>{i+=s.length+Nl(o)}),i}(t.mapValue);default:throw K()}}function P0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ah(t){return!!t&&"integerValue"in t}function im(t){return!!t&&"arrayValue"in t}function D0(t){return!!t&&"nullValue"in t}function M0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sl(t){return!!t&&"mapValue"in t}function O4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Xw])===null||n===void 0?void 0:n.stringValue)===Zw}function vo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return li(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function V4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Jw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.value=e}static empty(){return new Rt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vo(n)}setAll(e){let n=Ge.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=vo(o):i.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Sl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){li(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Rt(vo(this.value))}}function e1(t){const e=[];return li(t.fields,(n,r)=>{const i=new Ge([n]);if(Sl(r)){const s=e1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Gt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new ot(e,0,Y.min(),Y.min(),Y.min(),Rt.empty(),0)}static newFoundDocument(e,n,r,i){return new ot(e,1,n,Y.min(),r,i,0)}static newNoDocument(e,n){return new ot(e,2,n,Y.min(),Y.min(),Rt.empty(),0)}static newUnknownDocument(e,n){return new ot(e,3,n,Y.min(),Y.min(),Rt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n){this.position=e,this.inclusive=n}}function L0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),n.key):r=os(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function O0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n="asc"){this.field=e,this.dir=n}}function F4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{}class De extends t1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new z4(e,n,r):n==="array-contains"?new W4(e,r):n==="in"?new H4(e,r):n==="not-in"?new q4(e,r):n==="array-contains-any"?new G4(e,r):new De(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new B4(e,r):new $4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(os(n,this.value)):n!==null&&Sr(this.value)===Sr(n)&&this.matchesComparison(os(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jt extends t1{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Jt(e,n)}matches(e){return n1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function n1(t){return t.op==="and"}function r1(t){return U4(t)&&n1(t)}function U4(t){for(const e of t.filters)if(e instanceof Jt)return!1;return!0}function Rh(t){if(t instanceof De)return t.field.canonicalString()+t.op.toString()+as(t.value);if(r1(t))return t.filters.map(e=>Rh(e)).join(",");{const e=t.filters.map(n=>Rh(n)).join(",");return`${t.op}(${e})`}}function i1(t,e){return t instanceof De?function(r,i){return i instanceof De&&r.op===i.op&&r.field.isEqual(i.field)&&fn(r.value,i.value)}(t,e):t instanceof Jt?function(r,i){return i instanceof Jt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&i1(o,i.filters[c]),!0):!1}(t,e):void K()}function s1(t){return t instanceof De?function(n){return`${n.field.canonicalString()} ${n.op} ${as(n.value)}`}(t):t instanceof Jt?function(n){return n.op.toString()+" {"+n.getFilters().map(s1).join(" ,")+"}"}(t):"Filter"}class z4 extends De{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class B4 extends De{constructor(e,n){super(e,"in",n),this.keys=o1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $4 extends De{constructor(e,n){super(e,"not-in",n),this.keys=o1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function o1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class W4 extends De{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return im(n)&&Ho(n.arrayValue,this.value)}}class H4 extends De{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ho(this.value.arrayValue,n)}}class q4 extends De{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ho(this.value.arrayValue,n)}}class G4 extends De{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!im(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ho(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.le=null}}function V0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new K4(t,e,n,r,i,s,o)}function sm(t){const e=X(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Yc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>as(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>as(r)).join(",")),e.le=n}return e.le}function om(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!F4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!i1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!O0(t.startAt,e.startAt)&&O0(t.endAt,e.endAt)}function Ph(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Q4(t,e,n,r,i,s,o,c){return new aa(t,e,n,r,i,s,o,c)}function a1(t){return new aa(t)}function F0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function l1(t){return t.collectionGroup!==null}function xo(t){const e=X(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Ve(Ge.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new hc(s,r))}),n.has(Ge.keyField().canonicalString())||e.he.push(new hc(Ge.keyField(),r))}return e.he}function cn(t){const e=X(t);return e.Pe||(e.Pe=Y4(e,xo(t))),e.Pe}function Y4(t,e){if(t.limitType==="F")return V0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new hc(i.field,s)});const n=t.endAt?new dc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dc(t.startAt.position,t.startAt.inclusive):null;return V0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Dh(t,e){const n=t.filters.concat([e]);return new aa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mh(t,e,n){return new aa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jc(t,e){return om(cn(t),cn(e))&&t.limitType===e.limitType}function c1(t){return`${sm(cn(t))}|lt:${t.limitType}`}function bi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>s1(i)).join(", ")}]`),Yc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>as(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>as(i)).join(",")),`Target(${r})`}(cn(t))}; limitType=${t.limitType})`}function Zc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):G.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of xo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){const d=L0(o,c,u);return o.inclusive?d<=0:d<0}(r.startAt,xo(r),i)||r.endAt&&!function(o,c,u){const d=L0(o,c,u);return o.inclusive?d>=0:d>0}(r.endAt,xo(r),i))}(t,e)}function X4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function u1(t){return(e,n)=>{let r=!1;for(const i of xo(t)){const s=J4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function J4(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,o,c){const u=o.data.field(s),d=c.data.field(s);return u!==null&&d!==null?os(u,d):K()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){li(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Hw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=new Ne(G.comparator);function On(){return Z4}const d1=new Ne(G.comparator);function oo(...t){let e=d1;for(const n of t)e=e.insert(n.key,n);return e}function h1(t){let e=d1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hr(){return wo()}function f1(){return wo()}function wo(){return new ci(t=>t.toString(),(t,e)=>t.isEqual(e))}const eC=new Ne(G.comparator),tC=new Ve(G.comparator);function ne(...t){let e=tC;for(const n of t)e=e.add(n);return e}const nC=new Ve(ie);function rC(){return nC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(e)?"-0":e}}function m1(t){return{integerValue:""+t}}function iC(t,e){return R4(e)?m1(e):am(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(){this._=void 0}}function sC(t,e,n){return t instanceof fc?function(i,s){const o={fields:{[Kw]:{stringValue:Gw},[Yw]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&rm(s)&&(s=Xc(s)),s&&(o.fields[Qw]=s),{mapValue:o}}(n,e):t instanceof qo?g1(t,e):t instanceof Go?y1(t,e):function(i,s){const o=p1(i,s),c=U0(o)+U0(i.Ie);return Ah(o)&&Ah(i.Ie)?m1(c):am(i.serializer,c)}(t,e)}function oC(t,e,n){return t instanceof qo?g1(t,e):t instanceof Go?y1(t,e):n}function p1(t,e){return t instanceof mc?function(r){return Ah(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class fc extends eu{}class qo extends eu{constructor(e){super(),this.elements=e}}function g1(t,e){const n=v1(e);for(const r of t.elements)n.some(i=>fn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Go extends eu{constructor(e){super(),this.elements=e}}function y1(t,e){let n=v1(e);for(const r of t.elements)n=n.filter(i=>!fn(i,r));return{arrayValue:{values:n}}}class mc extends eu{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function U0(t){return ke(t.integerValue||t.doubleValue)}function v1(t){return im(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function aC(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qo&&i instanceof qo||r instanceof Go&&i instanceof Go?ss(r.elements,i.elements,fn):r instanceof mc&&i instanceof mc?fn(r.Ie,i.Ie):r instanceof fc&&i instanceof fc}(t.transform,e.transform)}class lC{constructor(e,n){this.version=e,this.transformResults=n}}class kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tu{}function x1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _1(t.key,kn.none()):new la(t.key,t.data,kn.none());{const n=t.data,r=Rt.empty();let i=new Ve(Ge.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ui(t.key,r,new Gt(i.toArray()),kn.none())}}function cC(t,e,n){t instanceof la?function(i,s,o){const c=i.value.clone(),u=B0(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof ui?function(i,s,o){if(!Cl(i.precondition,s))return void s.convertToUnknownDocument(o.version);const c=B0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(w1(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function _o(t,e,n,r){return t instanceof la?function(s,o,c,u){if(!Cl(s.precondition,o))return c;const d=s.value.clone(),f=$0(s.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof ui?function(s,o,c,u){if(!Cl(s.precondition,o))return c;const d=$0(s.fieldTransforms,u,o),f=o.data;return f.setAll(w1(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,c){return Cl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function uC(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=p1(r.transform,i||null);s!=null&&(n===null&&(n=Rt.empty()),n.set(r.field,s))}return n||null}function z0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ss(r,i,(s,o)=>aC(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class la extends tu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ui extends tu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function w1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function B0(t,e,n){const r=new Map;ue(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,oC(o,c,n[i]))}return r}function $0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,sC(s,o,e))}return r}class _1 extends tu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dC extends tu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&cC(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_o(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_o(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=f1();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;const u=x1(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&ss(this.mutations,e.mutations,(n,r)=>z0(n,r))&&ss(this.baseMutations,e.baseMutations,(n,r)=>z0(n,r))}}class lm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ue(e.mutations.length===r.length);let i=function(){return eC}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new lm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,se;function pC(t){switch(t){case O.OK:return K();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return K()}}function b1(t){if(t===void 0)return Ln("GRPC error has no .code"),O.UNKNOWN;switch(t){case Re.OK:return O.OK;case Re.CANCELLED:return O.CANCELLED;case Re.UNKNOWN:return O.UNKNOWN;case Re.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Re.INTERNAL:return O.INTERNAL;case Re.UNAVAILABLE:return O.UNAVAILABLE;case Re.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Re.NOT_FOUND:return O.NOT_FOUND;case Re.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Re.ABORTED:return O.ABORTED;case Re.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Re.DATA_LOSS:return O.DATA_LOSS;default:return K()}}(se=Re||(Re={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new xr([4294967295,4294967295],0);function W0(t){const e=gC().encode(t),n=new Lw;return n.update(e),new Uint8Array(n.digest())}function H0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xr([n,r],0),new xr([i,s],0)]}class cm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ao(`Invalid padding: ${n}`);if(r<0)throw new ao(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ao(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ao(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=xr.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(xr.fromNumber(r)));return i.compare(yC)===1&&(i=new xr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=W0(e),[r,i]=H0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new cm(s,i,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ee===0)return;const n=W0(e),[r,i]=H0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ao extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ca.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new nu(Y.min(),i,new Ne(ie),On(),ne())}}class ca{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ca(r,n,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class E1{constructor(e,n){this.targetId=e,this.ge=n}}class T1{constructor(e,n,r=Ye.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class q0{constructor(){this.pe=0,this.ye=G0(),this.we=Ye.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=ne(),n=ne(),r=ne();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:K()}}),new ca(this.we,this.be,e,n,r)}Me(){this.Se=!1,this.ye=G0()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ue(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class vC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=On(),this.$e=nl(),this.Ke=nl(),this.Ue=new Ne(ie)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const s=i.target;if(Ph(s))if(r===0){const o=new G(s.path);this.ze(n,o,ot.newNoDocument(o,Y.min()))}else ue(r===1);else{const o=this.et(n);if(o!==r){const c=this.tt(e),u=c?this.nt(c,e,o):1;if(u!==0){this.Ye(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,d)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,c;try{o=Nr(r).toUint8Array()}catch(u){if(u instanceof qw)return is("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new cm(o,i,s)}catch(u){return is(u instanceof ao?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ee===0?null:c}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.it(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.ze(n,s,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((s,o)=>{const c=this.Xe(o);if(c){if(s.current&&Ph(c.target)){const u=new G(c.target.path);this._t(u).has(o)||this.ut(o,u)||this.ze(o,u,ot.newNoDocument(u,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let r=ne();this.Ke.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{const d=this.Xe(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new nu(e,n,this.Ue,this.Qe,r);return this.Qe=On(),this.$e=nl(),this.Ke=nl(),this.Ue=new Ne(ie),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new q0,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Ve(ie),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ve(ie),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new q0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function nl(){return new Ne(G.comparator)}function G0(){return new Ne(G.comparator)}const xC={asc:"ASCENDING",desc:"DESCENDING"},wC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_C={and:"AND",or:"OR"};class bC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lh(t,e){return t.useProto3Json||Yc(e)?e:{value:e}}function pc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function I1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EC(t,e){return pc(t,e.toTimestamp())}function un(t){return ue(!!t),Y.fromTimestamp(function(n){const r=Ir(n);return new Oe(r.seconds,r.nanos)}(t))}function um(t,e){return Oh(t,e).canonicalString()}function Oh(t,e){const n=function(i){return new xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function N1(t){const e=xe.fromString(t);return ue(A1(e)),e}function Vh(t,e){return um(t.databaseId,e.path)}function vd(t,e){const n=N1(e);if(n.get(1)!==t.databaseId.projectId)throw new H(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(C1(n))}function S1(t,e){return um(t.databaseId,e)}function TC(t){const e=N1(t);return e.length===4?xe.emptyPath():C1(e)}function Fh(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function C1(t){return ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function K0(t,e,n){return{name:Vh(t,e),fields:n.value.mapValue.fields}}function IC(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,f){return d.useProto3Json?(ue(f===void 0||typeof f=="string"),Ye.fromBase64String(f||"")):(ue(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Ye.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(d){const f=d.code===void 0?O.UNKNOWN:b1(d.code);return new H(f,d.message||"")}(o);n=new T1(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vd(t,r.document.name),s=un(r.document.updateTime),o=r.document.createTime?un(r.document.createTime):Y.min(),c=new Rt({mapValue:{fields:r.document.fields}}),u=ot.newFoundDocument(i,s,o,c),d=r.targetIds||[],f=r.removedTargetIds||[];n=new kl(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vd(t,r.document),s=r.readTime?un(r.readTime):Y.min(),o=ot.newNoDocument(i,s),c=r.removedTargetIds||[];n=new kl([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vd(t,r.document),s=r.removedTargetIds||[];n=new kl([],s,i,null)}else{if(!("filter"in e))return K();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new mC(i,s),c=r.targetId;n=new E1(c,o)}}return n}function NC(t,e){let n;if(e instanceof la)n={update:K0(t,e.key,e.value)};else if(e instanceof _1)n={delete:Vh(t,e.key)};else if(e instanceof ui)n={update:K0(t,e.key,e.data),updateMask:MC(e.fieldMask)};else{if(!(e instanceof dC))return K();n={verify:Vh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const c=o.transform;if(c instanceof fc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof qo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Go)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof mc)return{fieldPath:o.field.canonicalString(),increment:c.Ie};throw K()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:EC(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:K()}(t,e.precondition)),n}function SC(t,e){return t&&t.length>0?(ue(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?un(i.updateTime):un(s);return o.isEqual(Y.min())&&(o=un(s)),new lC(o,i.transformResults||[])}(n,e))):[]}function CC(t,e){return{documents:[S1(t,e.path)]}}function kC(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=S1(t,i);const s=function(d){if(d.length!==0)return j1(Jt.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(f=>function(g){return{field:Ei(g.field),direction:RC(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=Lh(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ht:n,parent:i}}function jC(t){let e=TC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ue(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){const g=k1(p);return g instanceof Jt&&r1(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(C){return new hc(Ti(C.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(n.orderBy));let c=null;n.limit&&(c=function(p){let g;return g=typeof p=="object"?p.value:p,Yc(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,T=p.values||[];return new dc(T,g)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const g=!p.before,T=p.values||[];return new dc(T,g)}(n.endAt)),Q4(e,i,o,s,c,"F",u,d)}function AC(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function k1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ti(n.unaryFilter.field);return De.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ti(n.unaryFilter.field);return De.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ti(n.unaryFilter.field);return De.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ti(n.unaryFilter.field);return De.create(o,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(n){return De.create(Ti(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jt.create(n.compositeFilter.filters.map(r=>k1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K()}}(n.compositeFilter.op))}(t):K()}function RC(t){return xC[t]}function PC(t){return wC[t]}function DC(t){return _C[t]}function Ei(t){return{fieldPath:t.canonicalString()}}function Ti(t){return Ge.fromServerFormat(t.fieldPath)}function j1(t){return t instanceof De?function(n){if(n.op==="=="){if(M0(n.value))return{unaryFilter:{field:Ei(n.field),op:"IS_NAN"}};if(D0(n.value))return{unaryFilter:{field:Ei(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(M0(n.value))return{unaryFilter:{field:Ei(n.field),op:"IS_NOT_NAN"}};if(D0(n.value))return{unaryFilter:{field:Ei(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ei(n.field),op:PC(n.op),value:n.value}}}(t):t instanceof Jt?function(n){const r=n.getFilters().map(i=>j1(i));return r.length===1?r[0]:{compositeFilter:{op:DC(n.op),filters:r}}}(t):K()}function MC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function A1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n,r,i,s=Y.min(),o=Y.min(),c=Ye.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.Tt=e}}function OC(t){const e=jC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.Tn=new FC}addToCollectionParentIndex(e,n){return this.Tn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Tr.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Tr.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class FC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ve(xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ve(xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},R1=41943040;class gt{static withCacheSize(e){return new gt(e,gt.DEFAULT_COLLECTION_PERCENTILE,gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gt.DEFAULT_COLLECTION_PERCENTILE=10,gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gt.DEFAULT=new gt(R1,gt.DEFAULT_COLLECTION_PERCENTILE,gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gt.DISABLED=new gt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ls(0)}static Un(){return new ls(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="LruGarbageCollector",UC=1048576;function X0([t,e],[n,r]){const i=ie(t,n);return i===0?ie(e,r):i}class zC{constructor(e){this.Hn=e,this.buffer=new Ve(X0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();X0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class BC{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){$(Y0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bs(n)?$(Y0,"Ignoring IndexedDB error during garbage collection: ",n):await _s(n)}await this.er(3e5)})}}class $C{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(Qc.ae);const r=new zC(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(Q0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,s,o,c,u,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(d=Date.now(),_i()<=te.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${s} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function WC(t,e){return new $C(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.changes=new ci(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&_o(r.mutation,i,Gt.empty(),Oe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){const i=Hr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=oo();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Hr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=On();const o=wo(),c=function(){return wo()}();return n.forEach((u,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof ui)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),_o(f.mutation,d,f.mutation.getFieldMask(),Oe.now())):o.set(d.key,Gt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>{var p;return c.set(d,new qC(f,(p=o.get(d))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){const r=wo();let i=new Ne((o,c)=>o-c),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const c of o)c.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let f=r.get(u)||Gt.empty();f=c.applyToLocalView(d,f),r.set(u,f);const p=(i.get(c.batchId)||ne()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,f=u.value,p=f1();f.forEach(g=>{if(!s.has(g)){const T=x1(n.get(g),r.get(g));T!==null&&p.set(g,T),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):l1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):L.resolve(Hr());let c=Bo,u=s;return o.next(d=>L.forEach(d,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(f)?L.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,ne())).next(f=>({batchId:c,changes:h1(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=oo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=oo();return this.indexManager.getCollectionParents(e,s).next(c=>L.forEach(c,u=>{const d=function(p,g){return new aa(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,ot.newInvalidDocument(f)))});let c=oo();return o.forEach((u,d)=>{const f=s.get(u);f!==void 0&&_o(f.mutation,d,Gt.empty(),Oe.now()),Zc(n,d)&&(c=c.insert(u,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return L.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:un(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:OC(i.bundledQuery),readTime:un(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.overlays=new Ne(G.comparator),this.Rr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hr();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Et(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=Hr(),s=n.length+1,o=new G(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ne((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=Hr(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const c=Hr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=i)););return L.resolve(c)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fC(n,r));let s=this.Rr.get(n);s===void 0&&(s=ne(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(){this.Vr=new Ve(Fe.mr),this.gr=new Ve(Fe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Fe(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Fe(e,n))}br(e,n){e.forEach(r=>this.removeReference(r,n))}Sr(e){const n=new G(new xe([])),r=new Fe(n,e),i=new Fe(n,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new G(new xe([])),r=new Fe(n,e),i=new Fe(n,e+1);let s=ne();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Fe(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Fe{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return G.comparator(e.key,n.key)||ie(e.Cr,n.Cr)}static pr(e,n){return ie(e.Cr,n.Cr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ve(Fe.mr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new hC(s,n,r,i);this.mutationQueue.push(o);for(const c of i)this.Mr=this.Mr.add(new Fe(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?nm:this.Fr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fe(n,0),i=new Fe(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const c=this.Or(o.Cr);s.push(c)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ve(ie);return n.forEach(i=>{const s=new Fe(i,0),o=new Fe(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],c=>{r=r.add(c.Cr)})}),L.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;G.isDocumentKey(s)||(s=s.child(""));const o=new Fe(new G(s),0);let c=new Ve(ie);return this.Mr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.Cr)),!0)},o),L.resolve(this.Br(c))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ue(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return L.forEach(n.mutations,i=>{const s=new Fe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Fe(n,0),i=this.Mr.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.kr=e,this.docs=function(){return new Ne(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():ot.newInvalidDocument(n))}getEntries(e,n){let r=On();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ot.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=On();const o=n.path,c=new G(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||C4(S4(f),r)<=0||(i.has(f.key)||Zc(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,r,i){K()}qr(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ZC(this)}getSize(e){return L.resolve(this.size)}}class ZC extends HC{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.persistence=e,this.Qr=new ci(n=>sm(n),om),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.$r=0,this.Kr=new dm,this.targetCount=0,this.Ur=ls.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),L.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new ls(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.zn(n),L.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Qr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Kr.br(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Qc(0),this.zr=!1,this.zr=!0,this.jr=new YC,this.referenceDelegate=e(this),this.Hr=new ek(this),this.indexManager=new VC,this.remoteDocumentCache=function(i){return new JC(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new LC(n),this.Yr=new KC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new XC(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);const i=new tk(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,n){return L.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class tk extends j4{constructor(e){super(),this.currentSequenceNumber=e}}class hm{constructor(e){this.persistence=e,this.ti=new dm,this.ni=null}static ri(e){return new hm(e)}get ii(){if(this.ni)return this.ni;throw K()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),L.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.ii,r=>{const i=G.fromPath(r);return this.si(e,i).next(s=>{s||n.removeEntry(i,Y.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return L.or([()=>L.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class gc{constructor(e,n){this.persistence=e,this.oi=new ci(r=>P4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=WC(this,n)}static ri(e,n){return new gc(e,n)}Zr(){}Xr(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return L.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?L.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,n).next(c=>{c||(r++,s.removeEntry(o,Y.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),L.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nl(e.data.value)),n}ar(e,n,r){return L.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return L.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=ne(),i=ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new fm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return eS()?8:A4(lt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new nk;return this._s(e,n,o).next(c=>{if(s.result=c,this.Xi)return this.us(e,n,o,c.size)})}).next(()=>s.result)}us(e,n,r,i){return r.documentReadCount<this.es?(_i()<=te.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",bi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),L.resolve()):(_i()<=te.DEBUG&&$("QueryEngine","Query:",bi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(_i()<=te.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",bi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cn(n))):L.resolve())}rs(e,n){if(F0(n))return L.resolve(null);let r=cn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Mh(n,null,"F"),r=cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ne(...s);return this.ns.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.cs(n,c);return this.ls(n,d,o,u.readTime)?this.rs(e,Mh(n,null,"F")):this.hs(e,d,n,u)}))})))}ss(e,n,r,i){return F0(n)||i.isEqual(Y.min())?L.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(n,s);return this.ls(n,o,r,i)?L.resolve(null):(_i()<=te.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bi(n)),this.hs(e,o,n,N4(i,Bo)).next(c=>c))})}cs(e,n){let r=new Ve(u1(e));return n.forEach((i,s)=>{Zc(e,s)&&(r=r.add(s))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,n,r){return _i()<=te.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",bi(n)),this.ns.getDocumentsMatchingQuery(e,n,Tr.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="LocalStore",ik=3e8;class sk{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Ne(ie),this.Is=new ci(s=>sm(s),om),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function ok(t,e,n,r){return new sk(t,e,n,r)}async function D1(t,e){const n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],c=[];let u=ne();for(const d of i){o.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of s){c.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(d=>({Rs:d,removedBatchIds:o,addedBatchIds:c}))})})}function ak(t,e){const n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(c,u,d,f){const p=d.batch,g=p.keys();let T=L.resolve();return g.forEach(C=>{T=T.next(()=>f.getEntry(u,C)).next(j=>{const A=d.docVersions.get(C);ue(A!==null),j.version.compareTo(A)<0&&(p.applyToRemoteDocument(j,d),j.isValidDocument()&&(j.setReadTime(d.commitVersion),f.addEntry(j)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ne();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function M1(t){const e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function lk(t,e){const n=X(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const c=[];e.targetChanges.forEach((f,p)=>{const g=i.get(p);if(!g)return;c.push(n.Hr.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Hr.addMatchingKeys(s,f.addedDocuments,p)));let T=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?T=T.withResumeToken(Ye.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):f.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(f.resumeToken,r)),i=i.insert(p,T),function(j,A,w){return j.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=ik?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(g,T,f)&&c.push(n.Hr.updateTargetData(s,T))});let u=On(),d=ne();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),c.push(ck(s,o,e.documentUpdates).next(f=>{u=f.Vs,d=f.fs})),!r.isEqual(Y.min())){const f=n.Hr.getLastRemoteSnapshotVersion(s).next(p=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(f)}return L.waitFor(c).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.Ts=i,s))}function ck(t,e,n){let r=ne(),i=ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=On();return n.forEach((c,u)=>{const d=s.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(Y.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):$(mm,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{Vs:o,fs:i}})}function uk(t,e){const n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=nm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dk(t,e){const n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):n.Hr.allocateTargetId(r).next(o=>(i=new ar(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Uh(t,e,n){const r=X(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!bs(o))throw o;$(mm,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function J0(t,e,n){const r=X(t);let i=Y.min(),s=ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,f){const p=X(u),g=p.Is.get(f);return g!==void 0?L.resolve(p.Ts.get(g)):p.Hr.getTargetData(d,f)}(r,o,cn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?i:Y.min(),n?s:ne())).next(c=>(hk(r,X4(e),c),{documents:c,gs:s})))}function hk(t,e,n){let r=t.Es.get(e)||Y.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(e,r)}class Z0{constructor(){this.activeTargetIds=rC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fk{constructor(){this.ho=new Z0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Z0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="ConnectivityMonitor";class ty{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){$(ey,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){$(ey,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl=null;function zh(){return rl===null?rl=function(){return 268435456+Math.round(2147483648*Math.random())}():rl++,"0x"+rl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="RestConnection",pk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gk{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===cc?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,n,r,i,s){const o=zh(),c=this.So(e,n.toUriEncodedString());$(xd,`Sending RPC '${e}' ${o}:`,c,r);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,i,s),this.vo(e,c,u,r).then(d=>($(xd,`Received RPC '${e}' ${o}: `,d),d),d=>{throw is(xd,`RPC '${e}' ${o} failed with error: `,d,"url: ",c,"request:",r),d})}Co(e,n,r,i,s,o){return this.bo(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ws}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}So(e,n){const r=pk[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt="WebChannelConnection";class vk extends gk{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=zh();return new Promise((o,c)=>{const u=new Ow;u.setWithCredentials(!0),u.listenOnce(Vw.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Il.NO_ERROR:const f=u.getResponseJson();$(rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Il.TIMEOUT:$(rt,`RPC '${e}' ${s} timed out`),c(new H(O.DEADLINE_EXCEEDED,"Request time out"));break;case Il.HTTP_ERROR:const p=u.getStatus();if($(rt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const T=g==null?void 0:g.error;if(T&&T.status&&T.message){const C=function(A){const w=A.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(w)>=0?w:O.UNKNOWN}(T.status);c(new H(C,T.message))}else c(new H(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new H(O.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{$(rt,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);$(rt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Wo(e,n,r){const i=zh(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zw(),c=Uw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");$(rt,`Creating RPC '${e}' stream ${i}: ${f}`,u);const p=o.createWebChannel(f,u);let g=!1,T=!1;const C=new yk({Fo:A=>{T?$(rt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(g||($(rt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),$(rt,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Mo:()=>p.close()}),j=(A,w,x)=>{A.listen(w,E=>{try{x(E)}catch(D){setTimeout(()=>{throw D},0)}})};return j(p,so.EventType.OPEN,()=>{T||($(rt,`RPC '${e}' stream ${i} transport opened.`),C.Qo())}),j(p,so.EventType.CLOSE,()=>{T||(T=!0,$(rt,`RPC '${e}' stream ${i} transport closed`),C.Ko())}),j(p,so.EventType.ERROR,A=>{T||(T=!0,is(rt,`RPC '${e}' stream ${i} transport errored:`,A),C.Ko(new H(O.UNAVAILABLE,"The operation could not be completed")))}),j(p,so.EventType.MESSAGE,A=>{var w;if(!T){const x=A.data[0];ue(!!x);const E=x,D=(E==null?void 0:E.error)||((w=E[0])===null||w===void 0?void 0:w.error);if(D){$(rt,`RPC '${e}' stream ${i} received error:`,D);const V=D.status;let z=function(_){const N=Re[_];if(N!==void 0)return b1(N)}(V),I=D.message;z===void 0&&(z=O.INTERNAL,I="Unknown error status: "+V+" with message "+D.message),T=!0,C.Ko(new H(z,I)),p.close()}else $(rt,`RPC '${e}' stream ${i} received:`,x),C.Uo(x)}}),j(c,Fw.STAT_EVENT,A=>{A.stat===kh.PROXY?$(rt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===kh.NOPROXY&&$(rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.$o()},0),C}}function wd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){return new bC(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="PersistentStream";class O1{constructor(e,n,r,i,s,o,c,u){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new L1(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(Ln(n.toString()),Ln("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new H(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return $(ny,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():($(ny,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xk extends O1{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=IC(this.serializer,e),r=function(s){if(!("targetChange"in s))return Y.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Y.min():o.readTime?un(o.readTime):Y.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Fh(this.serializer),n.addTarget=function(s,o){let c;const u=o.target;if(c=Ph(u)?{documents:CC(s,u)}:{query:kC(s,u).ht},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=I1(s,o.resumeToken);const d=Lh(s,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(Y.min())>0){c.readTime=pc(s,o.snapshotVersion.toTimestamp());const d=Lh(s,o.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=AC(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Fh(this.serializer),n.removeTarget=e,this.I_(n)}}class wk extends O1{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return ue(!!e.streamToken),this.lastStreamToken=e.streamToken,ue(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=SC(e.writeResults,e.commitTime),r=un(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Fh(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>NC(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{}class bk extends _k{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new H(O.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.bo(e,Oh(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(O.UNKNOWN,s.toString())})}Co(e,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Co(e,Oh(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(O.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Ek{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ln(n),this.N_=!1):$("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii="RemoteStore";class Tk{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{di(this)&&($(ii,"Restarting streams for network reachability change."),await async function(u){const d=X(u);d.W_.add(4),await ua(d),d.j_.set("Unknown"),d.W_.delete(4),await iu(d)}(this))})}),this.j_=new Ek(r,i)}}async function iu(t){if(di(t))for(const e of t.G_)await e(!0)}async function ua(t){for(const e of t.G_)await e(!1)}function V1(t,e){const n=X(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),vm(n)?ym(n):Es(n).c_()&&gm(n,e))}function pm(t,e){const n=X(t),r=Es(n);n.U_.delete(e),r.c_()&&F1(n,e),n.U_.size===0&&(r.c_()?r.P_():di(n)&&n.j_.set("Unknown"))}function gm(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Es(t).y_(e)}function F1(t,e){t.H_.Ne(e),Es(t).w_(e)}function ym(t){t.H_=new vC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Es(t).start(),t.j_.B_()}function vm(t){return di(t)&&!Es(t).u_()&&t.U_.size>0}function di(t){return X(t).W_.size===0}function U1(t){t.H_=void 0}async function Ik(t){t.j_.set("Online")}async function Nk(t){t.U_.forEach((e,n)=>{gm(t,e)})}async function Sk(t,e){U1(t),vm(t)?(t.j_.q_(e),ym(t)):t.j_.set("Unknown")}async function Ck(t,e,n){if(t.j_.set("Online"),e instanceof T1&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const c of s.targetIds)i.U_.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.U_.delete(c),i.H_.removeTarget(c))}(t,e)}catch(r){$(ii,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yc(t,r)}else if(e instanceof kl?t.H_.We(e):e instanceof E1?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Y.min()))try{const r=await M1(t.localStore);n.compareTo(r)>=0&&await function(s,o){const c=s.H_.ot(o);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.U_.get(d);f&&s.U_.set(d,f.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,d)=>{const f=s.U_.get(u);if(!f)return;s.U_.set(u,f.withResumeToken(Ye.EMPTY_BYTE_STRING,f.snapshotVersion)),F1(s,u);const p=new ar(f.target,u,d,f.sequenceNumber);gm(s,p)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){$(ii,"Failed to raise snapshot:",r),await yc(t,r)}}async function yc(t,e,n){if(!bs(e))throw e;t.W_.add(1),await ua(t),t.j_.set("Offline"),n||(n=()=>M1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$(ii,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await iu(t)})}function z1(t,e){return e().catch(n=>yc(t,n,e))}async function su(t){const e=X(t),n=Cr(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:nm;for(;kk(e);)try{const i=await uk(e.localStore,r);if(i===null){e.K_.length===0&&n.P_();break}r=i.batchId,jk(e,i)}catch(i){await yc(e,i)}B1(e)&&$1(e)}function kk(t){return di(t)&&t.K_.length<10}function jk(t,e){t.K_.push(e);const n=Cr(t);n.c_()&&n.b_&&n.S_(e.mutations)}function B1(t){return di(t)&&!Cr(t).u_()&&t.K_.length>0}function $1(t){Cr(t).start()}async function Ak(t){Cr(t).C_()}async function Rk(t){const e=Cr(t);for(const n of t.K_)e.S_(n.mutations)}async function Pk(t,e,n){const r=t.K_.shift(),i=lm.from(r,e,n);await z1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await su(t)}async function Dk(t,e){e&&Cr(t).b_&&await async function(r,i){if(function(o){return pC(o)&&o!==O.ABORTED}(i.code)){const s=r.K_.shift();Cr(r).h_(),await z1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await su(r)}}(t,e),B1(t)&&$1(t)}async function ry(t,e){const n=X(t);n.asyncQueue.verifyOperationInProgress(),$(ii,"RemoteStore received new credentials");const r=di(n);n.W_.add(3),await ua(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await iu(n)}async function Mk(t,e){const n=X(t);e?(n.W_.delete(2),await iu(n)):e||(n.W_.add(2),await ua(n),n.j_.set("Unknown"))}function Es(t){return t.J_||(t.J_=function(n,r,i){const s=X(n);return s.M_(),new xk(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:Ik.bind(null,t),No:Nk.bind(null,t),Lo:Sk.bind(null,t),p_:Ck.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),vm(t)?ym(t):t.j_.set("Unknown")):(await t.J_.stop(),U1(t))})),t.J_}function Cr(t){return t.Y_||(t.Y_=function(n,r,i){const s=X(n);return s.M_(),new wk(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:Ak.bind(null,t),Lo:Dk.bind(null,t),D_:Rk.bind(null,t),v_:Pk.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await su(t)):(await t.Y_.stop(),t.K_.length>0&&($(ii,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,c=new xm(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wm(t,e){if(Ln("AsyncQueue",`${e}: ${t}`),bs(t))return new H(O.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{static emptySet(e){return new qi(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=oo(),this.sortedSet=new Ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(){this.Z_=new Ne(G.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):K():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class cs{constructor(e,n,r,i,s,o,c,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new cs(e,n,qi.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Ok{constructor(){this.queries=sy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=X(n),s=i.queries;i.queries=sy(),s.forEach((o,c)=>{for(const u of c.ta)u.onError(r)})})(this,new H(O.ABORTED,"Firestore shutting down"))}}function sy(){return new ci(t=>c1(t),Jc)}async function Vk(t,e){const n=X(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new Lk,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const c=wm(o,`Initialization of query '${bi(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&_m(n)}async function Fk(t,e){const n=X(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Uk(t,e){const n=X(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const c of o.ta)c.oa(i)&&(r=!0);o.ea=i}}r&&_m(n)}function zk(t,e,n){const r=X(t),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(e)}function _m(t){t.ia.forEach(e=>{e.next()})}var Bh,oy;(oy=Bh||(Bh={}))._a="default",oy.Cache="cache";class Bk{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new cs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=cs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Bh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.key=e}}class H1{constructor(e){this.key=e}}class $k{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ne(),this.mutatedKeys=ne(),this.ya=u1(e),this.wa=new qi(this.ya)}get ba(){return this.fa}Sa(e,n){const r=n?n.Da:new iy,i=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const g=i.get(f),T=Zc(this.query,p)?p:null,C=!!g&&this.mutatedKeys.has(g.key),j=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let A=!1;g&&T?g.data.isEqual(T.data)?C!==j&&(r.track({type:3,doc:T}),A=!0):this.va(g,T)||(r.track({type:2,doc:T}),A=!0,(u&&this.ya(T,u)>0||d&&this.ya(T,d)<0)&&(c=!0)):!g&&T?(r.track({type:0,doc:T}),A=!0):g&&!T&&(r.track({type:1,doc:g}),A=!0,(u||d)&&(c=!0)),A&&(T?(o=o.add(T),s=j?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{wa:o,Da:r,ls:c,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((f,p)=>function(T,C){const j=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return j(T)-j(C)}(f.type,p.type)||this.ya(f.doc,p.doc)),this.Ca(r),i=i!=null&&i;const c=n&&!i?this.Fa():[],u=this.pa.size===0&&this.current&&!i?1:0,d=u!==this.ga;return this.ga=u,o.length!==0||d?{snapshot:new cs(this.query,e.wa,s,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new iy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ne(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new H1(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new W1(r))}),n}Oa(e){this.fa=e.gs,this.pa=ne();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return cs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const bm="SyncEngine";class Wk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Hk{constructor(e){this.key=e,this.Ba=!1}}class qk{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new ci(c=>c1(c),Jc),this.qa=new Map,this.Qa=new Set,this.$a=new Ne(G.comparator),this.Ka=new Map,this.Ua=new dm,this.Wa={},this.Ga=new Map,this.za=ls.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Gk(t,e,n=!0){const r=X1(t);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await q1(r,e,n,!0),i}async function Kk(t,e){const n=X1(t);await q1(n,e,!0,!1)}async function q1(t,e,n,r){const i=await dk(t.localStore,cn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await Qk(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&V1(t.remoteStore,i),c}async function Qk(t,e,n,r,i){t.Ha=(p,g,T)=>async function(j,A,w,x){let E=A.view.Sa(w);E.ls&&(E=await J0(j.localStore,A.query,!1).then(({documents:I})=>A.view.Sa(I,E)));const D=x&&x.targetChanges.get(A.targetId),V=x&&x.targetMismatches.get(A.targetId)!=null,z=A.view.applyChanges(E,j.isPrimaryClient,D,V);return ly(j,A.targetId,z.Ma),z.snapshot}(t,p,g,T);const s=await J0(t.localStore,e,!0),o=new $k(e,s.gs),c=o.Sa(s.documents),u=ca.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(c,t.isPrimaryClient,u);ly(t,n,d.Ma);const f=new Wk(e,n,o);return t.ka.set(e,f),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),d.snapshot}async function Yk(t,e,n){const r=X(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!Jc(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Uh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&pm(r.remoteStore,i.targetId),$h(r,i.targetId)}).catch(_s)):($h(r,i.targetId),await Uh(r.localStore,i.targetId,!0))}async function Xk(t,e){const n=X(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pm(n.remoteStore,r.targetId))}async function Jk(t,e,n){const r=sj(t);try{const i=await function(o,c){const u=X(o),d=Oe.now(),f=c.reduce((T,C)=>T.add(C.key),ne());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",T=>{let C=On(),j=ne();return u.ds.getEntries(T,f).next(A=>{C=A,C.forEach((w,x)=>{x.isValidDocument()||(j=j.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(T,C)).next(A=>{p=A;const w=[];for(const x of c){const E=uC(x,p.get(x.key).overlayedDocument);E!=null&&w.push(new ui(x.key,E,e1(E.value.mapValue),kn.exists(!0)))}return u.mutationQueue.addMutationBatch(T,d,w,c)}).next(A=>{g=A;const w=A.applyToLocalDocumentSet(p,j);return u.documentOverlayCache.saveOverlays(T,A.batchId,w)})}).then(()=>({batchId:g.batchId,changes:h1(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let d=o.Wa[o.currentUser.toKey()];d||(d=new Ne(ie)),d=d.insert(c,u),o.Wa[o.currentUser.toKey()]=d}(r,i.batchId,n),await da(r,i.changes),await su(r.remoteStore)}catch(i){const s=wm(i,"Failed to persist write");n.reject(s)}}async function G1(t,e){const n=X(t);try{const r=await lk(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ka.get(s);o&&(ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?ue(o.Ba):i.removedDocuments.size>0&&(ue(o.Ba),o.Ba=!1))}),await da(n,r,e)}catch(r){await _s(r)}}function ay(t,e,n){const r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((s,o)=>{const c=o.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){const u=X(o);u.onlineState=c;let d=!1;u.queries.forEach((f,p)=>{for(const g of p.ta)g.sa(c)&&(d=!0)}),d&&_m(u)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Zk(t,e,n){const r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ka.get(e),s=i&&i.key;if(s){let o=new Ne(G.comparator);o=o.insert(s,ot.newNoDocument(s,Y.min()));const c=ne().add(s),u=new nu(Y.min(),new Map,new Ne(ie),o,c);await G1(r,u),r.$a=r.$a.remove(s),r.Ka.delete(e),Em(r)}else await Uh(r.localStore,e,!1).then(()=>$h(r,e,n)).catch(_s)}async function ej(t,e){const n=X(t),r=e.batch.batchId;try{const i=await ak(n.localStore,e);Q1(n,r,null),K1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await da(n,i)}catch(i){await _s(i)}}async function tj(t,e,n){const r=X(t);try{const i=await function(o,c){const u=X(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(p=>(ue(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(d,p))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(r.localStore,e);Q1(r,e,n),K1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await da(r,i)}catch(i){await _s(i)}}function K1(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function Q1(t,e,n){const r=X(t);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function $h(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(r=>{t.Ua.containsKey(r)||Y1(t,r)})}function Y1(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(pm(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),Em(t))}function ly(t,e,n){for(const r of n)r instanceof W1?(t.Ua.addReference(r.key,e),nj(t,r)):r instanceof H1?($(bm,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||Y1(t,r.key)):K()}function nj(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||($(bm,"New document in limbo: "+n),t.Qa.add(r),Em(t))}function Em(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new G(xe.fromString(e)),r=t.za.next();t.Ka.set(r,new Hk(n)),t.$a=t.$a.insert(n,r),V1(t.remoteStore,new ar(cn(a1(n.path)),r,"TargetPurposeLimboResolution",Qc.ae))}}async function da(t,e,n){const r=X(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((c,u)=>{o.push(r.Ha(u,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(d){i.push(d);const p=fm.Yi(u.targetId,d);s.push(p)}}))}),await Promise.all(o),r.La.p_(i),await async function(u,d){const f=X(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(d,g=>L.forEach(g.Hi,T=>f.persistence.referenceDelegate.addReference(p,g.targetId,T)).next(()=>L.forEach(g.Ji,T=>f.persistence.referenceDelegate.removeReference(p,g.targetId,T)))))}catch(p){if(!bs(p))throw p;$(mm,"Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const T=f.Ts.get(g),C=T.snapshotVersion,j=T.withLastLimboFreeSnapshotVersion(C);f.Ts=f.Ts.insert(g,j)}}}(r.localStore,s))}async function rj(t,e){const n=X(t);if(!n.currentUser.isEqual(e)){$(bm,"User change. New user:",e.toKey());const r=await D1(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(c=>{c.forEach(u=>{u.reject(new H(O.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await da(n,r.Rs)}}function ij(t,e){const n=X(t),r=n.Ka.get(e);if(r&&r.Ba)return ne().add(r.key);{let i=ne();const s=n.qa.get(e);if(!s)return i;for(const o of s){const c=n.ka.get(o);i=i.unionWith(c.view.ba)}return i}}function X1(t){const e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=G1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ij.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zk.bind(null,e),e.La.p_=Uk.bind(null,e.eventManager),e.La.Ja=zk.bind(null,e.eventManager),e}function sj(t){const e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ej.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tj.bind(null,e),e}class vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ru(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return ok(this.persistence,new rk,e.initialUser,this.serializer)}Xa(e){return new P1(hm.ri,this.serializer)}Za(e){return new fk}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vc.provider={build:()=>new vc};class oj extends vc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){ue(this.persistence.referenceDelegate instanceof gc);const r=this.persistence.referenceDelegate.garbageCollector;return new BC(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?gt.withCacheSize(this.cacheSizeBytes):gt.DEFAULT;return new P1(r=>gc.ri(r,n),this.serializer)}}class Wh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ay(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rj.bind(null,this.syncEngine),await Mk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ok}()}createDatastore(e){const n=ru(e.databaseInfo.databaseId),r=function(s){return new vk(s)}(e.databaseInfo);return function(s,o,c,u){return new bk(s,o,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,c){return new Tk(r,i,s,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>ay(this.syncEngine,n,0),function(){return ty.D()?new ty:new mk}())}createSyncEngine(e,n){return function(i,s,o,c,u,d,f){const p=new qk(i,s,o,c,u,d);return f&&(p.ja=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=X(i);$(ii,"RemoteStore shutting down."),s.W_.add(5),await ua(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Wh.provider={build:()=>new Wh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ln("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="FirestoreClient";class lj{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=it.UNAUTHENTICATED,this.clientId=$w.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{$(kr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>($(kr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _d(t,e){t.asyncQueue.verifyOperationInProgress(),$(kr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await D1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cj(t);$(kr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ry(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ry(e.remoteStore,i)),t._onlineComponents=e}async function cj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$(kr,"Using user provided OfflineComponentProvider");try{await _d(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;is("Error using user provided cache. Falling back to memory cache: "+n),await _d(t,new vc)}}else $(kr,"Using default OfflineComponentProvider"),await _d(t,new oj(void 0));return t._offlineComponents}async function J1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($(kr,"Using user provided OnlineComponentProvider"),await cy(t,t._uninitializedComponentsProvider._online)):($(kr,"Using default OnlineComponentProvider"),await cy(t,new Wh))),t._onlineComponents}function uj(t){return J1(t).then(e=>e.syncEngine)}async function dj(t){const e=await J1(t),n=e.eventManager;return n.onListen=Gk.bind(null,e.syncEngine),n.onUnlisten=Yk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Kk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Xk.bind(null,e.syncEngine),n}function hj(t,e,n={}){const r=new wr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,c,u,d){const f=new aj({next:g=>{f.su(),o.enqueueAndForget(()=>Fk(s,p)),g.fromCache&&u.source==="server"?d.reject(new H(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new Bk(c,f,{includeMetadataChanges:!0,Ta:!0});return Vk(s,p)}(await dj(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t,e,n){if(!n)throw new H(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fj(t,e,n,r){if(e===!0&&r===!0)throw new H(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dy(t){if(!G.isDocumentKey(t))throw new H(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hy(t){if(G.isDocumentKey(t))throw new H(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ou(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function xc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ou(t);throw new H(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="firestore.googleapis.com",fy=!0;class my{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=t2,this.ssl=fy}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:fy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=R1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UC)throw new H(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class au{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new my({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new my(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new v4;switch(r.type){case"firstParty":return new b4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uy.get(n);r&&($("ComponentProvider","Removing Datastore"),uy.delete(n),r.terminate())}(this),Promise.resolve()}}function mj(t,e,n,r={}){var i;const s=(t=xc(t,au))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;s.host!==t2&&s.host!==c&&is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:c,ssl:!1,emulatorOptions:r});if(!ti(u,o)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=it.MOCK_USER;else{d=GN(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new H(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new it(p)}t._authCredentials=new x4(new Bw(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ts(this.firestore,e,this._query)}}class Mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}}class _r extends Ts{constructor(e,n,r){super(e,n,a1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new G(e))}withConverter(e){return new _r(this.firestore,e,this._path)}}function Ko(t,e,...n){if(t=Vt(t),e2("collection","path",e),t instanceof au){const r=xe.fromString(e,...n);return hy(r),new _r(t,null,r)}{if(!(t instanceof Mt||t instanceof _r))throw new H(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xe.fromString(e,...n));return hy(r),new _r(t.firestore,null,r)}}function pj(t,e,...n){if(t=Vt(t),arguments.length===1&&(e=$w.newId()),e2("doc","path",e),t instanceof au){const r=xe.fromString(e,...n);return dy(r),new Mt(t,null,new G(r))}{if(!(t instanceof Mt||t instanceof _r))throw new H(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xe.fromString(e,...n));return dy(r),new Mt(t.firestore,t instanceof _r?t.converter:null,new G(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="AsyncQueue";class gy{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new L1(this,"async_queue_retry"),this.bu=()=>{const r=wd();r&&$(py,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const n=wd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=wd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new wr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!bs(e))throw e;$(py,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw Ln("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=xm.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&K()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Tm extends au{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new gy,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gy(e),this._firestoreClient=void 0,await e}}}function gj(t,e){const n=typeof t=="object"?t:Pw(),r=typeof t=="string"?t:cc,i=em(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=HN("firestore");s&&mj(i,...s)}return i}function n2(t){if(t._terminated)throw new H(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||yj(t),t._firestoreClient}function yj(t){var e,n,r;const i=t._freezeSettings(),s=function(c,u,d,f){return new L4(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Z1(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new lj(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this._byteString=e}static fromBase64String(e){try{return new us(Ye.fromBase64String(e))}catch(n){throw new H(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new us(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=/^__.*__$/;class xj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new la(e,this.data,n,this.fieldTransforms)}}function i2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}class Cm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Cm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return wc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(i2(this.Lu)&&vj.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class wj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ru(e)}ju(e,n,r,i=!1){return new Cm({Lu:e,methodName:n,zu:r,path:Ge.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function s2(t){const e=t._freezeSettings(),n=ru(t._databaseId);return new wj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _j(t,e,n,r,i,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);l2("Data must be an object, but it was:",o,r);const c=o2(r,o);let u,d;if(s.merge)u=new Gt(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const g=Ej(e,p,n);if(!o.contains(g))throw new H(O.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Ij(f,g)||f.push(g)}u=new Gt(f),d=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,d=o.fieldTransforms;return new xj(new Rt(c),u,d)}function bj(t,e,n,r=!1){return km(n,t.ju(r?4:3,e))}function km(t,e){if(a2(t=Vt(t)))return l2("Unsupported field value:",e,t),o2(t,e);if(t instanceof r2)return function(r,i){if(!i2(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const c of r){let u=km(c,i.Uu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iC(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Oe.fromDate(r);return{timestampValue:pc(i.serializer,s)}}if(r instanceof Oe){const s=new Oe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pc(i.serializer,s)}}if(r instanceof Nm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof us)return{bytesValue:I1(i.serializer,r._byteString)};if(r instanceof Mt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:um(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Sm)return function(o,c){return{mapValue:{fields:{[Xw]:{stringValue:Zw},[uc]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw c.Wu("VectorValues must only contain numeric values.");return am(c.serializer,d)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${ou(r)}`)}(t,e)}function o2(t,e){const n={};return Hw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):li(t,(r,i)=>{const s=km(i,e.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function a2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Oe||t instanceof Nm||t instanceof us||t instanceof Mt||t instanceof r2||t instanceof Sm)}function l2(t,e,n){if(!a2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ou(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function Ej(t,e,n){if((e=Vt(e))instanceof Im)return e._internalPath;if(typeof e=="string")return c2(t,e);throw wc("Field path arguments must be of type string or ",t,!1,void 0,n)}const Tj=new RegExp("[~\\*/\\[\\]]");function c2(t,e,n){if(e.search(Tj)>=0)throw wc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Im(...e.split("."))._internalPath}catch{throw wc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new H(O.INVALID_ARGUMENT,c+t+u)}function Ij(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Nj extends u2{data(){return super.data()}}function jm(t,e){return typeof e=="string"?c2(t,e):e instanceof Im?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Am{}class Cj extends Am{}function kj(t,e,...n){let r=[];e instanceof Am&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof Rm).length,c=s.filter(u=>u instanceof lu).length;if(o>1||o>0&&c>0)throw new H(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class lu extends Cj{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new lu(e,n,r)}_apply(e){const n=this._parse(e);return d2(e._query,n),new Ts(e.firestore,e.converter,Dh(e._query,n))}_parse(e){const n=s2(e.firestore);return function(s,o,c,u,d,f,p){let g;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new H(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){vy(p,f);const C=[];for(const j of p)C.push(yy(u,s,j));g={arrayValue:{values:C}}}else g=yy(u,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||vy(p,f),g=bj(c,o,p,f==="in"||f==="not-in");return De.create(d,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function jj(t,e,n){const r=e,i=jm("where",t);return lu._create(i,r,n)}class Rm extends Am{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Rm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Jt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const c=s.getFlattenedFilters();for(const u of c)d2(o,u),o=Dh(o,u)}(e._query,n),new Ts(e.firestore,e.converter,Dh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function yy(t,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new H(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l1(e)&&n.indexOf("/")!==-1)throw new H(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(xe.fromString(n));if(!G.isDocumentKey(r))throw new H(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return P0(t,new G(r))}if(n instanceof Mt)return P0(t,n._key);throw new H(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ou(n)}.`)}function vy(t,e){if(!Array.isArray(t)||t.length===0)throw new H(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function d2(t,e){const n=function(i,s){for(const o of i)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Aj{convertValue(e,n="none"){switch(Sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw K()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return li(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[uc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ke(o.doubleValue));return new Sm(s)}convertGeoPoint(e){return new Nm(ke(e.latitude),ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($o(e));default:return null}}convertTimestamp(e){const n=Ir(e);return new Oe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xe.fromString(e);ue(A1(r));const i=new Wo(r.get(1),r.get(3)),s=new G(r.popFirst(5));return i.isEqual(n)||Ln(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pj extends u2{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(jm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class jl extends Pj{data(e={}){return super.data(e)}}class Dj{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new il(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jl(this._firestore,this._userDataWriter,r.key,r,new il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{const u=new jl(i._firestore,i._userDataWriter,c.doc.key,c.doc,new il(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const u=new jl(i._firestore,i._userDataWriter,c.doc.key,c.doc,new il(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:Mj(c.type),doc:u,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Mj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}class Lj extends Aj{constructor(e){super(),this.firestore=e}convertBytes(e){return new us(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function Oj(t){t=xc(t,Ts);const e=xc(t.firestore,Tm),n=n2(e),r=new Lj(e);return Sj(t._query),hj(n,t._query).then(i=>new Dj(e,r,t,i))}function cu(t,e){const n=xc(t.firestore,Tm),r=pj(t),i=Rj(t.converter,e);return Vj(n,[_j(s2(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,kn.exists(!1))]).then(()=>r)}function Vj(t,e){return function(r,i){const s=new wr;return r.asyncQueue.enqueueAndForget(async()=>Jk(await uj(r),i,s)),s.promise}(n2(t),e)}(function(e,n=!0){(function(i){ws=i})(xs),rs(new ni("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),c=new Tm(new w4(r.getProvider("auth-internal")),new E4(o,r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new H(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wo(d.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),vr(b0,E0,e),vr(b0,E0,"esm2017")})();var Fj="firebase",Uj="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr(Fj,Uj,"app");function Pm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function h2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zj=h2,f2=new sa("auth","Firebase",h2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new Jf("@firebase/auth");function Bj(t,...e){_c.logLevel<=te.WARN&&_c.warn(`Auth (${xs}): ${t}`,...e)}function Al(t,...e){_c.logLevel<=te.ERROR&&_c.error(`Auth (${xs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t,...e){throw Dm(t,...e)}function dn(t,...e){return Dm(t,...e)}function m2(t,e,n){const r=Object.assign(Object.assign({},zj()),{[e]:n});return new sa("auth","Firebase",r).create(e,{appName:t.name})}function Qr(t){return m2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return f2.create(t,...e)}function Q(t,e,...n){if(!t)throw Dm(e,...n)}function Tn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Al(e),new Error(e)}function Fn(t,e){t||Tn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $j(){return xy()==="http:"||xy()==="https:"}function xy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($j()||XN()||"connection"in navigator)?navigator.onLine:!0}function Hj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fn(n>e,"Short delay should be less than long delay!"),this.isMobile=KN()||JN()}get(){return Wj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t,e){Fn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=new ha(3e4,6e4);function Lm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Is(t,e,n,r,i={}){return g2(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const c=oa(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:u},s);return YN()||(d.referrerPolicy="no-referrer"),p2.fetch()(y2(t,t.config.apiHost,n,c),d)})}async function g2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},qj),e);try{const i=new Qj(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw sl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw sl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw sl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw sl(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw m2(t,f,d);Vn(t,f)}}catch(i){if(i instanceof Bn)throw i;Vn(t,"network-request-failed",{message:String(i)})}}async function Kj(t,e,n,r,i={}){const s=await Is(t,e,n,r,i);return"mfaPendingCredential"in s&&Vn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function y2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Mm(t.config,i):`${t.config.apiScheme}://${i}`}class Qj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(dn(this.auth,"network-request-failed")),Gj.get())})}}function sl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=dn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yj(t,e){return Is(t,"POST","/v1/accounts:delete",e)}async function v2(t,e){return Is(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Xj(t,e=!1){const n=Vt(t),r=await n.getIdToken(e),i=Om(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:bo(bd(i.auth_time)),issuedAtTime:bo(bd(i.iat)),expirationTime:bo(bd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function bd(t){return Number(t)*1e3}function Om(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Al("JWT malformed, contained fewer than 3 sections"),null;try{const i=Nw(n);return i?JSON.parse(i):(Al("Failed to decode base64 JWT payload"),null)}catch(i){return Al("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wy(t){const e=Om(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bn&&Jj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Jj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bo(this.lastLoginAt),this.creationTime=bo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Qo(t,v2(n,{idToken:r}));Q(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?x2(s.providerUserInfo):[],c=t3(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(c!=null&&c.length),f=u?d:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new qh(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function e3(t){const e=Vt(t);await bc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function t3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function x2(t){return t.map(e=>{var{providerId:n}=e,r=Pm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n3(t,e){const n=await g2(t,{},async()=>{const r=oa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=y2(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",p2.fetch()(o,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function r3(t,e){return Is(t,"POST","/v2/accounts:revokeToken",Lm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const n=wy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await n3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Gi;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gi,this.toJSON())}_performRefresh(){return Tn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class In{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Pm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Qo(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Xj(this,e)}reload(){return e3(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new In(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await Qo(this,Yj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,d,f;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,T=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,j=(c=n.tenantId)!==null&&c!==void 0?c:void 0,A=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,w=(d=n.createdAt)!==null&&d!==void 0?d:void 0,x=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:E,emailVerified:D,isAnonymous:V,providerData:z,stsTokenManager:I}=n;Q(E&&I,e,"internal-error");const v=Gi.fromJSON(this.name,I);Q(typeof E=="string",e,"internal-error"),Gn(p,e.name),Gn(g,e.name),Q(typeof D=="boolean",e,"internal-error"),Q(typeof V=="boolean",e,"internal-error"),Gn(T,e.name),Gn(C,e.name),Gn(j,e.name),Gn(A,e.name),Gn(w,e.name),Gn(x,e.name);const _=new In({uid:E,auth:e,email:g,emailVerified:D,displayName:p,isAnonymous:V,photoURL:C,phoneNumber:T,tenantId:j,stsTokenManager:v,createdAt:w,lastLoginAt:x});return z&&Array.isArray(z)&&(_.providerData=z.map(N=>Object.assign({},N))),A&&(_._redirectEventId=A),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new Gi;i.updateFromServerResponse(n);const s=new In({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await bc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Q(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?x2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new Gi;c.updateFromIdToken(r);const u=new In({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new qh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=new Map;function Nn(t){Fn(t instanceof Function,"Expected a class definition");let e=_y.get(t);return e?(Fn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_y.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}w2.type="NONE";const by=w2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t,e,n){return`firebase:${t}:${e}:${n}`}class Ki{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Rl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Rl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?In._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ki(Nn(by),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Nn(by);const o=Rl(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const f=await d._get(o);if(f){const p=In._fromJSON(e,f);d!==s&&(c=p),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ki(s,e,r):(s=u[0],c&&await s._set(o,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new Ki(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(T2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(N2(e))return"Blackberry";if(S2(e))return"Webos";if(b2(e))return"Safari";if((e.includes("chrome/")||E2(e))&&!e.includes("edge/"))return"Chrome";if(I2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _2(t=lt()){return/firefox\//i.test(t)}function b2(t=lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function E2(t=lt()){return/crios\//i.test(t)}function T2(t=lt()){return/iemobile/i.test(t)}function I2(t=lt()){return/android/i.test(t)}function N2(t=lt()){return/blackberry/i.test(t)}function S2(t=lt()){return/webos/i.test(t)}function Vm(t=lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function i3(t=lt()){var e;return Vm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function s3(){return ZN()&&document.documentMode===10}function C2(t=lt()){return Vm(t)||I2(t)||S2(t)||N2(t)||/windows phone/i.test(t)||T2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t,e=[]){let n;switch(t){case"Browser":n=Ey(lt());break;case"Worker":n=`${Ey(lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,c)=>{try{const u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(t,e={}){return Is(t,"GET","/v2/passwordPolicy",Lm(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=6;class c3{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:l3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ty(this),this.idTokenSubscription=new Ty(this),this.beforeStateQueue=new o3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ki.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await v2(this,{idToken:e}),r=await In._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(on(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Hj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(Qr(this));const n=e?Vt(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await a3(this),n=new c3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await r3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Nn(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await Ki.create(this,[Nn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Bj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fm(t){return Vt(t)}class Ty{constructor(e){this.auth=e,this.observer=null,this.addObserver=aS(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function d3(t){Um=t}function h3(t){return Um.loadJS(t)}function f3(){return Um.gapiScript}function m3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t,e){const n=em(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ti(s,e??{}))return i;Vn(i,"already-initialized")}return n.initialize({options:e})}function g3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function y3(t,e,n){const r=Fm(t);Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=j2(e),{host:o,port:c}=v3(e),u=c===null?"":`:${c}`,d={url:`${s}//${o}${u}/`},f=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Q(ti(d,r.config.emulator)&&ti(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,x3()}function j2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function v3(t){const e=j2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Iy(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Iy(o)}}}function Iy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function x3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Tn("not implemented")}_getIdTokenResponse(e){return Tn("not implemented")}_linkToIdToken(e,n){return Tn("not implemented")}_getReauthenticationResolver(e){return Tn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qi(t,e){return Kj(t,"POST","/v1/accounts:signInWithIdp",Lm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="http://localhost";class si extends A2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new si(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Pm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new si(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Qi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qi(e,n)}buildRequest(){const e={requestUri:w3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=oa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends R2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends fa{constructor(){super("facebook.com")}static credential(e){return si._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends fa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return si._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return tr.credential(n,r)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends fa{constructor(){super("github.com")}static credential(e){return si._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends fa{constructor(){super("twitter.com")}static credential(e,n){return si._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return rr.credential(n,r)}catch{return null}}}rr.TWITTER_SIGN_IN_METHOD="twitter.com";rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await In._fromIdTokenResponse(e,r,i),o=Ny(r);return new ds({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Ny(r);return new ds({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Ny(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends Bn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ec.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ec(e,n,r,i)}}function P2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ec._fromErrorAndOperation(t,s,e,r):s})}async function _3(t,e,n=!1){const r=await Qo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ds._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b3(t,e,n=!1){const{auth:r}=t;if(on(r.app))return Promise.reject(Qr(r));const i="reauthenticate";try{const s=await Qo(t,P2(r,i,e,t),n);Q(s.idToken,r,"internal-error");const o=Om(s.idToken);Q(o,r,"internal-error");const{sub:c}=o;return Q(t.uid===c,r,"user-mismatch"),ds._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Vn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E3(t,e,n=!1){if(on(t.app))return Promise.reject(Qr(t));const r="signIn",i=await P2(t,r,e),s=await ds._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function T3(t,e,n,r){return Vt(t).onIdTokenChanged(e,n,r)}function I3(t,e,n){return Vt(t).beforeAuthStateChanged(e,n)}const Tc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Tc,"1"),this.storage.removeItem(Tc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=1e3,S3=10;class M2 extends D2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);s3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,S3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},N3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}M2.type="LOCAL";const C3=M2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2 extends D2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}L2.type="SESSION";const O2=L2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new uu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(o).map(async d=>d(n.origin,s)),u=await k3(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{const d=zm("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(g.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return window}function A3(t){hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(){return typeof hn().WorkerGlobalScope<"u"&&typeof hn().importScripts=="function"}async function R3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function D3(){return V2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="firebaseLocalStorageDb",M3=1,Ic="firebaseLocalStorage",U2="fbase_key";class ma{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function du(t,e){return t.transaction([Ic],e?"readwrite":"readonly").objectStore(Ic)}function L3(){const t=indexedDB.deleteDatabase(F2);return new ma(t).toPromise()}function Gh(){const t=indexedDB.open(F2,M3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ic,{keyPath:U2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ic)?e(r):(r.close(),await L3(),e(await Gh()))})})}async function Sy(t,e,n){const r=du(t,!0).put({[U2]:e,value:n});return new ma(r).toPromise()}async function O3(t,e){const n=du(t,!1).get(e),r=await new ma(n).toPromise();return r===void 0?null:r.value}function Cy(t,e){const n=du(t,!0).delete(e);return new ma(n).toPromise()}const V3=800,F3=3;class z2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>F3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return V2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uu._getInstance(D3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await R3(),!this.activeServiceWorker)return;this.sender=new j3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||P3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gh();return await Sy(e,Tc,"1"),await Cy(e,Tc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Sy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>O3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=du(i,!1).getAll();return new ma(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z2.type="LOCAL";const U3=z2;new ha(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t,e){return e?Nn(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm extends A2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function B3(t){return E3(t.auth,new Bm(t),t.bypassAuthState)}function $3(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),b3(n,new Bm(t),t.bypassAuthState)}async function W3(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),_3(n,new Bm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B3;case"linkViaPopup":case"linkViaRedirect":return W3;case"reauthViaPopup":case"reauthViaRedirect":return $3;default:Vn(this.auth,"internal-error")}}resolve(e){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=new ha(2e3,1e4);class Oi extends B2{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Oi.currentPopupAction&&Oi.currentPopupAction.cancel(),Oi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){Fn(this.filter.length===1,"Popup operations only handle one event");const e=zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,H3.get())};e()}}Oi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3="pendingRedirect",Pl=new Map;class G3 extends B2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pl.get(this.auth._key());if(!e){try{const r=await K3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pl.set(this.auth._key(),e)}return this.bypassAuthState||Pl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K3(t,e){const n=X3(e),r=Y3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Q3(t,e){Pl.set(t._key(),e)}function Y3(t){return Nn(t._redirectPersistence)}function X3(t){return Rl(q3,t.config.apiKey,t.name)}async function J3(t,e,n=!1){if(on(t.app))return Promise.reject(Qr(t));const r=Fm(t),i=z3(r,e),o=await new G3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=10*60*1e3;class eA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(dn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z3&&this.cachedEventUids.clear(),this.cachedEventUids.has(ky(e))}saveEventToCache(e){this.cachedEventUids.add(ky(e)),this.lastProcessedEventTime=Date.now()}}function ky(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tA(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nA(t,e={}){return Is(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iA=/^https?/;async function sA(t){if(t.config.emulator)return;const{authorizedDomains:e}=await nA(t);for(const n of e)try{if(oA(n))return}catch{}Vn(t,"unauthorized-domain")}function oA(t){const e=Hh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!iA.test(n))return!1;if(rA.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=new ha(3e4,6e4);function jy(){const t=hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function lA(t){return new Promise((e,n)=>{var r,i,s;function o(){jy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jy(),n(dn(t,"network-request-failed"))},timeout:aA.get()})}if(!((i=(r=hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=hn().gapi)===null||s===void 0)&&s.load)o();else{const c=m3("iframefcb");return hn()[c]=()=>{gapi.load?o():n(dn(t,"network-request-failed"))},h3(`${f3()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Dl=null,e})}let Dl=null;function cA(t){return Dl=Dl||lA(t),Dl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=new ha(5e3,15e3),dA="__/auth/iframe",hA="emulator/auth/iframe",fA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pA(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mm(e,hA):`https://${t.config.authDomain}/${dA}`,r={apiKey:e.apiKey,appName:t.name,v:xs},i=mA.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${oa(r).slice(1)}`}async function gA(t){const e=await cA(t),n=hn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:pA(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fA,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=dn(t,"network-request-failed"),c=hn().setTimeout(()=>{s(o)},uA.get());function u(){hn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vA=500,xA=600,wA="_blank",_A="http://localhost";class Ay{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bA(t,e,n,r=vA,i=xA){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},yA),{width:r.toString(),height:i.toString(),top:s,left:o}),d=lt().toLowerCase();n&&(c=E2(d)?wA:n),_2(d)&&(e=e||_A,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[T,C])=>`${g}${T}=${C},`,"");if(i3(d)&&c!=="_self")return EA(e||"",c),new Ay(null);const p=window.open(e||"",c,f);Q(p,t,"popup-blocked");try{p.focus()}catch{}return new Ay(p)}function EA(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="__/auth/handler",IA="emulator/auth/handler",NA=encodeURIComponent("fac");async function Ry(t,e,n,r,i,s){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xs,eventId:i};if(e instanceof R2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",oS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof fa){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const u=await t._getAppCheckToken(),d=u?`#${NA}=${encodeURIComponent(u)}`:"";return`${SA(t)}?${oa(c).slice(1)}${d}`}function SA({config:t}){return t.emulator?Mm(t,IA):`https://${t.authDomain}/${TA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="webStorageSupport";class CA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O2,this._completeRedirectFn=J3,this._overrideRedirectResult=Q3}async _openPopup(e,n,r,i){var s;Fn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Ry(e,n,r,Hh(),i);return bA(e,o,zm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Ry(e,n,r,Hh(),i);return A3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Fn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await gA(e),r=new eA(e);return n.register("authEvent",i=>(Q(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ed,{type:Ed},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ed];o!==void 0&&n(!!o),Vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return C2()||b2()||Vm()}}const kA=CA;var Py="@firebase/auth",Dy="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RA(t){rs(new ni("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k2(t)},d=new u3(r,i,s,u);return g3(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),rs(new ni("auth-internal",e=>{const n=Fm(e.getProvider("auth").getImmediate());return(r=>new jA(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(Py,Dy,AA(t)),vr(Py,Dy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=5*60,DA=kw("authIdTokenMaxAge")||PA;let My=null;const MA=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>DA)return;const i=n==null?void 0:n.token;My!==i&&(My=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function LA(t=Pw()){const e=em(t,"auth");if(e.isInitialized())return e.getImmediate();const n=p3(t,{popupRedirectResolver:kA,persistence:[U3,C3,O2]}),r=kw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=MA(s.toString());I3(n,o,()=>o(n.currentUser)),T3(n,c=>o(c))}}const i=Sw("auth");return i&&y3(n,`http://${i}`),n}function OA(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}d3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=dn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",OA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RA("Browser");const VA={apiKey:"AIzaSyDn_DUfKg6k6pXNWLjxbUQGpd_KsgCotKQ",authDomain:"ecofisco-bccc2.firebaseapp.com",projectId:"ecofisco-bccc2",storageBucket:"ecofisco-bccc2.firebasestorage.app",messagingSenderId:"825645680379",appId:"1:825645680379:web:65c1127961d7cbfab7925e",measurementId:"G-GVR41XL0DX"},W2=Rw(VA);LA(W2);const Yo=gj(W2);function Ns({title:t,description:e="Expert assistance for foreigners in Italy - Immigration, Tax, and Legal Services",keywords:n="Italy immigration, tax consultant Italy, legal services Italy, foreigners assistance Italy",ogImage:r="/og-image.jpg",ogUrl:i="https://ecofisco.com"}){const s=`${t} | E-Co Fisco - Italian Immigration Experts`;return a.jsxs(CN,{children:[a.jsx("title",{children:s}),a.jsx("meta",{name:"description",content:e}),a.jsx("meta",{name:"keywords",content:n}),a.jsx("meta",{property:"og:title",content:s}),a.jsx("meta",{property:"og:description",content:e}),a.jsx("meta",{property:"og:image",content:r}),a.jsx("meta",{property:"og:url",content:i}),a.jsx("meta",{property:"og:type",content:"website"}),a.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),a.jsx("meta",{name:"twitter:title",content:s}),a.jsx("meta",{name:"twitter:description",content:e}),a.jsx("meta",{name:"twitter:image",content:r}),a.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),a.jsx("meta",{httpEquiv:"Content-Type",content:"text/html; charset=utf-8"}),a.jsx("meta",{name:"language",content:"English"}),a.jsx("meta",{name:"revisit-after",content:"7 days"}),a.jsx("meta",{name:"author",content:"E-Co Fisco"})]})}const FA=()=>{const t=["consulates","visas","dual citizenship","citizenship by marriage"],[e,n]=P.useState(0),[r,i]=P.useState(!1);P.useEffect(()=>{const o=setInterval(()=>{i(!0),setTimeout(()=>{n(c=>(c+1)%t.length),i(!1)},600)},3e3);return()=>clearInterval(o)},[]);const s=t[e].split("");return a.jsx("span",{className:"elementor-headline-dynamic-wrapper text-white text-5xl",style:{display:"inline-block",minWidth:"280px"},children:s.map((o,c)=>a.jsx("span",{className:`elementor-headline-dynamic-letter ${r?"elementor-headline-animation-out":"elementor-headline-animation-in"}`,style:{animationDelay:`${r?0:c*.1}s`,display:"inline-block",width:o===" "?"0.3em":"auto"},children:o},`${e}-${c}`))})};function UA(){var i;const[t,e]=P.useState("residence"),n=ra(),r=[{id:"residence",title:"Residence permit",content:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Residence permit release"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Start your life in Italy"}),a.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"We assist you in the first application for a residence permit, residence card and long-term residence permit."})]}),a.jsx("button",{onClick:()=>n("/residence-permit-request"),className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),a.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Renewal of residence permit"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Maintain the right to reside"}),a.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"If you have an expiring or expired permit, don't waste any more time, one of our immigration lawyers will follow you."})]}),a.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),a.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Residence permit conversion"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Change your stay requirements"}),a.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"If you no longer meet the requirements to renew your residence permit or want to change it completely."})]}),a.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]})]})},{id:"citizenship",title:"Italian citizenship",content:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Italian citizenship by residence"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Naturalization as an Italian citizen"}),a.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"After 10 years of residence you can apply for Italian citizenship with our immigration lawyer."})]}),a.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),a.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Italian citizenship by marriage"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Get your spouse's rights"}),a.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"After 2 or 3 years of marriage with an Italian citizen, you acquire the right to Italian citizenship."})]}),a.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),a.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Italian citizenship by descent"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Claim your blood right"}),a.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"If one of your ancestors who emigrated abroad was an Italian citizen, you may be entitled to become one too."})]}),a.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]})]})},{id:"family",title:"Family reunification",content:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Family reunification"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Reunite with your loved ones who remain abroad"}),a.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"Get clearance for your family members to reunite abroad with our lawyer for foreigners."})]}),a.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),a.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Family cohesion"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Reunite with your relatives already in Italy"}),a.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"Obtain a residence permit for family reasons without having to go through the Prefecture's clearance."})]}),a.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]})]})},{id:"companies",title:"Companies and employers",content:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Request for non-EU personnel"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Hire staff from abroad"}),a.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"If you want to hire foreign staff you may have to do so through the click day of the Flow Decree."})]}),a.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),a.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"EU Blue Card"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Hire highly specialized staff"}),a.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"Our agency for foreigners follows your company in hiring highly qualified personnel."})]}),a.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),a.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Sending application for flow decree"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Get a work visa"}),a.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"Our agency for foreigners guarantees the success of the applications sent during the Decreto Flussi click days."})]}),a.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),a.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Certification of the flow decree"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"One of the most important documents"}),a.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"The certification of the flow decree is a crucial document for the hiring of foreign workers."})]}),a.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]})]})},{id:"translation",title:"Translation, policies and surety",content:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Sworn translation"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Prepare everything you need"}),a.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"Our agency for foreigners can provide you with certified translations of documents produced abroad."})]}),a.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),a.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Health insurance"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Often required for visa"}),a.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"Health insurance is required to apply for an entry visa and covers health risks."})]}),a.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),a.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Bank guarantee"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Increase your chances of getting a visa"}),a.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"A bank guarantee that covers repatriation costs and increases the chances of receiving a visa for Italy."})]}),a.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]})]})},{id:"documents",title:"Documents for visa",content:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Work Visa"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Start your new career"}),a.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"Get a visa for non-seasonal, domestic or seasonal work with our agency for foreigners."})]}),a.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),a.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Study Visa"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Follow your dreams in Italy"}),a.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"The best choice to live in Italy as a university student, intern or to learn the Italian language."})]}),a.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]}),a.jsxs("div",{className:"bg-white p-6 border border-gray-300 rounded-[40px] hover:shadow-lg transition-shadow flex flex-col items-center text-center h-full",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Elective residence visa"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Enjoy the Italian Dolce Vita"}),a.jsx("p",{className:"text-gray-700 mb-4 font-poppins",children:"Take advantage of the advice of an immigration lawyer for this visa reserved for those who want to live in Italy without working."})]}),a.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors mt-auto",children:"Find out more"})]})]})}];return a.jsxs(a.Fragment,{children:[a.jsx(Ns,{title:"Home",description:"Expert assistance for foreigners in Italy. We specialize in immigration services, tax consulting, and legal support for international clients.",keywords:"Italy immigration experts, tax consultant Italy, legal services Italy, foreigners assistance Italy, visa Italy, citizenship Italy"}),a.jsxs("div",{className:"max-w-7xl mx-auto py-4 sm:py-6 md:py-8 lg:py-10 px-4 sm:px-8 lg:px-16",children:[a.jsx("div",{className:"relative rounded-xl overflow-hidden mb-8 sm:mb-12",children:a.jsxs("div",{className:"relative w-full h-[400px] sm:h-[400px] md:h-[500px] lg:h-[600px]",children:[a.jsx("img",{src:LN,alt:"Italian Immigration Experts",className:"absolute inset-0 w-full h-full object-cover rounded-xl"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/70 to-black-800/60 rounded-xl",children:a.jsxs("div",{className:"p-4 sm:p-8 md:p-10 lg:p-12 max-w-3xl",children:[a.jsxs("h1",{className:"hidden md:block text-3xl md:text-4xl lg:text-5xl font-extrabold tracking-tight text-white mb-4 sm:mb-8",children:[a.jsx("span",{className:"tracking-wider text-white glow-blue-900 px-3 py-1 rounded-lg",children:"Welcome to"})," ",a.jsx("span",{className:"bg-blue-700/50 text-white border border-white/50 px-1 rounded-lg",style:{WebkitTextStroke:"0.5px white"},children:"E-Co FISCO"})]}),a.jsx("div",{className:"mb-4 sm:mb-8",children:a.jsxs("p",{className:"text-xl sm:text-2xl text-white font-light leading-relaxed",children:["Struggling with Italian bureaucracy?",a.jsx("span",{className:"block mt-2 text-lg sm:text-xl",children:"As Italian immigration experts, we understand."})]})}),a.jsxs("div",{className:"mb-6 sm:mb-10",children:[a.jsx("span",{className:"block text-xl sm:text-2xl md:text-3xl font-medium text-white mb-2 sm:mb-4",children:"Never again problems with Italian"}),a.jsx(FA,{})]}),a.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2",children:a.jsx("button",{onClick:()=>{const s=document.querySelector(".relative.bg-blue-50");s==null||s.scrollIntoView({behavior:"smooth"})},className:"inline-block px-4 sm:px-8 py-2 sm:py-3 bg-white text-blue-600 rounded-full text-base sm:text-lg font-semibold hover:bg-gray-100 transition-colors",children:"Start Here"})})]})})]})}),a.jsxs("div",{className:"bg-transparent rounded-lg p-6 text-gray-700 mb-16 font-poppins flex flex-col items-center",children:[a.jsx("h2",{className:"text-3xl font-bold text-blue-500 text-center mb-4 max-w-3xl",children:"Italy is 57th in terms of efficiency of Public Administration"}),a.jsx("h3",{className:"text-xl font-semibold text-center mt-4 max-w-2xl mx-auto",children:"Why is it so difficult to communicate with public offices?"}),a.jsxs("ul",{className:"list-disc mt-8 text-left max-w-2xl mx-auto",children:[a.jsx("li",{className:"mb-2",children:"Language and cultural barriers."}),a.jsx("li",{className:"mb-2",children:"Very long waiting times."}),a.jsx("li",{className:"mb-2",children:"Ever-changing rules."}),a.jsx("li",{className:"mb-2",children:"Need to interact with different offices."}),a.jsx("li",{className:"mb-2",children:"A redundant amount of necessary documents."})]}),a.jsx("div",{className:"flex justify-center mt-6",children:a.jsx("svg",{className:"w-10 h-10 text-blue-600 animate-bounce",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{fill:"currentColor",d:"M143 256.3L7 120.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0L313 86.3c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.4 9.5-24.6 9.5-34 .1zm34 192l136-136c9.4-9.4 9.4-24.6 0-33.9l-22.6-22.6c-9.4-9.4-24.6-9.4-33.9 0L160 352.1l-96.4-96.4c-9.4-9.4-24.6-9.4-33.9 0L7 278.3c-9.4 9.4-9.4 24.6 0 33.9l136 136c9.4 9.5 24.6 9.5 34 .1z"})})})]}),a.jsxs("div",{className:"relative bg-blue-50 py-12 mb-12 rounded-[40px] mx-4 border border-gray-300  ",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full overflow-hidden",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 100",preserveAspectRatio:"none",className:"h-16 w-full rounded-t-[40px]",children:a.jsx("path",{className:"fill-white",d:"M1000,4.3V0H0v4.3C0.9,23.1,126.7,99.2,500,100S1000,22.7,1000,4.3z"})})}),a.jsxs("div",{className:"relative z-10 max-w-[95%] mx-auto ",children:[a.jsx("h2",{className:"text-3xl font-bold text-center text-blue-500 mb-4",children:"Our Immigration Services"}),a.jsx("h3",{className:"text-xl text-center text-gray-700 mb-12",children:"How our agency for foreigners can help you"}),a.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:r.map(s=>a.jsx("button",{onClick:()=>e(s.id),className:`px-4 py-2 rounded-full transition-colors border border-gray-400 ${t===s.id?"bg-blue-600 text-white border-transparent":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:s.title},s.id))}),a.jsx("div",{className:"mt-8",children:(i=r.find(s=>s.id===t))==null?void 0:i.content})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 py-8 rounded-[40px] mb-12 mx-4 border border-gray-300",children:a.jsx("div",{className:"max-w-[95%] mx-auto flex justify-center",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 justify-items-center",children:[a.jsx("div",{className:"p-4 rounded-[24px]",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsxs("svg",{className:"w-8 h-8 mb-2 text-blue-400",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M12 6v6l4 2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-700 text-center mb-1",children:"Stress-free documents"}),a.jsx("p",{className:"text-gray-700 mb-4 font-poppins text-center",children:"Never-ending waits for your documents will be a thing of the past."})]})}),a.jsx("div",{className:"p-4 rounded-[24px]",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsxs("svg",{className:"w-8 h-8 mb-2 text-blue-400",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("rect",{x:"4",y:"3",width:"16",height:"18",rx:"2",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M8 8h8M8 12h8M8 16h6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-700 text-center mb-1",children:"At your side with embassies"}),a.jsx("p",{className:"text-gray-700 mb-4 font-poppins text-center",children:"From the first steps at the Embassy to citizenship we are with you."})]})}),a.jsx("div",{className:"p-4 rounded-[24px]",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("svg",{className:"w-8 h-8 mb-2 text-blue-400",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12.87 15.07l-2.54-2.51.03-.03A17.52 17.52 0 0014.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7l1.62-4.33L19.12 17h-3.24z",fill:"currentColor"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-700 text-center mb-2",children:"Consulting in your language"}),a.jsx("p",{className:"text-gray-700 mb-4 font-poppins text-center",children:"We communicate in multiple languages to ensure seamless support."})]})})]})})}),a.jsx("div",{className:"bg-[#] py-16 rounded-[40px]",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-blue-500 mb-4",children:"Native speaking immigration experts"}),a.jsxs("p",{className:"text-lg text-gray-600",children:["Say goodbye to language barriers, ",a.jsx("strong",{children:"our immigration consultants speak your language"}),", so we understand each other better and find the best solution in record time."]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-8 mb-12",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Italy"}),a.jsx("div",{className:"rounded-[24px] overflow-hidden flex justify-center",children:a.jsx("img",{src:vi,alt:"Italian Immigration Expert in Italy",className:"w-[35%] border border-gray-500 rounded-[100px]"})})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Spain"}),a.jsx("div",{className:"rounded-[24px] overflow-hidden flex justify-center",children:a.jsx("img",{src:vi,alt:"Spanish Immigration Expert in Italy",className:"w-[35%] border border-gray-500 rounded-[100px]"})})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:"England"}),a.jsx("div",{className:"rounded-[24px] overflow-hidden flex justify-center",children:a.jsx("img",{src:vi,alt:"English Immigration Expert in Italy",className:"w-[35%] border border-gray-500 rounded-[100px]"})})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Morocco"}),a.jsx("div",{className:"rounded-[24px] overflow-hidden flex justify-center",children:a.jsx("img",{src:vi,alt:"Moroccan Immigration Expert in Italy",className:"w-[35%] border border-gray-500 rounded-[100px]"})})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:"France"}),a.jsx("div",{className:"rounded-[24px] overflow-hidden flex justify-center",children:a.jsx("img",{src:vi,alt:"French Immigration Expert in Italy",className:"w-[35%] border border-gray-500 rounded-[100px]"})})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Bangladesh"}),a.jsx("div",{className:"rounded-[24px] overflow-hidden flex justify-center",children:a.jsx("img",{src:vi,alt:"Bangladeshi Immigration Expert in Italy",className:"w-[35%] border border-gray-500 rounded-[100px]"})})]})]})]})}),a.jsx("div",{className:"bg-transparent py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a.jsx("h2",{className:"text-3xl font-bold text-center text-blue-500 mb-8",children:"What our customers say"}),a.jsxs("div",{className:"flex justify-center items-center gap-2 mb-8",children:[[...Array(5)].map((s,o)=>a.jsx("svg",{className:"w-6 h-6 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},o)),a.jsx("span",{className:"ml-2 text-xl font-semibold text-gray-900",children:"5.0"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[{name:"Akiko Tanaka",location:"Tokyo, Japan",initials:"AT",review:"E-Co FISCO made my visa application process incredibly smooth. Their expertise and professional guidance helped me."},{name:"Carlos Silva",location:"So Paulo, Brazil",initials:"CS",review:"Outstanding service! They helped me obtain my work visa in record time. Very professional and knowledgeable team."},{name:"Maria Garcia",location:"Madrid, Spain",initials:"MG",review:"The team at E-Co FISCO was incredibly helpful throughout my citizenship application process. Highly recommended!"},{name:"John Smith",location:"London, UK",initials:"JS",review:"Excellent support for my residency permit application. Clear communication and great results."},{name:"Sophie Martin",location:"Paris, France",initials:"SM",review:"Their expertise in Italian immigration law is unmatched. Made the whole process stress-free."},{name:"Ahmed Hassan",location:"Cairo, Egypt",initials:"AH",review:"Very professional service. They handled my student visa application perfectly."},{name:"Li Wei",location:"Beijing, China",initials:"LW",review:"Great experience working with E-Co FISCO. They made the complex simple."},{name:"Anna Kowalski",location:"Warsaw, Poland",initials:"AK",review:"Fantastic support throughout my visa application. Would definitely recommend."}].map((s,o)=>a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border-2 border-gray-200 relative min-h-[300px]",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-400 to-blue-600 flex items-center justify-center",children:a.jsx("span",{className:"text-sm text-white font-semibold",children:s.initials})})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center",children:s.name}),a.jsx("p",{className:"text-sm text-gray-500 mb-4 text-center",children:s.location}),a.jsx("div",{className:"flex justify-center mb-4",children:[...Array(5)].map((c,u)=>a.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},u))}),a.jsx("p",{className:"text-gray-700 text-sm text-center pb-8",children:s.review}),a.jsx("p",{className:"text-sm text-gray-500 text-center absolute bottom-6 left-0 right-0",children:["3 months ago","9 months ago","4 months ago","7 months ago","2 years ago","11 months ago","1 year ago","7 months ago"][o]})]},o))})]})}),a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-700 py-16 rounded-[40px]",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:[a.jsxs("div",{className:"text-center md:text-left max-w-2xl",children:[a.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Choose the most loved immigration agency in Italy"}),a.jsx("p",{className:"text-lg text-blue-100",children:"To avoid making fatal mistakes, find out how we can help you."})]}),a.jsx("div",{children:a.jsx("a",{href:"/book-appointment",className:"inline-block px-6 py-3 bg-white text-blue-600 rounded-full text-lg font-semibold hover:bg-blue-50 transition-colors hover:transform hover:translate-y-[-2px] whitespace-nowrap",children:"Book an Appointment"})})]})})}),a.jsxs("div",{className:"bg-transparent border border-gray-300 rounded-[40px] relative mt-16",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full overflow-hidden"}),a.jsxs("div",{className:"bg-transparent py-24",children:[a.jsx("div",{className:"relative w-full overflow-hidden"}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 grid md:grid-cols-2 gap-12",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Why You Should NOT Choose E-Co Fisco"}),a.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"We can't help you if"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("details",{className:"border border-gray-300 rounded-lg",children:[a.jsxs("summary",{className:"cursor-pointer p-4 font-semibold flex justify-between items-center",children:["Looking for quick shortcuts?",a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})]}),a.jsx("div",{className:"p-4 pt-0",children:a.jsx("p",{children:"Our process is careful and meticulous, ensuring every detail is perfect. If you are looking for a quick and superficial solution, our agency for foreigners is not the right choice, because we offer a higher level of care and attention."})})]}),a.jsxs("details",{className:"border border-gray-300 rounded-lg",children:[a.jsxs("summary",{className:"cursor-pointer p-4 font-semibold flex justify-between items-center",children:["You prefer a generic and impersonal service",a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})]}),a.jsx("div",{className:"p-4 pt-0",children:a.jsx("p",{children:"We take the time to understand your specific needs and tailor our approach to you. If you are looking for a standard solution that fits everyone, our law firm for foreigners may not be the right choice."})})]}),a.jsxs("details",{className:"border border-gray-300 rounded-lg",children:[a.jsxs("summary",{className:"cursor-pointer p-4 font-semibold flex justify-between items-center",children:["You don't want to invest in quality and long-term results",a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})]}),a.jsx("div",{className:"p-4 pt-0",children:a.jsx("p",{children:"We don't offer the cheapest solutions, but we guarantee exceptional value and long-lasting results. If your goal is to reduce costs rather than to achieve the best possible outcome, our foreign law firm may not be the right choice for you."})})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Why You Should Choose E-Co Fisco"}),a.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"We will fight for you if"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("details",{className:"border border-gray-300 rounded-lg",children:[a.jsxs("summary",{className:"cursor-pointer p-4 font-semibold flex justify-between items-center",children:["Do you want peace of mind by relying on experts?",a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})]}),a.jsx("div",{className:"p-4 pt-0",children:a.jsx("p",{children:"If you are looking for a smooth immigration process, handled with professionalism and attention to detail, our immigration lawyer allows you to focus on your personal and professional goals without unnecessary stress."})})]}),a.jsxs("details",{className:"border border-gray-300 rounded-lg",children:[a.jsxs("summary",{className:"cursor-pointer p-4 font-semibold flex justify-between items-center",children:["You value your time and want to avoid costly mistakes",a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})]}),a.jsx("div",{className:"p-4 pt-0",children:a.jsx("p",{children:"The paperwork can be complex, but our experience streamlines the process, minimizing delays and errors, so you can get results faster and without unnecessary expense. Our lawyer for foreigners is at your side to guide you through every step."})})]}),a.jsxs("details",{className:"border border-gray-300 rounded-lg",children:[a.jsxs("summary",{className:"cursor-pointer p-4 font-semibold flex justify-between items-center",children:["You seek precision and efficiency to achieve your goals",a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})]}),a.jsx("div",{className:"p-4 pt-0",children:a.jsx("p",{children:"Whether it's a visa, citizenship or other immigration needs, we offer a structured approach that gets you where you need to be with minimal disruption to your life or business. Our law firm for foreigners is ready to support you in every phase of the process."})})]})]})]})]})]})]}),a.jsx("div",{className:"bg-blue-600 rounded-[40px] mx-4 mt-8 border border-gray-300 max-w-7xl mx-auto",children:a.jsxs("div",{className:"max-w-7xl mx-auto grid md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-transparent p-8 rounded-[24px] contact-info-column text-center md:text-left flex flex-col items-start justify-center",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-4",children:"Contact a expert for foreigners"}),a.jsx("p",{className:"text-sm sm:text-base text-white mb-6",children:"Our agency for foreigners is at your disposal for the most daily practices up to the most complex cases."})]}),a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 md:rounded-tr-[39px] md:rounded-br-[39px] md:rounded-bl-[0px] rounded-br-[39px] rounded-bl-[39px]",children:a.jsxs("form",{className:"space-y-4 p-8",onSubmit:async s=>{s.preventDefault();const o=s.target,c=new FormData(o);try{await cu(Ko(Yo,"contacts"),{name:c.get("name"),surname:c.get("surname"),email:c.get("email"),location:c.get("location"),message:c.get("message"),date:new Date().toISOString(),privacyAccepted:c.get("privacy_accepted")==="on"});const u=document.createElement("div");u.innerHTML=`
            <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
              <div class="bg-white rounded-lg p-6 max-w-sm w-full">
                <div class="flex justify-center mb-4">
                  <svg class="w-12 h-12 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <h3 class="text-xl font-bold text-center mb-2">Message</h3>
                <p class="text-gray-600 text-center mb-6">Thanks for your submission!<br />We'll be in touch with you shortly.</p>
                <button class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">
                  OK
                </button>
              </div>
            </div>
          `,document.body.appendChild(u),u.querySelector("button").onclick=()=>{u.remove()},o.reset()}catch(u){console.error("Error submitting form:",u);const d=document.createElement("div");d.innerHTML=`
            <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
              <div class="bg-white rounded-lg p-6 max-w-sm w-full">
                <div class="flex justify-center mb-4">
                  <svg class="w-12 h-12 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                  </svg>
                </div>
                <h3 class="text-xl font-bold text-center mb-2">Message</h3>
                <p class="text-gray-600 text-center mb-6">Oops! There was a problem submitting your form</p>
                <button class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">
                  OK
                </button>
              </div>
            </div>
          `,document.body.appendChild(d),d.querySelector("button").onclick=()=>{d.remove()}}},children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{type:"text",name:"name",placeholder:"Name*",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"}),a.jsx("input",{type:"text",name:"surname",placeholder:"Surname",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"})]}),a.jsx("input",{type:"email",name:"email",placeholder:"E-mail*",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"}),a.jsx("input",{type:"text",name:"location",placeholder:"Where are you writing to us from?",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"}),a.jsx("textarea",{name:"message",placeholder:"Message*",required:!0,rows:3,className:"p-3 border border-gray-300 rounded-[20px] w-full bg-gray-50 text-sm"}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("input",{type:"checkbox",name:"privacy_accepted",required:!0,className:"mt-1 mr-2"}),a.jsxs("label",{className:"text-xs sm:text-sm text-gray-600",children:["I confirm that I have read the ",a.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"privacy policy"})]})]}),a.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-6 rounded-[40px] hover:bg-blue-700 transition-colors font-semibold text-sm sm:text-base",children:"SEND REQUEST"})]})})]})})]})]})}var H2="acacia",zA=function(e){return e===3?"v3":e},q2="https://js.stripe.com",BA="".concat(q2,"/").concat(H2,"/stripe.js"),$A=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,WA=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,Ly="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",HA=function(e){return $A.test(e)||WA.test(e)},qA=function(){for(var e=document.querySelectorAll('script[src^="'.concat(q2,'"]')),n=0;n<e.length;n++){var r=e[n];if(HA(r.src))return r}return null},Oy=function(e){var n="",r=document.createElement("script");r.src="".concat(BA).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},GA=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"6.1.0",startTime:n})},Xs=null,ol=null,al=null,KA=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},QA=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},YA=function(e){return Xs!==null?Xs:(Xs=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(Ly),window.Stripe){n(window.Stripe);return}try{var i=qA();if(i&&e)console.warn(Ly);else if(!i)i=Oy(e);else if(i&&al!==null&&ol!==null){var s;i.removeEventListener("load",al),i.removeEventListener("error",ol),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=Oy(e)}al=QA(n,r),ol=KA(r),i.addEventListener("load",al),i.addEventListener("error",ol)}catch(o){r(o);return}}),Xs.catch(function(n){return Xs=null,Promise.reject(n)}))},XA=function(e,n,r){if(e===null)return null;var i=n[0],s=i.match(/^pk_test/),o=zA(e.version),c=H2;s&&o!==c&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("6.1.0"," expected Stripe.js@").concat(c,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var u=e.apply(void 0,n);return GA(u,r),u},Js,G2=!1,K2=function(){return Js||(Js=YA(null).catch(function(e){return Js=null,Promise.reject(e)}),Js)};Promise.resolve().then(function(){return K2()}).catch(function(t){G2||console.warn(t)});var JA=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];G2=!0;var i=Date.now();return K2().then(function(s){return XA(s,n,i)})};const ZA=JA("pk_test_51R7ejM2NmEHnkN4ewLAXIwA6FLejdkSzgfM2spZ5aSG16nCcHY4B30M70X9ye9uw3pkykcfrTHYw7Z7gdB82cH3A00k7kNxfx5"),xi={VAT_MANAGEMENT:9900,TAX_DECLARATIONS:14900,IMMIGRATION_SERVICES:19900,INAIL_SERVICES:7900,INPS_SERVICES:8900,DIGITAL_IDENTITY:6900},eR=t=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(t/100),tR=async t=>{try{const e=await fetch("http://localhost:3000/api/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serviceId:t.id,price:t.price})});if(!e.ok)throw new Error("Failed to create checkout session");return await e.json()}catch(e){throw console.error("Error creating checkout session:",e),e}};function nR(){const[t,e]=P.useState({}),[n,r]=P.useState(null),i=async o=>{try{e(d=>({...d,[o.id]:!0}));const{sessionId:c}=await tR(o),u=await ZA;if(u){const{error:d}=await u.redirectToCheckout({sessionId:c});d&&(console.error("Stripe checkout error:",d),e(f=>({...f,[o.id]:!1})))}}catch(c){console.error("Payment error:",c),e(u=>({...u,[o.id]:!1}))}},s=[{id:"vat_management",name:"VAT Management",price:xi.VAT_MANAGEMENT,description:"Opening, modification & closure assistance for traders, artisans, and freelancers.",features:["VAT number registration","VAT compliance","VAT returns filing","VAT number modification","VAT number closure"],image:"https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?auto=format&fit=crop&q=80&w=800"},{id:"tax_declarations",name:"Tax Declarations",price:xi.TAX_DECLARATIONS,description:"Expert assistance with Single Model PF and 730 Tax Declarations.",features:["Single Model PF preparation","730 Tax Declaration","Tax optimization","Document review","Filing assistance"],image:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?auto=format&fit=crop&q=80&w=800"},{id:"immigration_services",name:"Immigration Services",price:xi.IMMIGRATION_SERVICES,description:"Complete support for residence permits, citizenship, and family reunification.",features:["Residence permit applications","Citizenship applications","Family reunification","Document translation","Legal consultation"],image:"https://images.unsplash.com/photo-1569974498991-d3c12a504f95?auto=format&fit=crop&q=80&w=800"},{id:"inail_services",name:"INAIL Services",price:xi.INAIL_SERVICES,description:"Complete management of work insurance and safety compliance.",features:["Work insurance registration","Safety compliance","Risk assessment","Insurance claims","Compliance monitoring"],image:"https://images.unsplash.com/photo-1450101499163-c8848c66ca85?auto=format&fit=crop&q=80&w=800"},{id:"inps_services",name:"INPS Services",price:xi.INPS_SERVICES,description:"Comprehensive social security and benefits management.",features:["Social security registration","Benefits calculation","Pension planning","Document management","Claims assistance"],image:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?auto=format&fit=crop&q=80&w=800"},{id:"digital_identity",name:"Digital Identity",price:xi.DIGITAL_IDENTITY,description:"Setup and management of PEC and SPID digital identity services.",features:["PEC setup","SPID registration","Digital signature","Identity verification","Technical support"],image:"https://images.unsplash.com/photo-1563986768609-322da13575f3?auto=format&fit=crop&q=80&w=800"}];return a.jsxs(a.Fragment,{children:[a.jsx(Ns,{title:"Our Services",description:"Comprehensive immigration and tax services for foreigners in Italy. Expert assistance with visas, permits, citizenship, and tax consulting.",keywords:"immigration services Italy, tax services Italy, visa assistance, residence permit Italy, citizenship application, tax consultant foreigners"}),a.jsx("div",{className:"bg-gradient-to-b from-gray-50 to-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 sm:text-5xl",children:"Our Services"}),a.jsx("p",{className:"mt-4 text-xl text-gray-600 max-w-3xl mx-auto",children:"Comprehensive professional services to support your business and personal needs in Italy."})]}),a.jsx("div",{className:"mt-20",children:a.jsx("div",{className:"grid grid-cols-1 gap-12 md:grid-cols-2 lg:grid-cols-3",children:s.map(o=>a.jsxs("div",{className:"group relative bg-white rounded-2xl overflow-hidden shadow-sm border border-gray-300 hover:shadow-xl transition-all duration-300",onMouseEnter:()=>r(o.id),onMouseLeave:()=>r(null),children:[a.jsxs("div",{className:"relative h-48 w-full overflow-hidden",children:[a.jsx("div",{className:`absolute inset-0 transition-all duration-500 ${n===o.id?"bg-gradient-to-br from-blue-600 to-indigo-700":"bg-gradient-to-br from-blue-500 to-indigo-600"}`,children:a.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyMCIgaGVpZ2h0PSIxMDgwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxkZWZzPjxwYXR0ZXJuIGlkPSJncmlkIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiPjxwYXRoIGQ9Ik0gNDAgMCBMIDAgMCAwIDQwIiBmaWxsPSJub25lIiBzdHJva2U9InJnYmEoMjU1LDI1NSwyNTUsMC4xKSIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')] opacity-10"})}),a.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center items-center p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-full flex items-center justify-center mb-4",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:o.name}),a.jsx("p",{className:"text-white/90 text-sm max-w-xs",children:o.description})]})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:eR(o.price)}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"One-time payment"})]}),a.jsxs("div",{className:"space-y-3 mb-6",children:[o.features.slice(0,3).map((c,u)=>a.jsxs("div",{className:"flex items-center text-gray-600",children:[a.jsx("svg",{className:"w-5 h-5 text-blue-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),a.jsx("span",{className:"text-sm",children:c})]},u)),o.features.length>3&&a.jsxs("p",{className:"text-sm text-blue-600",children:["+",o.features.length-3," more features"]})]}),a.jsx("button",{onClick:()=>i(o),disabled:t[o.id],className:`w-full bg-blue-600 text-white px-6 py-3 rounded-xl text-sm font-medium hover:bg-blue-700 transition-all duration-300 transform hover:-translate-y-1 ${t[o.id]?"opacity-50 cursor-not-allowed":""}`,children:t[o.id]?a.jsxs("span",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Purchase Now"})]})]},o.id))})})]})})]})}const Qn="/assets/guide-Dwjbz0E4.jpg";function rR(){const[t,e]=P.useState(""),[n,r]=P.useState("All"),i=[{name:"All",href:"#"},{name:"Family Reunification",href:"#"},{name:"Residence Permits",href:"#"},{name:"Italian Citizenship",href:"#"},{name:"Entry Visas",href:"#"},{name:"Flows Decree",href:"#"},{name:"Sanatorium",href:"#"}],o=[{title:"Italian Citizenship 2024  Official Updated Guide",category:"Italian Citizenship",image:Qn,date:"03/10/2024",excerpt:"Everything you need to know about obtaining Italian citizenship in 2024, including requirements, procedures and common pitfalls to avoid.",href:"/blog/italian-citizenship-2024",author:"Marco Rossi"},{title:"Family Reunification Process Explained",category:"Family Reunification",image:Qn,date:"02/10/2024",excerpt:"A comprehensive guide to reuniting with your family in Italy - documents needed, timelines and step-by-step procedures.",href:"/blog/family-reunification",author:"Sofia Bianchi"},{title:"Flow Decree Certification: Updated Official Guide",category:"Flows Decree",image:Qn,date:"02/03/2024",excerpt:"Latest updates on the Flow Decree certification process, including new requirements and deadlines for 2024.",href:"/blog/flow-decree-guide",author:"Giuseppe Verdi"},{title:"Wrong Flow Decree Nulla Osta: How to Correct it and Get a Visa Immediately",category:"Flows Decree",image:Qn,date:"12/02/2024",excerpt:"Common mistakes in Nulla Osta applications and how to fix them quickly to avoid visa delays.",href:"/blog/nulla-osta-correction",author:"Anna Ferrari"},{title:"Residence Permit for Study  Official Guide 2023",category:"Residence Permits",image:Qn,date:"11/07/2023",excerpt:"Complete guide for international students seeking to obtain and maintain their study permits in Italy.",href:"/blog/study-permit-guide",author:"Luca Romano"},{title:"International Protection in Italy 2023: Requirements, Procedure, Appeal",category:"Residence Permits",image:Qn,date:"10/07/2023",excerpt:"Understanding the process of seeking international protection in Italy - from application to appeal.",href:"/blog/international-protection",author:"Elena Conti"}].filter(c=>{const u=c.title.toLowerCase().includes(t.toLowerCase())||c.excerpt.toLowerCase().includes(t.toLowerCase()),d=n==="All"||c.category===n;return u&&d});return a.jsxs(a.Fragment,{children:[a.jsx(Ns,{title:"Immigration Guides",description:"Comprehensive guides and resources for navigating Italian immigration, tax systems, and legal procedures for foreigners.",keywords:"Italy immigration guide, Italian visa guide, residence permit guide, citizenship guide Italy, tax guide Italy"}),a.jsx("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"relative mb-8 rounded-xl overflow-hidden",children:[a.jsx("img",{src:Qn,alt:"Immigration Blog",className:"w-full h-64 object-cover"}),a.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col justify-center items-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-white sm:text-4xl",children:"Official Guides Immigration Law in Italy"}),a.jsx("h3",{className:"mt-3 text-xl text-white",children:"Get expert advice from our agency for foreigners and stay informed with the latest updates"})]})]}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"relative max-w-lg mx-auto",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),a.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border-2 border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search blog posts...",value:t,onChange:c=>e(c.target.value)})]})}),a.jsx("div",{className:"mb-8 flex flex-wrap justify-center gap-2",children:i.map(c=>a.jsx("button",{onClick:()=>r(c.name),className:`px-4 py-2 rounded-full text-sm font-medium border-2 border-gray-300 transition-colors
                  ${n===c.name?"bg-blue-500 text-white border-blue-500":"text-gray-700 bg-gray-100 hover:bg-blue-500 hover:text-white hover:border-blue-500"}`,children:c.name},c.name))}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((c,u)=>a.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden border-2 border-gray-200",children:a.jsxs("a",{href:c.href,className:"block",children:[a.jsx("img",{src:c.image,alt:c.title,className:"w-full h-48 object-cover"}),a.jsxs("div",{className:"p-4",children:[a.jsx("span",{className:"text-sm text-blue-600 font-medium",children:c.category}),a.jsx("h3",{className:"mt-2 text-xl font-semibold text-gray-900 line-clamp-2",children:c.title}),a.jsx("p",{className:"mt-2 text-gray-600 text-sm line-clamp-3",children:c.excerpt}),a.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm text-gray-500",children:c.date}),a.jsxs("span",{className:"text-sm text-gray-600",children:["By ",c.author]})]}),a.jsx("span",{className:"text-blue-600 hover:text-blue-700",children:"Read More "})]})]})]})},u))})]})})]})}function iR(){return a.jsxs(a.Fragment,{children:[a.jsx(Ns,{title:"About Us",description:"Learn about E-Co Fisco, your trusted partner for immigration and tax services in Italy. Expert team dedicated to helping foreigners navigate Italian bureaucracy.",keywords:"about E-Co Fisco, Italian immigration experts, tax consultants Italy, immigration agency Italy, foreigner assistance Italy"}),a.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-700 sm:text-4xl",children:"Meet Our Expert Team"}),a.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-gray-600 sm:text-lg",children:"Specialists in Italian Immigration Law"})]}),a.jsxs("div",{className:"mt-12 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl border border-gray-200 p-8 shadow-sm",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Our Mission"}),a.jsx("p",{className:"text-gray-600 text-justify leading-relaxed",children:"Growing up among many foreign kids, I was lucky enough to get to know cultures, thoughts, flavors and habits different from the Italian reality. But I also had the opportunity to see the absurd difficulties that a foreigner has to face to arrive in Italy and have the documents in order."}),a.jsx("p",{className:"text-gray-600 text-justify leading-relaxed mt-4",children:"I can't stand injustice, so I decided to do my part to simplify the lives of foreigners who want to travel or move to Italy and those who are already here and fight every day with public administrations to avoid losing their right to residency."}),a.jsx("p",{className:"text-gray-600 text-justify leading-relaxed mt-4",children:"Over the years I have had the pleasure of helping hundreds of people from all over the world and, thanks to the help of a team of prepared and courageous people, we have achieved great goals."}),a.jsx("p",{className:"text-gray-600 text-justify leading-relaxed mt-4",children:"To accommodate our clients, the team has expanded to include lawyers for foreigners specialized in immigration law and native speakers of all major foreign languages, particularly experienced in this area."}),a.jsx("p",{className:"text-gray-600 text-justify leading-relaxed mt-4",children:"Our goal is to see the smile and happiness of people when, after months of struggle and suffering, they finally manage to see their rights recognized and have their documents. Every day we work hard for this."})]}),a.jsxs("div",{className:"bg-gradient-to-l from-indigo-50 to-purple-50 rounded-2xl border border-gray-200 p-8 shadow-sm h-full",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Our Values"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 bg-indigo-100 rounded-full p-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h3",{className:"text-xl font-medium text-gray-800",children:"Integrity"}),a.jsx("p",{className:"mt-2 text-base text-gray-600",children:"We uphold the highest ethical standards in all our dealings, ensuring transparency and honesty in every interaction."})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 bg-indigo-100 rounded-full p-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h3",{className:"text-xl font-medium text-gray-800",children:"Diversity"}),a.jsx("p",{className:"mt-2 text-base text-gray-600",children:"We celebrate cultural differences and multilingual expertise, making our services accessible to clients from all backgrounds."})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 bg-indigo-100 rounded-full p-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h3",{className:"text-xl font-medium text-gray-800",children:"Efficiency"}),a.jsx("p",{className:"mt-2 text-base text-gray-600",children:"We navigate complex bureaucracy with speed and precision, ensuring timely solutions for all immigration matters."})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 bg-indigo-100 rounded-full p-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h3",{className:"text-xl font-medium text-gray-800",children:"Tax & Immigration Expertise"}),a.jsx("p",{className:"mt-2 text-base text-gray-600",children:"We provide comprehensive tax and immigration solutions, combining deep knowledge of Italian regulations with personalized guidance for each client."})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 bg-indigo-100 rounded-full p-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h3",{className:"text-xl font-medium text-gray-800",children:"Confidentiality"}),a.jsx("p",{className:"mt-2 text-base text-gray-600",children:"We protect your personal information with the utmost care, maintaining strict privacy standards throughout our services."})]})]})]})]})]}),a.jsxs("div",{className:"mt-16",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-700 text-center mb-8",children:"Our Leadership Team"}),a.jsx("div",{className:"flex flex-wrap justify-center gap-8",children:a.jsxs("div",{className:"max-w-sm overflow-hidden border border-gray-300 rounded-lg shadow-md",children:[a.jsx("div",{className:"bg-blue-500 h-24 relative",children:a.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 top-12",children:a.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-2 border-white bg-white",children:a.jsx("img",{src:"/path-to-profile-image.jpg",alt:"Team Member",className:"w-full h-full object-cover",onError:t=>{const e=t.target;e.onerror=null,e.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23CBD5E0'%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z'/%3E%3C/svg%3E"}})})})}),a.jsxs("div",{className:"pt-12 pb-6 px-4 text-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-700",children:"Khadija Zouine"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Immigration & Tax Consultant"}),a.jsxs("div",{className:"flex justify-center mt-3 space-x-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-700 flex items-center justify-center text-white",children:a.jsx("span",{className:"text-xs",children:"f"})}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-400 flex items-center justify-center text-white",children:a.jsx("span",{className:"text-xs",children:"t"})}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-pink-500 flex items-center justify-center text-white",children:a.jsx("span",{className:"text-xs",children:"in"})}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white",children:a.jsx("span",{className:"text-xs",children:"wa"})})]}),a.jsx("div",{className:"flex mt-4",children:a.jsx("button",{className:"bg-blue-500 text-white py-2 px-4 rounded-md text-sm hover:bg-blue-600 transition w-full",children:"Contact Now"})})]})]})})]}),a.jsx("div",{className:"bg-transparent py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a.jsx("h2",{className:"text-3xl font-bold text-center text-blue-500 mb-8",children:"What our customers say"}),a.jsxs("div",{className:"flex justify-center items-center gap-2 mb-8",children:[[...Array(5)].map((t,e)=>a.jsx("svg",{className:"w-6 h-6 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},e)),a.jsx("span",{className:"ml-2 text-xl font-semibold text-gray-900",children:"5.0"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[{name:"Akiko Tanaka",location:"Tokyo, Japan",initials:"AT",review:"E-Co FISCO made my visa application process incredibly smooth. Their expertise and professional guidance helped me."},{name:"Carlos Silva",location:"So Paulo, Brazil",initials:"CS",review:"Outstanding service! They helped me obtain my work visa in record time. Very professional and knowledgeable team."},{name:"Maria Garcia",location:"Madrid, Spain",initials:"MG",review:"The team at E-Co FISCO was incredibly helpful throughout my citizenship application process. Highly recommended!"},{name:"John Smith",location:"London, UK",initials:"JS",review:"Excellent support for my residency permit application. Clear communication and great results."},{name:"Sophie Martin",location:"Paris, France",initials:"SM",review:"Their expertise in Italian immigration law is unmatched. Made the whole process stress-free."},{name:"Ahmed Hassan",location:"Cairo, Egypt",initials:"AH",review:"Very professional service. They handled my student visa application perfectly."},{name:"Li Wei",location:"Beijing, China",initials:"LW",review:"Great experience working with E-Co FISCO. They made the complex simple."},{name:"Anna Kowalski",location:"Warsaw, Poland",initials:"AK",review:"Fantastic support throughout my visa application. Would definitely recommend."}].map((t,e)=>a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border-2 border-gray-200 relative min-h-[300px]",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-400 to-blue-600 flex items-center justify-center",children:a.jsx("span",{className:"text-sm text-white font-semibold",children:t.initials})})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center",children:t.name}),a.jsx("p",{className:"text-sm text-gray-500 mb-4 text-center",children:t.location}),a.jsx("div",{className:"flex justify-center mb-4",children:[...Array(5)].map((n,r)=>a.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},r))}),a.jsx("p",{className:"text-gray-700 text-sm text-center pb-8",children:t.review}),a.jsx("p",{className:"text-sm text-gray-500 text-center absolute bottom-6 left-0 right-0",children:["3 months ago","9 months ago","4 months ago","7 months ago","2 years ago","11 months ago","1 year ago","7 months ago"][e]})]},e))})]})}),a.jsx("div",{className:"bg-blue-600 rounded-[40px] mx-4 mt-8 border border-gray-300 max-w-7xl mx-auto",children:a.jsxs("div",{className:"max-w-7xl mx-auto grid md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-transparent p-8 rounded-[24px] contact-info-column text-center md:text-left flex flex-col items-start justify-center",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-4",children:"Contact a expert for foreigners"}),a.jsx("p",{className:"text-sm sm:text-base text-white mb-6",children:"Our agency for foreigners is at your disposal for the most daily practices up to the most complex cases."})]}),a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 md:rounded-tr-[39px] md:rounded-br-[39px] md:rounded-bl-[0px] rounded-br-[39px] rounded-bl-[39px]",children:a.jsxs("form",{className:"space-y-4 p-8",onSubmit:async t=>{t.preventDefault();const e=t.target,n=new FormData(e);try{await cu(Ko(Yo,"contacts"),{name:n.get("name"),surname:n.get("surname"),email:n.get("email"),location:n.get("location"),message:n.get("message"),date:new Date().toISOString(),privacyAccepted:n.get("privacy_accepted")==="on"});const r=document.createElement("div");r.innerHTML=`
            <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
              <div class="bg-white rounded-lg p-6 max-w-sm w-full">
                <div class="flex justify-center mb-4">
                  <svg class="w-12 h-12 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <h3 class="text-xl font-bold text-center mb-2">Message</h3>
                <p class="text-gray-600 text-center mb-6">Thanks for your submission!<br />We'll be in touch with you shortly.</p>
                <button class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">
                  OK
                </button>
              </div>
            </div>
          `,document.body.appendChild(r),r.querySelector("button").onclick=()=>{r.remove()},e.reset()}catch(r){console.error("Error submitting form:",r);const i=document.createElement("div");i.innerHTML=`
            <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
              <div class="bg-white rounded-lg p-6 max-w-sm w-full">
                <div class="flex justify-center mb-4">
                  <svg class="w-12 h-12 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                  </svg>
                </div>
                <h3 class="text-xl font-bold text-center mb-2">Message</h3>
                <p class="text-gray-600 text-center mb-6">Oops! There was a problem submitting your form</p>
                <button class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">
                  OK
                </button>
              </div>
            </div>
          `,document.body.appendChild(i),i.querySelector("button").onclick=()=>{i.remove()}}},children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{type:"text",name:"name",placeholder:"Name*",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"}),a.jsx("input",{type:"text",name:"surname",placeholder:"Surname",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"})]}),a.jsx("input",{type:"email",name:"email",placeholder:"E-mail*",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"}),a.jsx("input",{type:"text",name:"location",placeholder:"Where are you writing to us from?",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"}),a.jsx("textarea",{name:"message",placeholder:"Message*",required:!0,rows:3,className:"p-3 border border-gray-300 rounded-[20px] w-full bg-gray-50 text-sm"}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("input",{type:"checkbox",name:"privacy_accepted",required:!0,className:"mt-1 mr-2"}),a.jsxs("label",{className:"text-xs sm:text-sm text-gray-600",children:["I confirm that I have read the ",a.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"privacy policy"})]})]}),a.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-6 rounded-[40px] hover:bg-blue-700 transition-colors font-semibold text-sm sm:text-base",children:"SEND REQUEST"})]})})]})})]})]})}const Q2="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%2020010904//EN'%20'http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd'%3e%3csvg%20version='1.0'%20xmlns='http://www.w3.org/2000/svg'%20width='512.000000pt'%20height='512.000000pt'%20viewBox='0%200%20512.000000%20512.000000'%20preserveAspectRatio='xMidYMid%20meet'%3e%3cg%20transform='translate(0.000000,512.000000)%20scale(0.100000,-0.100000)'%20fill='%23000000'%20stroke='none'%3e%3cpath%20d='M1153%204985%20c-55%20-28%20-99%20-77%20-119%20-134%20-10%20-28%20-13%20-180%20-13%20-671%20l-1%20-635%2024%20-50%20c25%20-54%2071%20-100%20123%20-122%2023%20-9%2085%20-13%20218%20-13%20l185%200%202%20-270%203%20-270%20224%20270%20224%20270%20391%200%20391%200%2052%2030%20c28%2016%2061%2043%2072%2059%2051%2071%2051%2070%2051%20728%200%20435%20-3%20628%20-12%20661%20-15%2060%20-96%20145%20-153%20161%20-27%207%20-290%2011%20-826%2011%20l-785%200%20-51%20-25z%20m402%20-685%20c49%20-24%2075%20-64%2075%20-117%200%20-131%20-172%20-182%20-240%20-70%20-42%2068%20-17%20156%2053%20188%2053%2023%2061%2023%20112%20-1z%20m500%200%20c49%20-24%2075%20-64%2075%20-117%200%20-131%20-172%20-182%20-240%20-70%20-42%2068%20-17%20156%2053%20188%2053%2023%2061%2023%20112%20-1z%20m501%200%20c125%20-61%2079%20-250%20-61%20-250%20-65%200%20-125%2063%20-125%20133%200%2056%2025%2096%2073%20118%2053%2024%2061%2023%20113%20-1z'/%3e%3cpath%20d='M3140%203892%20c0%20-366%20-5%20-411%20-55%20-497%20-36%20-60%20-116%20-132%20-183%20-163%20l-57%20-27%20-367%20-3%20-368%20-3%200%20-220%20c0%20-162%204%20-228%2013%20-252%2022%20-52%2068%20-98%20122%20-123%2050%20-24%2052%20-24%20435%20-24%20l385%200%20220%20-265%20220%20-266%205%20263%205%20263%20190%205%20c112%203%20201%2010%20217%2017%2047%2021%20106%2083%20125%20131%2017%2044%2018%2093%2018%20677%200%20695%202%20675%20-64%20748%20-69%2077%20-68%2077%20-488%2077%20l-373%200%200%20-338z'/%3e%3cpath%20d='M205%203686%20c-17%20-7%20-45%20-30%20-64%20-51%20-31%20-36%20-33%20-42%20-27%20-88%204%20-27%2022%20-99%2041%20-160%2045%20-149%20543%20-1474%20585%20-1557%2053%20-106%2093%20-154%20331%20-395%20220%20-224%20227%20-233%20272%20-325%2047%20-99%2082%20-221%2093%20-328%20l7%20-62%20472%200%20473%200%207%20160%20c16%20343%20-24%20622%20-115%20817%20-76%20162%20-113%20204%20-376%20424%20-111%2092%20-255%20217%20-319%20276%20-293%20271%20-307%20281%20-399%20289%20-62%206%20-110%20-16%20-143%20-65%20-79%20-118%2057%20-342%20400%20-663%20149%20-139%20166%20-159%20167%20-196%200%20-32%20-43%20-72%20-79%20-72%20-33%200%20-58%2019%20-218%20169%20-379%20354%20-522%20626%20-434%20826%20l21%2047%20-82%20155%20c-44%2085%20-120%20240%20-168%20343%20-106%20231%20-150%20307%20-217%20376%20-80%2084%20-158%20111%20-228%2080z'/%3e%3cpath%20d='M4820%203081%20c-103%20-32%20-188%20-129%20-276%20-310%20-36%20-75%20-124%20-253%20-195%20-396%20l-129%20-261%2021%20-41%20c61%20-124%2015%20-300%20-129%20-492%20-95%20-127%20-173%20-210%20-335%20-362%20-138%20-129%20-152%20-139%20-187%20-139%20-30%200%20-43%206%20-59%2026%20-42%2053%20-36%2062%20182%20278%20208%20205%20303%20319%20353%20423%2072%20150%2021%20268%20-115%20268%20-87%20-1%20-134%20-30%20-314%20-198%20-149%20-138%20-306%20-274%20-547%20-474%20-52%20-43%20-116%20-105%20-143%20-138%20-59%20-73%20-138%20-232%20-166%20-336%20-47%20-169%20-67%20-413%20-56%20-659%20l7%20-160%20472%200%20471%200%2018%20110%20c21%20128%2059%20243%20108%20327%2022%2037%20115%20141%20260%20288%20234%20239%20266%20277%20323%20391%2042%2084%20545%201427%20585%201563%2044%20149%2047%20179%2019%20220%20-42%2063%20-108%2091%20-168%2072z'/%3e%3c/g%3e%3c/svg%3e";function sR(){return a.jsxs(a.Fragment,{children:[a.jsx(Ns,{title:"Contact Us",description:"Get in touch with E-Co Fisco's immigration and tax experts. We're here to help you navigate Italian bureaucracy and provide professional assistance.",keywords:"contact E-Co Fisco, immigration consultation Italy, tax consultation Italy, legal assistance Italy, foreigner help Italy"}),a.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 sm:text-4xl",children:"Contacts"}),a.jsx("h2",{className:"mt-3 text-2xl font-semibold text-gray-600",children:"Looking for assistance for foreigners?"}),a.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-gray-600 text-lg",children:"We are experts in immigration and Tax consultant."})]}),a.jsx("div",{className:"bg-white  rounded-[40px] mb-16 overflow-hidden bg-gradient-to-l from-indigo-50 to-purple-50 border border-gray-300 p-4 sm:p-8 h-full",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:[a.jsxs("div",{className:"w-full md:w-2/3 p-4 sm:p-8 md:p-12 text-center md:text-left",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-4",children:"Schedule Your Free Consultation Today"}),a.jsxs("p",{className:"text-base sm:text-lg text-gray-600 mb-6",children:["Do you have questions about our services?",a.jsx("br",{}),"Book a free 30-minute information call with us!"]}),a.jsx("a",{href:"/book-appointment",className:"inline-block px-6 sm:px-8 py-3 sm:py-4 bg-blue-600 text-white rounded-[40px] text-base sm:text-lg font-semibold hover:bg-blue-700 transition-colors transform hover:scale-105 duration-200",children:"Book Your Free Consultation"})]}),a.jsx("div",{className:"w-full md:w-1/3  p-6 sm:p-8 md:p-12 flex items-center justify-center rounded-[30px]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mb-4 sm:mb-6",children:a.jsx("img",{src:Q2,alt:"Consultation",className:"w-32 h-32 sm:w-40 sm:h-40 mx-auto object-contain [filter:brightness(0)_saturate(100%)_invert(39%)_sepia(98%)_saturate(1900%)_hue-rotate(206deg)_brightness(97%)_contrast(95%)]"})}),a.jsx("p",{className:"text-blue-800 font-medium text-base sm:text-lg",children:"30-Minute Free Consultation"})]})})]})})}),a.jsx("div",{className:"bg-blue-600 rounded-[40px] mx-4 mt-8 border border-gray-300 max-w-7xl mx-auto",children:a.jsxs("div",{className:"max-w-7xl mx-auto grid md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-transparent p-8 rounded-[24px] contact-info-column text-center md:text-left flex flex-col items-start justify-center",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-4",children:"Contact a expert for foreigners"}),a.jsx("p",{className:"text-sm sm:text-base text-white mb-6",children:"Our agency for foreigners is at your disposal for the most daily practices up to the most complex cases."})]}),a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 md:rounded-tr-[39px] md:rounded-br-[39px] md:rounded-bl-[0px] rounded-br-[39px] rounded-bl-[39px]",children:a.jsxs("form",{className:"space-y-4 p-8",onSubmit:async t=>{t.preventDefault();const e=t.target,n=new FormData(e);try{await cu(Ko(Yo,"contacts"),{name:n.get("name"),surname:n.get("surname"),email:n.get("email"),location:n.get("location"),message:n.get("message"),date:new Date().toISOString(),privacyAccepted:n.get("privacy_accepted")==="on"});const r=document.createElement("div");r.innerHTML=`
            <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
              <div class="bg-white rounded-lg p-6 max-w-sm w-full">
                <div class="flex justify-center mb-4">
                  <svg class="w-12 h-12 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <h3 class="text-xl font-bold text-center mb-2">Message</h3>
                <p class="text-gray-600 text-center mb-6">Thanks for your submission!<br />We'll be in touch with you shortly.</p>
                <button class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">
                  OK
                </button>
              </div>
            </div>
          `,document.body.appendChild(r),r.querySelector("button").onclick=()=>{r.remove()},e.reset()}catch(r){console.error("Error submitting form:",r);const i=document.createElement("div");i.innerHTML=`
            <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
              <div class="bg-white rounded-lg p-6 max-w-sm w-full">
                <div class="flex justify-center mb-4">
                  <svg class="w-12 h-12 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                  </svg>
                </div>
                <h3 class="text-xl font-bold text-center mb-2">Message</h3>
                <p class="text-gray-600 text-center mb-6">Oops! There was a problem submitting your form</p>
                <button class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">
                  OK
                </button>
              </div>
            </div>
          `,document.body.appendChild(i),i.querySelector("button").onclick=()=>{i.remove()}}},children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{type:"text",name:"name",placeholder:"Name*",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"}),a.jsx("input",{type:"text",name:"surname",placeholder:"Surname",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"})]}),a.jsx("input",{type:"email",name:"email",placeholder:"E-mail*",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"}),a.jsx("input",{type:"text",name:"location",placeholder:"Where are you writing to us from?",required:!0,className:"p-3 border border-gray-300 rounded-[40px] w-full bg-gray-50 text-sm"}),a.jsx("textarea",{name:"message",placeholder:"Message*",required:!0,rows:3,className:"p-3 border border-gray-300 rounded-[20px] w-full bg-gray-50 text-sm"}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("input",{type:"checkbox",name:"privacy_accepted",required:!0,className:"mt-1 mr-2"}),a.jsxs("label",{className:"text-xs sm:text-sm text-gray-600",children:["I confirm that I have read the ",a.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"privacy policy"})]})]}),a.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-6 rounded-[40px] hover:bg-blue-700 transition-colors font-semibold text-sm sm:text-base",children:"SEND REQUEST"})]})})]})}),a.jsxs("div",{className:"mt-8 flex flex-col items-center justify-center",children:[a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-6",children:"Or write to us on Whatsapp"}),a.jsx("a",{href:"https://wa.me/393516737374",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center w-16 h-16 bg-green-500 rounded-full hover:bg-green-600 transition-colors duration-200",children:a.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 448 512",children:a.jsx("path",{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"})})})]})]})]})}function oR(){return P.useState(null),a.jsxs(a.Fragment,{children:[a.jsx(Ns,{title:"Residence Permit Application",description:"Professional assistance with residence permit applications in Italy - document collection, verification, and submission services.",keywords:"residence permit Italy, permesso di soggiorno, Italian residence permit application, immigration services Italy"}),a.jsx("div",{className:"bg-gradient-to-br from-indigo-100 via-blue-50 to-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[a.jsxs("div",{className:"md:w-1/2 md:pr-12 mb-10 md:mb-0",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 leading-tight mb-4",children:"Residence Permit Application Service"}),a.jsx("p",{className:"text-xl text-gray-700 mb-8",children:"Expert guidance through your Italian residence permit application process with professional support every step of the way."}),a.jsx("a",{onClick:()=>{const t=document.querySelector("#services-section");t==null||t.scrollIntoView({behavior:"smooth"})},className:"inline-block px-8 py-4 bg-blue-600 text-white font-semibold rounded-lg shadow-lg hover:bg-blue-700 transition duration-300 transform hover:-translate-y-1 cursor-pointer",children:"Get Started"})]}),a.jsx("div",{className:"md:w-1/2 relative",children:a.jsxs("div",{className:"rounded-2xl overflow-hidden shadow-2xl",children:[a.jsx("img",{src:Qn,alt:"Residence Permit Application",className:"w-full h-auto object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-blue-900/70 to-transparent"})]})})]})})}),a.jsx("div",{id:"services-section",className:"py-16 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Our Residence Permit Services"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"We provide comprehensive assistance throughout the entire process of obtaining your Italian residence permit."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 justify-items-center",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden  border border-gray-200",children:a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"w-14 h-14 rounded-full bg-blue-100 flex items-center justify-center mb-6 mx-auto",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Consultancy on Residence Permit Application"}),a.jsx("p",{className:"text-gray-600",children:"Expert guidance through your Italian residence permit application process with professional legal support."})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden  border border-gray-200",children:a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"w-14 h-14 rounded-full bg-green-100 flex items-center justify-center mb-6 mx-auto",children:a.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Document Collection"}),a.jsx("p",{className:"text-gray-600",children:"Comprehensive assistance in collecting and verifying all necessary documents for your residence permit."})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-200",children:a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"w-14 h-14 rounded-full bg-purple-100 flex items-center justify-center mb-6 mx-auto",children:a.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Application Submission"}),a.jsx("p",{className:"text-gray-600",children:"Professional management of residence permit request submission and communication with authorities."})]})})]})]})}),a.jsx("div",{className:"py-16 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Understanding Residence Permits"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Hover or tap on the cards below to learn more about residence permits in Italy."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsx("div",{className:"h-[450px] group perspective-1000",children:a.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[a.jsx("div",{className:"card-face card-front absolute w-full h-full bg-gradient-to-br from-blue-50 to-indigo-100 rounded-2xl shadow-sm p-8 flex items-center justify-center backface-hidden border border-blue-300",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"What is a residence permit?"}),a.jsx("p",{className:"text-gray-600",children:"Tap to learn more"})]})}),a.jsx("div",{className:"card-face card-back absolute w-full h-full bg-gradient-to-br from-blue-600 to-indigo-700 text-white rounded-2xl shadow-lg p-8 backface-hidden rotate-y-180 border border-blue-500",children:a.jsxs("div",{className:"h-full flex flex-col justify-center",children:[a.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:"Residence Permit"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-white/90 leading-relaxed",children:"The residence permit is a title that is granted to a foreign citizen and that gives the right to reside in the entire national territory, for a specific duration or an unlimited period."}),a.jsx("p",{className:"text-white/90 leading-relaxed",children:"It allows foreigners in Italy to carry out the activities permitted by law and related to the reason for which it is issued."})]})]})})]})}),a.jsx("div",{className:"h-[450px] group perspective-1000",children:a.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[a.jsx("div",{className:"card-face card-front absolute w-full h-full bg-gradient-to-br from-green-50 to-emerald-100 rounded-2xl shadow-sm p-8 flex items-center justify-center backface-hidden border border-green-300",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-200 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Who is a foreign citizen according to Italian law?"}),a.jsx("p",{className:"text-gray-600",children:"Tap to learn more"})]})}),a.jsx("div",{className:"card-face card-back absolute w-full h-full bg-gradient-to-br from-green-600 to-emerald-700 text-white rounded-2xl shadow-lg p-8 backface-hidden rotate-y-180 border border-green-500",children:a.jsxs("div",{className:"h-full flex flex-col justify-center",children:[a.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:"Foreign Citizen Definition"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-white/90 leading-relaxed mb-2",children:"A foreigner is someone who does not have Italian citizenship and can be:"}),a.jsxs("ul",{className:"space-y-2 text-white/90",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"mr-2",children:""}),a.jsx("span",{children:"A Community citizen: when he or she has the citizenship of one of the member states of the European Union."})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"mr-2",children:""}),a.jsx("span",{children:"A third-country citizen, or non-EU citizen, when he or she has the citizenship of a state that does not belong to the European Union."})]})]})]})]})})]})}),a.jsx("div",{className:"h-[450px] group perspective-1000",children:a.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[a.jsx("div",{className:"card-face card-front absolute w-full h-full bg-gradient-to-br from-purple-50 to-violet-100 rounded-2xl shadow-sm p-8 flex items-center justify-center backface-hidden border border-purple-300",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Types of residence permit"}),a.jsx("p",{className:"text-gray-600",children:"Tap to learn more"})]})}),a.jsx("div",{className:"card-face card-back absolute w-full h-full bg-gradient-to-br from-purple-600 to-violet-700 text-white rounded-2xl shadow-lg p-8 backface-hidden rotate-y-180 border border-purple-500",children:a.jsxs("div",{className:"h-full flex flex-col justify-center",children:[a.jsx("h3",{className:"text-2xl font-bold mb-4 text-center",children:"Residence Permit Types"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-white/90 leading-relaxed mb-2",children:"The main types of residence permits are:"}),a.jsxs("ul",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-white/90 text-sm",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"mr-2",children:""}),a.jsx("span",{children:"Subordinate work"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"mr-2",children:""}),a.jsx("span",{children:"Self-employment"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"mr-2",children:""}),a.jsx("span",{children:"Family reasons"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"mr-2",children:""}),a.jsx("span",{children:"Study reasons"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"mr-2",children:""}),a.jsx("span",{children:"Religious reasons"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"mr-2",children:""}),a.jsx("span",{children:"Sports activities"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"mr-2",children:""}),a.jsx("span",{children:"Medical treatment"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"mr-2",children:""}),a.jsx("span",{children:"Minor assistance"})]})]}),a.jsx("p",{className:"text-sm italic mt-4 text-white/80",children:"It is important to know that there are also residence permits that do not require an entry visa."})]})]})})]})})]})]})}),a.jsx("div",{className:"py-16 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Residence Permit Requirements"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"We check all requirements for you to ensure a successful application."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[a.jsx("div",{className:"h-[400px] group perspective-1000",children:a.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[a.jsx("div",{className:"card-face card-front absolute w-full h-full bg-white rounded-2xl shadow-sm p-8 flex items-center justify-center backface-hidden border border-gray-200",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("svg",{className:"w-8 h-8 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 11c0 3.517-1.009 6.799-2.753 9.571m-3.44-2.04l.054-.09A13.916 13.916 0 008 11a4 4 0 118 0c0 1.017-.07 2.019-.203 3m-2.118 6.844A21.88 21.88 0 0015.171 17m3.839 1.132c.645-2.266.99-4.659.99-7.132A8 8 0 008 4.07M3 15.364c.64-1.319 1-2.8 1-4.364 0-1.457.39-2.823 1.07-4"})})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Possession of Entry Visa"}),a.jsx("p",{className:"text-gray-600",children:"Tap to learn more"})]})}),a.jsx("div",{className:"card-face card-back absolute w-full h-full bg-gradient-to-br from-amber-600 to-orange-700 text-white rounded-2xl shadow-lg p-8 backface-hidden rotate-y-180 border border-amber-500",children:a.jsxs("div",{className:"h-full flex flex-col justify-center",children:[a.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:"Entry Visa Requirement"}),a.jsx("p",{className:"text-white/90 leading-relaxed text-center",children:"When you first apply for a residence permit, you must prove that you entered with a visa and are legally residing in the territory."})]})})]})}),a.jsx("div",{className:"h-[400px] group perspective-1000",children:a.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[a.jsx("div",{className:"card-face card-front absolute w-full h-full bg-white rounded-2xl shadow-sm p-8 flex items-center justify-center backface-hidden border border-gray-200",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-teal-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("svg",{className:"w-8 h-8 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Income or Family Constraints"}),a.jsx("p",{className:"text-gray-600",children:"Tap to learn more"})]})}),a.jsx("div",{className:"card-face card-back absolute w-full h-full bg-gradient-to-br from-teal-600 to-emerald-700 text-white rounded-2xl shadow-lg p-8 backface-hidden rotate-y-180 border border-teal-500",children:a.jsxs("div",{className:"h-full flex flex-col justify-center",children:[a.jsx("h3",{className:"text-2xl font-bold mb-4 text-center",children:"Income Requirements"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-white/90 leading-relaxed",children:"The main requirement for a residence permit for family reasons is to demonstrate your family relationship with someone who already has a residence permit or is an EU citizen."}),a.jsx("p",{className:"text-white/90 leading-relaxed",children:"The residence permit for work reasons requires a minimum annual income that depends on the people who are dependent on you."})]})]})})]})}),a.jsx("div",{className:"h-[400px] group perspective-1000",children:a.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[a.jsx("div",{className:"card-face card-front absolute w-full h-full bg-white rounded-2xl shadow-sm p-8 flex items-center justify-center backface-hidden border border-gray-200",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Suitable Accommodation"}),a.jsx("p",{className:"text-gray-600",children:"Tap to learn more"})]})}),a.jsx("div",{className:"card-face card-back absolute w-full h-full bg-gradient-to-br from-indigo-600 to-violet-700 text-white rounded-2xl shadow-lg p-8 backface-hidden rotate-y-180 border border-indigo-500",children:a.jsxs("div",{className:"h-full flex flex-col justify-center",children:[a.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:"Accommodation Requirement"}),a.jsx("p",{className:"text-white/90 leading-relaxed text-center",children:"In any case, to obtain a residence permit you must demonstrate that you have a house available where you can live, for this you must present the declaration of hospitality or the certificate of residence."})]})})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"p-8",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"flex flex-col items-center md:flex-row md:items-start",children:[a.jsx("div",{className:"flex-shrink-0 mb-6 md:mb-0 md:mr-6",children:a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-4",children:"Attention! Some residence permits do not require an entry visa"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"These are particular types of residence permits that must be requested with particular attention:"}),a.jsxs("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2",children:[a.jsxs("li",{className:"flex items-center text-gray-700",children:[a.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),a.jsx("span",{children:"Residence permit for MINORS IN A STATE OF ABANDONMENT"})]}),a.jsxs("li",{className:"flex items-center text-gray-700",children:[a.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),a.jsx("span",{children:"Residence permit for SPECIAL PROTECTION"})]}),a.jsxs("li",{className:"flex items-center text-gray-700",children:[a.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),a.jsx("span",{children:"Residence permit for MINOR ASSISTANCE (Art.31)"})]}),a.jsxs("li",{className:"flex items-center text-gray-700",children:[a.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),a.jsx("span",{children:"Residence permit for MEDICAL TREATMENTS"})]}),a.jsxs("li",{className:"flex items-center text-gray-700",children:[a.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),a.jsx("span",{children:"Residence permit for JUSTICE REASONS"})]}),a.jsxs("li",{className:"flex items-center text-gray-700",children:[a.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),a.jsx("span",{children:"Residence permit for ASYLUM REQUEST"})]}),a.jsxs("li",{className:"flex items-center text-gray-700",children:[a.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),a.jsx("span",{children:"Residence permit for PENDING CITIZENSHIP"})]})]})]})]})})}),a.jsx("div",{className:"bg-gray-100 py-6 px-8 text-center",children:a.jsxs("button",{onClick:()=>{const t=document.querySelector("#contact-form");t==null||t.scrollIntoView({behavior:"smooth"})},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition-all duration-300 hover:-translate-y-1",children:["Call us now if you don't qualify",a.jsx("svg",{className:"w-5 h-5 ml-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})})]})]})}),a.jsx("div",{className:"py-16 bg-gray-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"bg-white rounded-[40px] shadow-sm overflow-hidden",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-blue-50 rounded-full -translate-y-1/2 translate-x-1/2 opacity-50"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-indigo-50 rounded-full translate-y-1/2 -translate-x-1/2 opacity-50"}),a.jsx("div",{className:"relative p-8 md:p-12",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Required Documents"}),a.jsx("div",{className:"w-20 h-1 bg-blue-600 mx-auto mb-6"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Essential documentation for your residence permit application"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-8 rounded-3xl",children:[a.jsx("p",{className:"text-lg text-gray-700 mb-8 leading-relaxed",children:"The following documents are required for all residence permit applications. Additional specific documents may be needed based on your permit type."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm hover:shadow-md transition-shadow duration-300",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-blue-600 rounded-2xl flex items-center justify-center text-white font-bold",children:"01"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:"16 Euro Revenue Stamp"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Required for administrative fees"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm hover:shadow-md transition-shadow duration-300",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-blue-600 rounded-2xl flex items-center justify-center text-white font-bold",children:"02"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:"Passport Copy"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Including number, personal data and visa"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm hover:shadow-md transition-shadow duration-300",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-blue-600 rounded-2xl flex items-center justify-center text-white font-bold",children:"03"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:"Current Permit"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"For renewals or conversions"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm hover:shadow-md transition-shadow duration-300",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-blue-600 rounded-2xl flex items-center justify-center text-white font-bold",children:"04"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:"Passport Photos"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"4 photos + 4 per minor child"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm hover:shadow-md transition-shadow duration-300",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-blue-600 rounded-2xl flex items-center justify-center text-white font-bold",children:"05"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:"Tax Code"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"If already issued"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm hover:shadow-md transition-shadow duration-300",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-blue-600 rounded-2xl flex items-center justify-center text-white font-bold",children:"06"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:"Proof of Address"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Residence certificate or hospitality declaration"})]})]})})]})]})]})})]})})})}),a.jsx("div",{className:"py-10 bg-gray-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 rounded-2xl shadow-xl overflow-hidden",children:a.jsx("div",{className:"p-8 md:p-12",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex-1 text-white",children:[a.jsx("h4",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Contact us to request a residence permit for a brother of an Italian citizen"}),a.jsx("p",{className:"text-white/80 text-lg mb-0 md:mb-4",children:"Our experts are ready to assist you with your specific situation"})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsxs("button",{onClick:()=>{const t=document.querySelector("#contact-form");t==null||t.scrollIntoView({behavior:"smooth"})},className:"inline-flex items-center px-6 py-3 bg-white text-blue-700 font-semibold rounded-lg shadow-md hover:bg-gray-100 transition-all duration-300 transform hover:-translate-y-1",children:["Call us now",a.jsx("svg",{className:"w-5 h-5 ml-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})})]})})})})}),a.jsx("div",{className:"py-16 bg-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden border border-gray-200",children:a.jsx("div",{className:"p-8 md:p-12",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-8",children:"Do you have the income to apply for a residence permit?"}),a.jsxs("div",{className:"space-y-6 text-gray-700",children:[a.jsx("p",{className:"text-lg",children:"The income for the residence permit is a requirement that mainly concerns the residence permit for reasons of subordinate employment and for reasons of self-employment."}),a.jsx("p",{className:"text-lg",children:"In these two cases, it is necessary to demonstrate that you have sufficient income to be able to obtain a residence permit for work reasons."}),a.jsx("p",{className:"text-lg",children:"In any case, this data can also vary based on the family unit, how many people you have in your care and what type of permit you are requesting."}),a.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-blue-500 text-white rounded-full mr-4 font-bold text-lg",children:"1"}),a.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"Applicant only"})]}),a.jsxs("p",{className:"ml-14 text-gray-700",children:["Annual income requirement: ",a.jsx("span",{className:"font-bold text-blue-700",children:"6,947.33"})]})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-blue-500 text-white rounded-full mr-4 font-bold text-lg",children:"2"}),a.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"Applicant + 1 family member"})]}),a.jsxs("p",{className:"ml-14 text-gray-700",children:["Annual income requirement: ",a.jsx("span",{className:"font-bold text-blue-700",children:"10,420.99"})]})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-blue-500 text-white rounded-full mr-4 font-bold text-lg",children:"3"}),a.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"Applicant + 2 family members"})]}),a.jsxs("p",{className:"ml-14 text-gray-700",children:["Annual income requirement: ",a.jsx("span",{className:"font-bold text-blue-700",children:"13,849.65"})]})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-blue-500 text-white rounded-full mr-4 font-bold text-lg",children:"4"}),a.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"Applicant + 3 family members"})]}),a.jsxs("p",{className:"ml-14 text-gray-700",children:["Annual income requirement: ",a.jsx("span",{className:"font-bold text-blue-700",children:"17,323.31"})]})]})]}),a.jsx("div",{className:"mt-8 p-6 bg-blue-100 rounded-xl border border-blue-200",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("p",{className:"text-gray-800 ml-3 font-medium",children:"It is important to know that, to demonstrate income, you can also use and add the incomes of your cohabiting family members."})]})})]})]})})})})}),a.jsx("div",{className:"py-16 bg-gray-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden border border-gray-200",children:a.jsx("div",{className:"p-8 md:p-12",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Problems applying for a residence permit?"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[a.jsx("div",{className:"h-[400px] group perspective-1000",children:a.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[a.jsx("div",{className:"card-face card-front absolute w-full h-full bg-gradient-to-br from-red-50 to-rose-100 rounded-2xl shadow-md p-8 flex items-center justify-center backface-hidden border border-red-200",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Notice of rejection of residence permit application"}),a.jsx("p",{className:"text-gray-600",children:"Tap to learn more"})]})}),a.jsx("div",{className:"card-face card-back absolute w-full h-full bg-gradient-to-br from-red-600 to-rose-700 text-white rounded-2xl shadow-lg p-8 backface-hidden rotate-y-180 border border-red-500",children:a.jsxs("div",{className:"h-full flex flex-col justify-center",children:[a.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:"Application Rejection"}),a.jsxs("p",{className:"text-white/90 leading-relaxed text-center",children:["If you see this message, it may be that your application for a residence permit has been suspended, archived or rejected.",a.jsx("br",{}),a.jsx("br",{}),"But it could also be a technical error, so it is always a good idea to check."]})]})})]})}),a.jsx("div",{className:"h-[400px] group perspective-1000",children:a.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[a.jsx("div",{className:"card-face card-front absolute w-full h-full bg-gradient-to-br from-yellow-50 to-amber-100 rounded-2xl shadow-md p-8 flex items-center justify-center backface-hidden border border-yellow-200",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("svg",{className:"w-8 h-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Refusal of residence permit"}),a.jsx("p",{className:"text-gray-600",children:"Tap to learn more"})]})}),a.jsx("div",{className:"card-face card-back absolute w-full h-full bg-gradient-to-br from-yellow-600 to-amber-700 text-white rounded-2xl shadow-lg p-8 backface-hidden rotate-y-180 border border-yellow-500",children:a.jsxs("div",{className:"h-full flex flex-col justify-center",children:[a.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:"Permit Application Status"}),a.jsx("p",{className:"text-white/90 leading-relaxed text-center",children:'If you see the message "residence permit in processing" you must wait, the process is ongoing.'})]})})]})}),a.jsx("div",{className:"h-[400px] group perspective-1000",children:a.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[a.jsx("div",{className:"card-face card-front absolute w-full h-full bg-gradient-to-br from-green-50 to-emerald-100 rounded-2xl shadow-md p-8 flex items-center justify-center backface-hidden border border-green-200",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-200 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Revocation of residence permit"}),a.jsx("p",{className:"text-gray-600",children:"Tap to learn more"})]})}),a.jsx("div",{className:"card-face card-back absolute w-full h-full bg-gradient-to-br from-green-600 to-emerald-700 text-white rounded-2xl shadow-lg p-8 backface-hidden rotate-y-180 border border-green-500",children:a.jsxs("div",{className:"h-full flex flex-col justify-center",children:[a.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:"Ready for Collection"}),a.jsxs("p",{className:"text-white/90 leading-relaxed text-center",children:["The residence permit is ready for delivery and can therefore be collected at the Police Headquarters.",a.jsx("br",{}),a.jsx("br",{}),"Some Police Headquarters send a text message, others require booking an appointment for collection."]})]})})]})})]}),a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 rounded-xl p-8 text-white shadow-lg",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Respond to the rejection notice"}),a.jsx("p",{className:"text-white/80",children:"Get expert help to overturn rejection decisions and secure your residence permit"})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsxs("button",{onClick:()=>{const t=document.querySelector("#contact-form");t==null||t.scrollIntoView({behavior:"smooth"})},className:"inline-flex items-center px-6 py-3 bg-white text-blue-700 font-semibold rounded-lg shadow-md hover:bg-gray-100 transition-all duration-300 transform hover:-translate-y-1",children:["Call us now",a.jsx("svg",{className:"w-5 h-5 ml-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})})]})})]})})})})}),a.jsx("div",{className:"py-16 bg-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-2xl shadow-sm overflow-hidden border border-blue-200",children:a.jsx("div",{className:"p-8 md:p-12",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-4",children:"Are you looking for a lawyer to apply for a residence permit?"}),a.jsx("h3",{className:"text-2xl font-semibold text-gray-800 text-center mb-8",children:"SH Immigration Specialists is much more than an agency for foreigners"}),a.jsxs("div",{className:"space-y-8 text-gray-700",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-lg",children:"We do one thing, but we do it better than anyone else."}),a.jsx("p",{className:"text-lg",children:"We offer immigration services and provide you with a lawyer to apply for a residence permit."}),a.jsxs("p",{className:"text-lg",children:["If you rely on our agency for foreigners ",a.jsx("strong",{children:"you just have to relax and wait for your first residence permit."})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Who we are"}),a.jsx("p",{className:"text-lg",children:"SH Immigration Specialists is much more than an immigration agency."}),a.jsxs("p",{className:"text-lg",children:["We are a law firm specializing in immigration law that provides you with an ",a.jsx("strong",{children:"experienced immigration lawyer."})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Where we operate"}),a.jsx("p",{className:"text-lg",children:"We offer our immigration and residence permit application consultancy services throughout Italy online and in our offices in Bologna, Milan, Turin, Genoa, Rome and Naples."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"How we work"}),a.jsx("p",{className:"text-lg",children:"SH Immigration Specialists has established itself as a leader among agencies for foreigners because, with its lawyers for foreigners, it offers complete 360 immigration services."}),a.jsx("p",{className:"text-lg",children:"We help you collect documents and send the request, and we follow you from until you obtain your first residence permit and, in the future, Italian citizenship."})]})]})]})]})})})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 my-12",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"h-[400px] group perspective-1000",children:a.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[a.jsx("div",{className:"card-face card-front absolute w-full h-full bg-gradient-to-r from-blue-50 to-indigo-50 rounded-[24px] border border-gray-300 p-6 flex items-center justify-center backface-hidden",children:a.jsx("h3",{className:"text-2xl font-semibold text-gray-800 text-center",children:"Agency for foreigners: what it does"})}),a.jsx("div",{className:"card-face card-back absolute w-full h-full bg-blue-600 text-white rounded-[24px] p-6 backface-hidden rotate-y-180",children:a.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:a.jsxs("p",{className:"text-[15px] leading-relaxed text-center",children:["A simple immigration agency fills out the documents, often with serious errors.",a.jsx("br",{}),a.jsx("br",{}),"SH Immigration Specialists is much more: a law firm for foreigners that can get you the documents in record time."]})})})]})}),a.jsx("div",{className:"h-[400px] group perspective-1000",children:a.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[a.jsx("div",{className:"card-face card-front absolute w-full h-full bg-gradient-to-r from-blue-50 to-indigo-50 rounded-[24px] border border-gray-300 p-6 flex items-center justify-center backface-hidden",children:a.jsx("h3",{className:"text-2xl font-semibold text-gray-800 text-center",children:"Lawyer for foreigners: who is he?"})}),a.jsx("div",{className:"card-face card-back absolute w-full h-full bg-blue-600 text-white rounded-[24px] p-6 backface-hidden rotate-y-180",children:a.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:a.jsx("p",{className:"text-[15px] leading-relaxed text-center",children:"The immigration lawyer specializes in the procedures for immigrating to Italy and staying legally in our country, without any problems with documents."})})})]})}),a.jsx("div",{className:"h-[400px] group perspective-1000",children:a.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[a.jsx("div",{className:"card-face card-front absolute w-full h-full bg-gradient-to-r from-blue-50 to-indigo-50 rounded-[24px] border border-gray-300 p-6 flex items-center justify-center backface-hidden",children:a.jsx("h3",{className:"text-2xl font-semibold text-gray-800 text-center",children:"Immigration Lawyer: How Much Does It Cost?"})}),a.jsx("div",{className:"card-face card-back absolute w-full h-full bg-blue-600 text-white rounded-[24px] p-6 backface-hidden rotate-y-180",children:a.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:a.jsx("p",{className:"text-[15px] leading-relaxed text-center",children:"The cost of a lawyer for foreigners depends on each case. Call or write to us to explain your problem and get a quote."})})})]})}),a.jsx("div",{className:"h-[400px] group perspective-1000",children:a.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d group-hover:rotate-y-180",children:[a.jsx("div",{className:"card-face card-front absolute w-full h-full bg-gradient-to-r from-blue-50 to-indigo-50 rounded-[24px] border border-gray-300 p-6 flex items-center justify-center backface-hidden",children:a.jsx("h3",{className:"text-2xl font-semibold text-gray-800 text-center",children:"Residence permit application consultancy: how it works"})}),a.jsx("div",{className:"card-face card-back absolute w-full h-full bg-blue-600 text-white rounded-[24px] p-6 backface-hidden rotate-y-180",children:a.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:a.jsxs("p",{className:"text-[15px] leading-relaxed text-center",children:["If you want to get your first residence permit and need advice, contact us.",a.jsx("br",{}),a.jsx("br",{}),"We will set a date and time for our meeting, in your language, online or in our office."]})})})]})})]})}),a.jsx("div",{className:"py-16 bg-gradient-to-r from-blue-600/5 to-indigo-600/5",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden border border-blue-100/50",children:a.jsxs("div",{className:"flex flex-col md:flex-row",children:[a.jsxs("div",{className:"md:w-3/5 p-8 md:p-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Get Expert Guidance - Book a Free Consultation"}),a.jsxs("p",{className:"text-lg text-gray-600 mb-8",children:["Have questions about residence permits or immigration services?",a.jsx("br",{}),"Schedule a complimentary 30-minute consultation with our experts to discuss your specific needs."]}),a.jsxs("a",{href:"/book-appointment",className:"group inline-flex items-center px-8 py-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-all duration-300 shadow-md hover:shadow-lg",children:[a.jsx("span",{children:"Schedule Your Free Consultation"}),a.jsx("svg",{className:"ml-2 w-5 h-5 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]}),a.jsx("div",{className:"md:w-2/5 bg-white  p-8 md:p-12 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mb-6",children:a.jsx("img",{src:Q2,alt:"Consultation",className:"w-40 h-40 mx-auto object-contain [filter:brightness(0)_saturate(100%)_invert(39%)_sepia(98%)_saturate(1900%)_hue-rotate(206deg)_brightness(97%)_contrast(95%)]"})}),a.jsx("div",{className:"bg-white/50   py-3 px-6   ",children:a.jsx("p",{className:"text-blue-800 font-semibold text-lg",children:"30-Minute Free Consultation"})})]})})]})})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 my-12",children:a.jsx("div",{className:"bg-white rounded-[40px] border border-gray-300 overflow-hidden",children:a.jsx("div",{className:"p-8 md:p-12",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-8",children:"FAQ - Residence permit request"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{onClick:t=>{const e=t.currentTarget.nextElementSibling,n=t.currentTarget.querySelector("svg");e&&n&&(e.classList.toggle("hidden"),n.classList.toggle("rotate-180"))},className:"w-full flex justify-between items-center p-4 hover:bg-gray-50 transition-colors",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"What is a residence permit?"}),a.jsx("svg",{className:"w-5 h-5 text-gray-500 transition-transform duration-200",viewBox:"0 0 320 512",children:a.jsx("path",{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z",fill:"currentColor"})})]}),a.jsx("div",{className:"hidden p-4 bg-gray-50",children:a.jsx("p",{className:"text-gray-700",children:"The residence permit is the administrative document that allows the foreign citizen to reside in Italy and is used to certify their legal presence in the country. It is mandatory that the foreign citizen with an expired visa always has the permit or the receipt of their request with them."})})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{onClick:t=>{const e=t.currentTarget.nextElementSibling,n=t.currentTarget.querySelector("svg");e&&n&&(e.classList.toggle("hidden"),n.classList.toggle("rotate-180"))},className:"w-full flex justify-between items-center p-4 hover:bg-gray-50 transition-colors",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"What is a residence permit?"}),a.jsx("svg",{className:"w-5 h-5 text-gray-500 transition-transform duration-200",viewBox:"0 0 320 512",children:a.jsx("path",{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z",fill:"currentColor"})})]}),a.jsx("div",{className:"hidden p-4 bg-gray-50",children:a.jsx("p",{className:"text-gray-700",children:"The residence permit is the administrative document that allows the foreign citizen to reside in Italy and is used to certify their legal presence in the country. It is mandatory that the foreign citizen with an expired visa always has the permit or the receipt of their request with them."})})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{onClick:t=>{const e=t.currentTarget.nextElementSibling,n=t.currentTarget.querySelector("svg");e&&n&&(e.classList.toggle("hidden"),n.classList.toggle("rotate-180"))},className:"w-full flex justify-between items-center p-4 hover:bg-gray-50 transition-colors",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"How long does it take to apply for a residence permit?"}),a.jsx("svg",{className:"w-5 h-5 text-gray-500 transition-transform duration-200",viewBox:"0 0 320 512",children:a.jsx("path",{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z",fill:"currentColor"})})]}),a.jsx("div",{className:"hidden p-4 bg-gray-50",children:a.jsx("p",{className:"text-gray-700",children:"Anyone coming from abroad and wishing to remain in Italian territory is required to submit the application for a residence permit within a maximum period of 8 working days from arrival."})})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{onClick:t=>{const e=t.currentTarget.nextElementSibling,n=t.currentTarget.querySelector("svg");e&&n&&(e.classList.toggle("hidden"),n.classList.toggle("rotate-180"))},className:"w-full flex justify-between items-center p-4 hover:bg-gray-50 transition-colors",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Where do you apply for a residence permit?"}),a.jsx("svg",{className:"w-5 h-5 text-gray-500 transition-transform duration-200",viewBox:"0 0 320 512",children:a.jsx("path",{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z",fill:"currentColor"})})]}),a.jsx("div",{className:"hidden p-4 bg-gray-50",children:a.jsx("p",{className:"text-gray-700",children:"The application for the issue or renewal of a residence permit must be submitted at the post office. The competent Police Headquarters is identified with reference to the foreigner's place of residence. In certain circumstances, it is possible to submit the application directly at the Police Headquarters."})})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{onClick:t=>{const e=t.currentTarget.nextElementSibling,n=t.currentTarget.querySelector("svg");e&&n&&(e.classList.toggle("hidden"),n.classList.toggle("rotate-180"))},className:"w-full flex justify-between items-center p-4 hover:bg-gray-50 transition-colors",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"What is the postal receipt for the residence permit application for?"}),a.jsx("svg",{className:"w-5 h-5 text-gray-500 transition-transform duration-200",viewBox:"0 0 320 512",children:a.jsx("path",{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z",fill:"currentColor"})})]}),a.jsx("div",{className:"hidden p-4 bg-gray-50",children:a.jsx("p",{className:"text-gray-700",children:"The application receipt constitutes, until the actual delivery of the residence permit, a document that certifies the regularity of the foreigner's stay in Italy. The latter is required to carefully keep the receipt and present it at the Police Headquarters when collecting the residence permit. To check the processing status of the application, the foreigner can consult the website www.portaleimmigrazione.it and, through the website http://questure.poliziadistato.it/stranieri/?mime=IT, can check the availability of the offices for collecting the residence permit."})})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{onClick:t=>{const e=t.currentTarget.nextElementSibling,n=t.currentTarget.querySelector("svg");e&&n&&(e.classList.toggle("hidden"),n.classList.toggle("rotate-180"))},className:"w-full flex justify-between items-center p-4 hover:bg-gray-50 transition-colors",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Can I work with the postal receipt of the request or renewal of the residence permit?"}),a.jsx("svg",{className:"w-5 h-5 text-gray-500 transition-transform duration-200",viewBox:"0 0 320 512",children:a.jsx("path",{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z",fill:"currentColor"})})]}),a.jsx("div",{className:"hidden p-4 bg-gray-50",children:a.jsx("p",{className:"text-gray-700",children:"Yes, with the postal receipt of issue or renewal of the residence permit you can work."})})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{onClick:t=>{const e=t.currentTarget.nextElementSibling,n=t.currentTarget.querySelector("svg");e&&n&&(e.classList.toggle("hidden"),n.classList.toggle("rotate-180"))},className:"w-full flex justify-between items-center p-4 hover:bg-gray-50 transition-colors",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Can I travel with a postal receipt?"}),a.jsx("svg",{className:"w-5 h-5 text-gray-500 transition-transform duration-200",viewBox:"0 0 320 512",children:a.jsx("path",{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z",fill:"currentColor"})})]}),a.jsx("div",{className:"hidden p-4 bg-gray-50",children:a.jsx("p",{className:"text-gray-700",children:"Yes, those who are waiting for the renewal of their residence permit can leave Italy to go to their country with a direct flight and return by showing only the receipt from the Italian Post Office certifying the submission of the application for the residence permit or residence card."})})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{onClick:t=>{const e=t.currentTarget.nextElementSibling,n=t.currentTarget.querySelector("svg");e&&n&&(e.classList.toggle("hidden"),n.classList.toggle("rotate-180"))},className:"w-full flex justify-between items-center p-4 hover:bg-gray-50 transition-colors",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Can I apply for family reunification with the postal receipt?"}),a.jsx("svg",{className:"w-5 h-5 text-gray-500 transition-transform duration-200",viewBox:"0 0 320 512",children:a.jsx("path",{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z",fill:"currentColor"})})]}),a.jsx("div",{className:"hidden p-4 bg-gray-50",children:a.jsx("p",{className:"text-gray-700",children:"Yes, it is possible to request family reunification using the postal receipt, provided that all the conditions set out in Article 28 and following of the Immigration Consolidated Act are met."})})]})]})]})})})})]})}function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function jr(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Xe(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function en(t){Xe(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Nc(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Y2(t,e){Xe(2,arguments);var n=en(t).getTime(),r=jr(e);return new Date(n+r)}var aR={};function hu(){return aR}function lR(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function cR(t){Xe(1,arguments);var e=en(t);return e.setHours(0,0,0,0),e}var uR=6e4;function ll(t,e){Xe(2,arguments);var n=jr(e);return Y2(t,n*uR)}function dR(t){return Xe(1,arguments),t instanceof Date||Nc(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function hR(t){if(Xe(1,arguments),!dR(t)&&typeof t!="number")return!1;var e=en(t);return!isNaN(Number(e))}function fR(t,e){Xe(2,arguments);var n=jr(e);return Y2(t,-n)}var mR=864e5;function pR(t){Xe(1,arguments);var e=en(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/mR)+1}function Sc(t){Xe(1,arguments);var e=1,n=en(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function X2(t){Xe(1,arguments);var e=en(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Sc(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=Sc(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function gR(t){Xe(1,arguments);var e=X2(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Sc(n);return r}var yR=6048e5;function vR(t){Xe(1,arguments);var e=en(t),n=Sc(e).getTime()-gR(e).getTime();return Math.round(n/yR)+1}function Cc(t,e){var n,r,i,s,o,c,u,d;Xe(1,arguments);var f=hu(),p=jr((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&r!==void 0?r:(u=f.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=en(t),T=g.getUTCDay(),C=(T<p?7:0)+T-p;return g.setUTCDate(g.getUTCDate()-C),g.setUTCHours(0,0,0,0),g}function J2(t,e){var n,r,i,s,o,c,u,d;Xe(1,arguments);var f=en(t),p=f.getUTCFullYear(),g=hu(),T=jr((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&i!==void 0?i:g.firstWeekContainsDate)!==null&&r!==void 0?r:(u=g.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=new Date(0);C.setUTCFullYear(p+1,0,T),C.setUTCHours(0,0,0,0);var j=Cc(C,e),A=new Date(0);A.setUTCFullYear(p,0,T),A.setUTCHours(0,0,0,0);var w=Cc(A,e);return f.getTime()>=j.getTime()?p+1:f.getTime()>=w.getTime()?p:p-1}function xR(t,e){var n,r,i,s,o,c,u,d;Xe(1,arguments);var f=hu(),p=jr((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(u=f.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),g=J2(t,e),T=new Date(0);T.setUTCFullYear(g,0,p),T.setUTCHours(0,0,0,0);var C=Cc(T,e);return C}var wR=6048e5;function _R(t,e){Xe(1,arguments);var n=en(t),r=Cc(n,e).getTime()-xR(n,e).getTime();return Math.round(r/wR)+1}function de(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Kn={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return de(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):de(r+1,2)},d:function(e,n){return de(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return de(e.getUTCHours()%12||12,n.length)},H:function(e,n){return de(e.getUTCHours(),n.length)},m:function(e,n){return de(e.getUTCMinutes(),n.length)},s:function(e,n){return de(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return de(s,n.length)}},wi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bR={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return Kn.y(e,n)},Y:function(e,n,r,i){var s=J2(e,i),o=s>0?s:1-s;if(n==="YY"){var c=o%100;return de(c,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):de(o,n.length)},R:function(e,n){var r=X2(e);return de(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return de(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return de(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return de(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Kn.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return de(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=_R(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):de(s,n.length)},I:function(e,n,r){var i=vR(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):de(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Kn.d(e,n)},D:function(e,n,r){var i=pR(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):de(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return de(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return de(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return de(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=wi.noon:i===0?s=wi.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=wi.evening:i>=12?s=wi.afternoon:i>=4?s=wi.morning:s=wi.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Kn.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Kn.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):de(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):de(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Kn.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Kn.s(e,n)},S:function(e,n){return Kn.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return Fy(o);case"XXXX":case"XX":return zr(o);case"XXXXX":case"XXX":default:return zr(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return Fy(o);case"xxxx":case"xx":return zr(o);case"xxxxx":case"xxx":default:return zr(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Vy(o,":");case"OOOO":default:return"GMT"+zr(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Vy(o,":");case"zzzz":default:return"GMT"+zr(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return de(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return de(o,n.length)}};function Vy(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e;return n+String(i)+o+de(s,2)}function Fy(t,e){if(t%60===0){var n=t>0?"-":"+";return n+de(Math.abs(t)/60,2)}return zr(t,e)}function zr(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=de(Math.floor(i/60),2),o=de(i%60,2);return r+s+n+o}var Uy=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Z2=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},ER=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return Uy(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",Uy(i,n)).replace("{{time}}",Z2(s,n))},TR={p:Z2,P:ER},IR=["D","DD"],NR=["YY","YYYY"];function SR(t){return IR.indexOf(t)!==-1}function CR(t){return NR.indexOf(t)!==-1}function zy(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var kR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jR=function(e,n,r){var i,s=kR[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function Td(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var AR={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},RR={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},PR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},DR={date:Td({formats:AR,defaultWidth:"full"}),time:Td({formats:RR,defaultWidth:"full"}),dateTime:Td({formats:PR,defaultWidth:"full"})},MR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},LR=function(e,n,r,i){return MR[e]};function Zs(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var c=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[u]||t.values[c]}var d=t.argumentCallback?t.argumentCallback(e):e;return i[d]}}var OR={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},VR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},FR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},UR={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},BR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$R=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},WR={ordinalNumber:$R,era:Zs({values:OR,defaultWidth:"wide"}),quarter:Zs({values:VR,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Zs({values:FR,defaultWidth:"wide"}),day:Zs({values:UR,defaultWidth:"wide"}),dayPeriod:Zs({values:zR,defaultWidth:"wide",formattingValues:BR,defaultFormattingWidth:"wide"})};function eo(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?qR(c,function(p){return p.test(o)}):HR(c,function(p){return p.test(o)}),d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;var f=e.slice(o.length);return{value:d,rest:f}}}function HR(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function qR(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function GR(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var c=e.slice(i.length);return{value:o,rest:c}}}var KR=/^(\d+)(th|st|nd|rd)?/i,QR=/\d+/i,YR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},XR={any:[/^b/i,/^(a|c)/i]},JR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ZR={any:[/1/i,/2/i,/3/i,/4/i]},eP={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tP={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nP={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rP={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iP={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sP={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},oP={ordinalNumber:GR({matchPattern:KR,parsePattern:QR,valueCallback:function(e){return parseInt(e,10)}}),era:eo({matchPatterns:YR,defaultMatchWidth:"wide",parsePatterns:XR,defaultParseWidth:"any"}),quarter:eo({matchPatterns:JR,defaultMatchWidth:"wide",parsePatterns:ZR,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:eo({matchPatterns:eP,defaultMatchWidth:"wide",parsePatterns:tP,defaultParseWidth:"any"}),day:eo({matchPatterns:nP,defaultMatchWidth:"wide",parsePatterns:rP,defaultParseWidth:"any"}),dayPeriod:eo({matchPatterns:iP,defaultMatchWidth:"any",parsePatterns:sP,defaultParseWidth:"any"})},aP={code:"en-US",formatDistance:jR,formatLong:DR,formatRelative:LR,localize:WR,match:oP,options:{weekStartsOn:0,firstWeekContainsDate:1}},lP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uP=/^'([^]*?)'?$/,dP=/''/g,hP=/[a-zA-Z]/;function dt(t,e,n){var r,i,s,o,c,u,d,f,p,g,T,C,j,A;Xe(2,arguments);var w=String(e),x=hu(),E=(r=(i=void 0)!==null&&i!==void 0?i:x.locale)!==null&&r!==void 0?r:aP,D=jr((s=(o=(c=(u=void 0)!==null&&u!==void 0?u:void 0)!==null&&c!==void 0?c:x.firstWeekContainsDate)!==null&&o!==void 0?o:(d=x.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var V=jr((p=(g=(T=(C=void 0)!==null&&C!==void 0?C:void 0)!==null&&T!==void 0?T:x.weekStartsOn)!==null&&g!==void 0?g:(j=x.locale)===null||j===void 0||(A=j.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&p!==void 0?p:0);if(!(V>=0&&V<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var z=en(t);if(!hR(z))throw new RangeError("Invalid time value");var I=lR(z),v=fR(z,I),_={firstWeekContainsDate:D,weekStartsOn:V,locale:E,_originalDate:z},N=w.match(cP).map(function(k){var S=k[0];if(S==="p"||S==="P"){var b=TR[S];return b(k,E.formatLong)}return k}).join("").match(lP).map(function(k){if(k==="''")return"'";var S=k[0];if(S==="'")return fP(k);var b=bR[S];if(b)return CR(k)&&zy(k,e,String(t)),SR(k)&&zy(k,e,String(t)),b(v,k,E.localize,_);if(S.match(hP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return k}).join("");return N}function fP(t){var e=t.match(uP);return e?e[1].replace(dP,"'"):t}function mP({title:t,titleId:e,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?P.createElement("title",{id:e},t):null,P.createElement("path",{fillRule:"evenodd",d:"M11.03 3.97a.75.75 0 0 1 0 1.06l-6.22 6.22H21a.75.75 0 0 1 0 1.5H4.81l6.22 6.22a.75.75 0 1 1-1.06 1.06l-7.5-7.5a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const pP=P.forwardRef(mP);function gP({title:t,titleId:e,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?P.createElement("title",{id:e},t):null,P.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const yP=P.forwardRef(gP);function vP({title:t,titleId:e,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?P.createElement("title",{id:e},t):null,P.createElement("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"}))}const xP=P.forwardRef(vP);function wP({title:t,titleId:e,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?P.createElement("title",{id:e},t):null,P.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}const _P=P.forwardRef(wP),By=[{code:"+93",country:"- Afghanistan"},{code:"+355",country:"- Albania"},{code:"+213",country:"- Algeria"},{code:"+376",country:"- Andorra"},{code:"+244",country:"- Angola"},{code:"+54",country:"- Argentina"},{code:"+374",country:"- Armenia"},{code:"+297",country:"- Aruba"},{code:"+61",country:"- Australia"},{code:"+43",country:"- Austria"},{code:"+994",country:"- Azerbaijan"},{code:"+973",country:"- Bahrain"},{code:"+880",country:"- Bangladesh"},{code:"+375",country:"- Belarus"},{code:"+32",country:"- Belgium"},{code:"+501",country:"- Belize"},{code:"+229",country:"- Benin"},{code:"+975",country:"- Bhutan"},{code:"+591",country:"- Bolivia"},{code:"+387",country:"- Bosnia and Herzegovina"},{code:"+267",country:"- Botswana"},{code:"+55",country:"- Brazil"},{code:"+246",country:"- British Indian Ocean Territory"},{code:"+673",country:"- Brunei"},{code:"+359",country:"- Bulgaria"},{code:"+226",country:"- Burkina Faso"},{code:"+257",country:"- Burundi"},{code:"+855",country:"- Cambodia"},{code:"+237",country:"- Cameroon"},{code:"+1",country:"- Canada"},{code:"+238",country:"- Cape Verde"},{code:"+599",country:"- Caribbean Netherlands"},{code:"+236",country:"- Central African Republic"},{code:"+235",country:"- Chad"},{code:"+56",country:"- Chile"},{code:"+86",country:"- China"},{code:"+57",country:"- Colombia"},{code:"+269",country:"- Comoros"},{code:"+242",country:"- Republic of the Congo"},{code:"+682",country:"- Cook Islands"},{code:"+506",country:"- Costa Rica"},{code:"+385",country:"- Croatia"},{code:"+53",country:"- Cuba"},{code:"+357",country:"- Cyprus"},{code:"+420",country:"- Czech Republic"},{code:"+243",country:"- DR Congo"},{code:"+45",country:"- Denmark"},{code:"+253",country:"- Djibouti"},{code:"+670",country:"- East Timor"},{code:"+593",country:"- Ecuador"},{code:"+20",country:"- Egypt"},{code:"+503",country:"- El Salvador"},{code:"+240",country:"- Equatorial Guinea"},{code:"+291",country:"- Eritrea"},{code:"+372",country:"- Estonia"},{code:"+268",country:"- Eswatini"},{code:"+251",country:"- Ethiopia"},{code:"+500",country:"- Falkland Islands"},{code:"+298",country:"- Faroe Islands"},{code:"+679",country:"- Fiji"},{code:"+358",country:"- Finland"},{code:"+33",country:"- France"},{code:"+594",country:"- French Guiana"},{code:"+689",country:"- French Polynesia"},{code:"+241",country:"- Gabon"},{code:"+220",country:"- Gambia"},{code:"+995",country:"- Georgia"},{code:"+49",country:"- Germany"},{code:"+233",country:"- Ghana"},{code:"+350",country:"- Gibraltar"},{code:"+30",country:"- Greece"},{code:"+299",country:"- Greenland"},{code:"+590",country:"- Guadeloupe"},{code:"+502",country:"- Guatemala"},{code:"+224",country:"- Guinea"},{code:"+245",country:"- Guinea-Bissau"},{code:"+592",country:"- Guyana"},{code:"+509",country:"- Haiti"},{code:"+504",country:"- Honduras"},{code:"+852",country:"- Hong Kong"},{code:"+36",country:"- Hungary"},{code:"+354",country:"- Iceland"},{code:"+91",country:"- India"},{code:"+62",country:"- Indonesia"},{code:"+98",country:"- Iran"},{code:"+964",country:"- Iraq"},{code:"+353",country:"- Ireland"},{code:"+972",country:"- Israel"},{code:"+39",country:"- Italy"},{code:"+225",country:"- Cte d'Ivoire"},{code:"+81",country:"- Japan"},{code:"+962",country:"- Jordan"},{code:"+7",country:"- Kazakhstan"},{code:"+254",country:"- Kenya"},{code:"+686",country:"- Kiribati"},{code:"+383",country:"- Kosovo"},{code:"+965",country:"- Kuwait"},{code:"+996",country:"- Kyrgyzstan"},{code:"+856",country:"- Laos"},{code:"+371",country:"- Latvia"},{code:"+961",country:"- Lebanon"},{code:"+266",country:"- Lesotho"},{code:"+231",country:"- Liberia"},{code:"+218",country:"- Libya"},{code:"+423",country:"- Liechtenstein"},{code:"+370",country:"- Lithuania"},{code:"+352",country:"- Luxembourg"},{code:"+853",country:"- Macau"},{code:"+389",country:"- North Macedonia"},{code:"+261",country:"- Madagascar"},{code:"+265",country:"- Malawi"},{code:"+60",country:"- Malaysia"},{code:"+960",country:"- Maldives"},{code:"+223",country:"- Mali"},{code:"+356",country:"- Malta"},{code:"+692",country:"- Marshall Islands"},{code:"+596",country:"- Martinique"},{code:"+230",country:"- Mauritius"},{code:"+52",country:"- Mexico"},{code:"+691",country:"- Micronesia"},{code:"+373",country:"- Moldova"},{code:"+377",country:"- Monaco"},{code:"+976",country:"- Mongolia"},{code:"+382",country:"- Montenegro"},{code:"+212",country:"- Morocco"},{code:"+258",country:"- Mozambique"},{code:"+95",country:"- Myanmar"},{code:"+264",country:"- Namibia"},{code:"+674",country:"- Nauru"},{code:"+977",country:"- Nepal"},{code:"+31",country:"- Netherlands"},{code:"+687",country:"- New Caledonia"},{code:"+64",country:"- New Zealand"},{code:"+505",country:"- Nicaragua"},{code:"+227",country:"- Niger"},{code:"+234",country:"- Nigeria"},{code:"+683",country:"- Niue"},{code:"+850",country:"- North Korea"},{code:"+672",country:"- Norfolk Island"},{code:"+47",country:"- Norway"},{code:"+968",country:"- Oman"},{code:"+92",country:"- Pakistan"},{code:"+680",country:"- Palau"},{code:"+970",country:"- Palestine"},{code:"+507",country:"- Panama"},{code:"+675",country:"- Papua New Guinea"},{code:"+595",country:"- Paraguay"},{code:"+51",country:"- Peru"},{code:"+63",country:"- Philippines"},{code:"+48",country:"- Poland"},{code:"+351",country:"- Portugal"},{code:"+1",country:"- Puerto Rico"},{code:"+974",country:"- Qatar"},{code:"+262",country:"- Runion"},{code:"+40",country:"- Romania"},{code:"+7",country:"- Russia"},{code:"+250",country:"- Rwanda"},{code:"+290",country:"- Saint Helena"},{code:"+685",country:"- Samoa"},{code:"+378",country:"- San Marino"},{code:"+239",country:"- So Tom and Prncipe"},{code:"+966",country:"- Saudi Arabia"},{code:"+221",country:"- Senegal"},{code:"+381",country:"- Serbia"},{code:"+248",country:"- Seychelles"},{code:"+232",country:"- Sierra Leone"},{code:"+65",country:"- Singapore"},{code:"+421",country:"- Slovakia"},{code:"+386",country:"- Slovenia"},{code:"+677",country:"- Solomon Islands"},{code:"+252",country:"- Somalia"},{code:"+27",country:"- South Africa"},{code:"+82",country:"- South Korea"},{code:"+34",country:"- Spain"},{code:"+94",country:"- Sri Lanka"},{code:"+249",country:"- Sudan"},{code:"+597",country:"- Suriname"},{code:"+46",country:"- Sweden"},{code:"+41",country:"- Switzerland"},{code:"+963",country:"- Syria"},{code:"+886",country:"- Taiwan"},{code:"+992",country:"- Tajikistan"},{code:"+255",country:"- Tanzania"},{code:"+66",country:"- Thailand"},{code:"+228",country:"- Togo"},{code:"+690",country:"- Tokelau"},{code:"+676",country:"- Tonga"},{code:"+216",country:"- Tunisia"},{code:"+90",country:"- Turkey"},{code:"+993",country:"- Turkmenistan"},{code:"+688",country:"- Tuvalu"},{code:"+256",country:"- Uganda"},{code:"+380",country:"- Ukraine"},{code:"+971",country:"- United Arab Emirates"},{code:"+44",country:"- United Kingdom"},{code:"+1",country:"- United States"},{code:"+598",country:"- Uruguay"},{code:"+998",country:"- Uzbekistan"},{code:"+678",country:"- Vanuatu"},{code:"+39",country:"- Vatican City"},{code:"+58",country:"- Venezuela"},{code:"+84",country:"- Vietnam"},{code:"+681",country:"- Wallis and Futuna"},{code:"+967",country:"- Yemen"},{code:"+260",country:"- Zambia"},{code:"+263",country:"- Zimbabwe"}];class pa{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const bP=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},qe={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:bP()},$m=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},EP=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=$m(t);qe.publicKey=n.publicKey,qe.blockHeadless=n.blockHeadless,qe.storageProvider=n.storageProvider,qe.blockList=n.blockList,qe.limitRate=n.limitRate,qe.origin=n.origin||e},e_=async(t,e,n={})=>{const r=await fetch(qe.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),s=new pa(r.status,i);if(r.ok)return s;throw s},t_=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},TP=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},n_=t=>t.webdriver||!t.languages||t.languages.length===0,r_=()=>new pa(451,"Unavailable For Headless Browser"),IP=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},NP=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},SP=(t,e)=>t instanceof FormData?t.get(e):t[e],i_=(t,e)=>{if(NP(t))return!1;IP(t.list,t.watchVariable);const n=SP(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},s_=()=>new pa(403,"Forbidden"),CP=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},kP=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},o_=async(t,e,n)=>{if(!e.throttle||!n)return!1;CP(e.throttle,e.id);const r=e.id||t;return await kP(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},a_=()=>new pa(429,"Too Many Requests"),jP=async(t,e,n,r)=>{const i=$m(r),s=i.publicKey||qe.publicKey,o=i.blockHeadless||qe.blockHeadless,c=i.storageProvider||qe.storageProvider,u={...qe.blockList,...i.blockList},d={...qe.limitRate,...i.limitRate};return o&&n_(navigator)?Promise.reject(r_()):(t_(s,t,e),TP(n),n&&i_(u,n)?Promise.reject(s_()):await o_(location.pathname,d,c)?Promise.reject(a_()):e_("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},AP=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},RP=t=>typeof t=="string"?document.querySelector(t):t,PP=async(t,e,n,r)=>{const i=$m(r),s=i.publicKey||qe.publicKey,o=i.blockHeadless||qe.blockHeadless,c=qe.storageProvider||i.storageProvider,u={...qe.blockList,...i.blockList},d={...qe.limitRate,...i.limitRate};if(o&&n_(navigator))return Promise.reject(r_());const f=RP(n);t_(s,t,e),AP(f);const p=new FormData(f);return i_(u,p)?Promise.reject(s_()):await o_(location.pathname,d,c)?Promise.reject(a_()):(p.append("lib_version","4.4.1"),p.append("service_id",t),p.append("template_id",e),p.append("user_id",s),e_("/api/v1.0/email/send-form",p))},l_={init:EP,send:jP,sendForm:PP,EmailJSResponseStatus:pa};l_.init("zgI0K2PftGCbEUiv_");const DP=()=>{const[t,e]=P.useState(1),[n,r]=P.useState(new Date),[i,s]=P.useState([]),[o,c]=P.useState(""),[u,d]=P.useState(""),[f,p]=P.useState(""),[g,T]=P.useState(""),[C,j]=P.useState("zoom"),[A,w]=P.useState(""),[x,E]=P.useState(!1),[D,V]=P.useState(!1),[z,I]=P.useState(dt(new Date,"MMMM yyyy")),v=()=>{const S=new Date(n.getFullYear(),n.getMonth(),1),b=new Date(n.getFullYear(),n.getMonth()+1,0),oe=[],re=S.getDay();for(let ee=re;ee>0;ee--){const U=new Date(S);U.setDate(U.getDate()-ee),oe.push({date:U,isCurrentMonth:!1})}for(let ee=1;ee<=b.getDate();ee++){const U=new Date(n.getFullYear(),n.getMonth(),ee);oe.push({date:U,isCurrentMonth:!0})}const Ae=b.getDay();for(let ee=1;ee<7-Ae;ee++){const U=new Date(b);U.setDate(U.getDate()+ee),oe.push({date:U,isCurrentMonth:!1})}return oe},_=S=>{const b=new Date(n);S==="prev"?b.setMonth(b.getMonth()-1):b.setMonth(b.getMonth()+1),r(b),I(dt(b,"MMMM yyyy"))},N=()=>{const S=[],b=n.getDay();if(b===3||b===6){const oe=ll(cR(n),600);for(let re=0;re<6;re++){const Ae=ll(oe,re*30);S.push({time:dt(Ae,"h:mm a"),available:!0})}}return S};P.useEffect(()=>{(async()=>{const b=N(),oe=Ko(Yo,"appointments"),re=kj(oe,jj("date","==",dt(n,"yyyy-MM-dd"))),ee=(await Oj(re)).docs.map(q=>q.data().time),U=b.map(q=>({...q,available:!ee.includes(q.time)}));s(U)})()},[n]);const k=async S=>{var b,oe;if(S.preventDefault(),!(!o||!u||!f)){E(!0);try{const re=((b=document.getElementById("selectedCountryCode"))==null?void 0:b.textContent)||"+1",Ae=((oe=By.find(Be=>Be.code===re))==null?void 0:oe.country)||"",ee=await cu(Ko(Yo,"appointments"),{name:u,email:f,phoneNumber:`${re} ${g}`,country:Ae.replace("- ",""),date:dt(n,"yyyy-MM-dd"),time:o,location:C,notes:A,createdAt:new Date().toISOString(),status:"pending"});let[U,q]=o.split(":"),[J,pe]=q.split(" "),le=parseInt(U),ge=parseInt(J)+30;ge>=60&&(le+=1,ge-=60),le>12&&(le-=12);const Ft=`${le}:${ge.toString().padStart(2,"0")} ${pe}`;try{console.log("Sending email with the following parameters:");const Be={to_name:u||"Client",to_email:f||"",appointment_date:dt(n,"EEEE, MMMM d, yyyy"),appointment_time:`${o} - ${Ft}`,meeting_method:C==="zoom"?"Zoom Meeting":"Phone Call",phone_number:`${re} ${g}`,appointment_id:ee.id,notes:A&&A.trim()!==""?A:null,consultant_name:"Khadija Zouine",consultant_title:"Immigration & Tax Consultant"};console.log("Email Parameters:",JSON.stringify(Be,null,2));const Ut=await l_.send("default_service","appointment_confirmation",Be);console.log("Email sent successfully:",Ut)}catch(Be){console.error("Error sending confirmation email:",Be),console.error("Error details:",JSON.stringify(Be,null,2))}V(!0),e(3)}catch(re){console.error("Error booking appointment:",re)}E(!1)}};return a.jsx("div",{className:"min-h-screen font-poppins bg-white py-6",children:a.jsx("div",{className:"max-w-5xl mx-auto px-4",children:a.jsxs("div",{className:"rounded-xl overflow-hidden flex flex-col md:flex-row border border-gray-300 shadow-md bg-white",children:[a.jsx("div",{className:"md:w-1/4 bg-gray-50 p-6 border-r border-gray-200",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-blue-600 tracking-wide",children:"Khadija Zouine"}),a.jsx("h3",{className:"font-medium text-gray-500 text-sm mb-3",children:"Immigration & Tax Consultant"}),a.jsx("div",{className:"border-t border-gray-200 my-4"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Free Appointment"}),a.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{children:"30 minutes"})]})]}),a.jsxs("div",{className:"mt-4 my-2 bg-blue-50 p-4 rounded-md border border-blue-100",children:[a.jsx("p",{className:"text-gray-800 text-sm mb-2",children:a.jsx("span",{className:"font-semibold",children:"Do you have questions about our services?"})}),a.jsxs("p",{className:"text-sm text-gray-700",children:["Book a free 30-minute ",a.jsx("span",{className:"text-blue-700 font-medium",children:"information call"})," with us!"]})]}),t===2&&o&&a.jsx("div",{className:"mt-2",children:a.jsxs("div",{className:"bg-white p-4 rounded-md border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex items-center text-gray-700 text-sm mb-2",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("span",{className:"font-medium",children:"Selected Time:"})]}),a.jsxs("div",{className:"pl-6 text-gray-800",children:[a.jsxs("p",{className:"text-sm mb-1",children:[o," - ",dt(ll(new Date(n.setHours(parseInt(o.split(":")[0]),parseInt(o.split(" ")[0].split(":")[1]))),30),"h:mm a")]}),a.jsx("p",{className:"text-sm",children:dt(n,"EEEE, MMMM d, yyyy")})]})]})})]})}),a.jsxs("div",{className:"md:w-3/4 flex flex-col md:flex-row",children:[t===1&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"w-full md:w-1/2 p-6 border-b md:border-b-0 md:border-r border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Select a Date"}),a.jsx("div",{className:"text-xs text-gray-600 mb-3",children:a.jsx("p",{children:"Available days: Wednesdays and Saturdays"})}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 shadow-sm bg-white h-[400px] flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("button",{onClick:()=>_("prev"),className:"p-2 rounded-full hover:bg-gray-100 transition-colors text-gray-600",children:a.jsx(xP,{className:"w-5 h-5"})}),a.jsx("h3",{className:"font-semibold text-gray-800",children:z}),a.jsx("button",{onClick:()=>_("next"),className:"p-2 rounded-full hover:bg-gray-100 transition-colors text-gray-600",children:a.jsx(_P,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"grid grid-cols-7 flex-1 gap-1",children:[["S","M","T","W","T","F","S"].map(S=>a.jsx("div",{className:"text-center text-xs font-semibold text-gray-600 pb-2",children:S},S)),v().map((S,b)=>{const oe=S.date.getDay(),re=oe===3||oe===6,Ae=dt(S.date,"yyyy-MM-dd")===dt(n,"yyyy-MM-dd"),ee=S.date<new Date,U=!S.isCurrentMonth||ee||!re;return a.jsx("button",{onClick:()=>U?null:r(S.date),disabled:U,className:`
       aspect-square flex items-center justify-center rounded-full text-sm transition-all duration-200
       ${S.isCurrentMonth?"":"text-gray-300"}
       ${ee?"cursor-not-allowed text-gray-300":""}
       ${!re&&S.isCurrentMonth?"text-gray-400":""}
       ${Ae?"bg-blue-600 text-white font-medium shadow-sm":""}
       ${!U&&!Ae?"hover:bg-blue-50 hover:text-blue-700":""}
     `,children:a.jsxs("span",{className:`${re&&!U&&!Ae?"relative":""}`,children:[dt(S.date,"d"),re&&!U&&!Ae&&a.jsx("span",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-blue-600 rounded-full"})]})},b)})]})]})]}),a.jsxs("div",{className:"w-full md:w-1/2 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Available Times"}),a.jsx("div",{className:"text-xs text-gray-600 mb-3",children:a.jsx("p",{children:"Available hours: 10:00 AM - 1:00 PM"})}),a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 shadow-sm bg-white h-[400px] overflow-y-auto custom-scrollbar",children:a.jsx("div",{className:"grid grid-cols-1 gap-3",children:i.length===0?a.jsx("div",{className:"text-center py-12 text-gray-500",children:a.jsx("p",{children:"Please select a Wednesday or Saturday to view available times"})}):i.map((S,b)=>{const oe=S.time,[re,Ae]=oe.split(":"),ee=new Date;ee.setHours(parseInt(re)),ee.setMinutes(parseInt(Ae));const U=new Date(ee.getTime()+30*6e4),q=`${dt(ee,"h:mm a")} - ${dt(U,"h:mm a")}`;return a.jsx("button",{onClick:()=>{S.available&&(c(S.time),e(2))},disabled:!S.available,className:`
                                                            relative py-3 px-3 rounded-md text-center transition-all duration-200 w-full
                                                            ${S.available?"bg-white border-2 border-gray-200 hover:border-blue-400 hover:bg-blue-50 text-gray-800 hover:text-blue-700 hover:shadow":"bg-gray-50 text-gray-400 cursor-not-allowed border border-gray-200"}
                                                        `,children:a.jsxs("div",{className:"flex flex-col items-center space-y-0",children:[a.jsx("span",{className:"font-medium text-base",children:q}),!S.available&&a.jsx("span",{className:"text-xs font-small text-gray-500 bg-gray-200 px-2 py-0.0 rounded-full",children:"Unavailable"})]})},b)})})})]})]}),t===2&&a.jsxs("div",{className:"w-full p-6",children:[a.jsxs("button",{onClick:()=>e(1),className:"flex items-center text-blue-600 mb-6 hover:text-blue-800 transition-colors",children:[a.jsx(pP,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:"Back to Calendar"})]}),a.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"Enter Your Details"}),a.jsxs("form",{onSubmit:k,className:"space-y-6 max-w-lg",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),a.jsx("input",{type:"text",value:u,onChange:S=>d(S.target.value),className:"w-full p-3 border border-gray-400 rounded-md focus:ring-0 focus:ring-blue-500 focus:border-blue-500 bg-white",placeholder:"Enter your full name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsx("input",{type:"email",value:f,onChange:S=>p(S.target.value),className:"w-full p-3 border border-gray-400 rounded-md focus:ring-0 focus:ring-blue-500 focus:border-blue-500 bg-white",placeholder:"email@example.com",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",className:"flex items-center justify-between w-22 p-3 border border-gray-300 rounded-l-md focus:ring-6 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-700",onClick:()=>{const S=document.getElementById("countryCodePopup");S&&S.classList.toggle("hidden")},children:[a.jsx("span",{id:"selectedCountryCode",children:"+1"}),a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),a.jsx("div",{id:"countryCodePopup",className:"hidden absolute z-10 mt-1 w-72 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto custom-scrollbar-code",children:a.jsxs("div",{className:"p-2",children:[a.jsx("input",{type:"text",placeholder:"Search countries...",className:"w-full p-2 border border-gray-300 rounded-md mb-2",onChange:S=>{const b=S.target.value.toLowerCase();document.querySelectorAll(".country-option").forEach(re=>{var ee;(((ee=re.textContent)==null?void 0:ee.toLowerCase())||"").includes(b)?re.style.display="block":re.style.display="none"})}}),a.jsx("div",{className:"grid grid-cols-1 gap-1",children:By.map((S,b)=>a.jsxs("button",{type:"button",className:"country-option text-left p-2 hover:bg-gray-100 rounded-md flex items-center",onClick:()=>{const oe=document.getElementById("selectedCountryCode");oe&&(oe.textContent=S.code);const re=document.getElementById("countryCodePopup");re&&re.classList.add("hidden")},children:[a.jsx("span",{className:"font-medium mr-2",children:S.code}),a.jsx("span",{className:"text-gray-600",children:S.country})]},b))})]})})]}),a.jsx("input",{type:"tel",className:"flex-1 p-3 border border-gray-300 border-l-0 rounded-r-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",placeholder:"Enter your phone number",value:g,onChange:S=>T(S.target.value),required:C==="phone"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"How would you like to meet? *"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-md bg-white hover:border-blue-300 transition-colors cursor-pointer",children:[a.jsx("input",{type:"radio",name:"location",value:"zoom",checked:C==="zoom",onChange:()=>j("zoom"),className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500"}),a.jsxs("span",{className:"ml-3 flex items-center text-gray-800 text-base",children:[a.jsxs("svg",{className:"w-5 h-5 mr-2 text-blue-600",xmlns:"http://www.w3.org/2000/svg","aria-label":"Zoom",role:"img",viewBox:"0 0 512 512",children:[a.jsx("rect",{width:"512",height:"512",rx:"15%",fill:"#2D8CFF"}),a.jsx("path",{fill:"#ffffff",d:"M428 357c8 2 15-2 19-8 2-3 2-8 2-19V179c0-11 0-15-2-19-3-8-11-11-19-8-21 14-67 55-68 72-.8 3-.8 8-.8 15v38c0 8 0 11 .8 15 1 8 4 15 8 19 12 9 52 45 61 45zM64 187c0-15 0-23 3-27 2-4 8-8 11-11 4-3 11-3 27-3h129c38 0 57 0 72 8 11 8 23 15 30 30 8 15 8 34 8 72v68c0 15 0 23-3 27-2 4-8 8-11 11-4 3-11 3-27 3H174c-38 0-57 0-72-8-11-8-23-15-30-30-8-15-8-34-8-72z"})]}),"Zoom Meeting"]})]}),a.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-md bg-white hover:border-blue-300 transition-colors cursor-pointer",children:[a.jsx("input",{type:"radio",name:"location",value:"phone",checked:C==="phone",onChange:()=>j("phone"),className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500"}),a.jsxs("span",{className:"ml-3 flex items-center text-gray-800 text-base",children:[a.jsxs("svg",{className:"w-5 h-5 mr-2 text-blue-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:[a.jsx("rect",{width:"512",height:"512",rx:"15%",fill:"#2D8CFF"}),a.jsx("path",{fill:"#ffffff",d:"M390 286.2c-8.7-8.7-19.3-13.5-30.8-13.5-11.5 0-22.2 4.8-30.9 13.5l-30.3 30.2c-2.4-1.3-4.7-2.4-7-3.6-3.3-1.7-6.4-3.2-9-4.8-26.8-17-51.3-39.1-74.5-67.7-11.3-14.3-18.9-26.3-24.4-38.6 7.4-6.7 14.2-13.7 20.9-20.5 2.5-2.5 5-5.1 7.5-7.6 18.9-18.9 18.9-43.3 0-62.2l-26.2-26.2c-3-3-5.9-5.9-8.8-8.9-5.7-5.8-11.5-11.8-17.5-17.4-8.7-8.7-19.2-13.3-30.7-13.3-11.5 0-22.1 4.6-31 13.3l-.2.2-32.6 32.8c-11.7 11.7-18.3 25.9-19.7 42.3-2 26.8 5.7 51.6 11.5 67.8 14.2 39.4 35.5 76 67.3 115.4 38.7 47.1 85.2 84.3 138.4 110.4 20.3 9.6 47.5 21 77.8 22.9 1.9.1 3.8.2 5.6.2 20.6 0 37.9-7.4 51.5-22.1 0-.1.1-.2.2-.3 4.7-5.6 10-10.7 15.6-16.1 3.8-3.6 7.7-7.4 11.5-11.3 8.8-9 13.5-19.6 13.5-31.1 0-11.5-4.8-22.1-13.7-30.9L390 286.2z"})]}),"Phone Call"]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Please share anything that will help prepare for our meeting"}),a.jsx("textarea",{value:A,onChange:S=>w(S.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",rows:4,placeholder:"Share any specific topics you'd like to discuss or questions you have"})]}),a.jsx("div",{className:"pt-2",children:a.jsx("button",{type:"submit",disabled:x,className:"w-full py-3 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300 font-medium shadow-sm transition-colors",children:x?"Scheduling...":"Schedule Event"})})]})]}),t===3&&D&&a.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg p-8",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx(yP,{className:"w-16 h-16 text-green-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-center mb-3 text-blue-600",children:"You are scheduled"}),a.jsxs("p",{className:"text-gray-600 text-center mb-8",children:["Your appointment is confirmed!",a.jsx("br",{}),"Details have been sent to your email."]}),a.jsxs("a",{href:"https://wa.me/393516737374",target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center px-5 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors mb-8 text-green-500",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),a.jsx("span",{children:"Contact on WhatsApp"})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-5 bg-gray-50",children:[a.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Free Appointment"}),a.jsxs("div",{className:"flex items-center text-gray-700 mb-3",children:[a.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),a.jsx("span",{children:"Khadija Zouine"})]}),a.jsxs("div",{className:"flex items-center text-gray-700",children:[a.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsxs("span",{className:"text-sm",children:[o," - ",dt(ll(new Date(n.setHours(parseInt(o.split(":")[0]),parseInt(o.split(" ")[0].split(":")[1]))),30),"h:mm a")]})]}),a.jsx("div",{className:"ml-8 text-sm text-gray-700 mt-1",children:dt(n,"EEEE, MMMM d, yyyy")})]})]})]})]})})})},MP="/assets/logo-CG0_zpq-.svg";function LP(){const t=ra(),[e,n]=P.useState(!1),[r,i]=P.useState(!1);P.useEffect(()=>{const o=()=>{i(window.scrollY>0)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]);const s=()=>a.jsx(UA,{});return a.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[a.jsxs("nav",{className:`${r?"bg-blue-600/40":"bg-blue-600"} backdrop-blur-sm md:sticky top-0 z-50`,children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsx("div",{className:"flex-shrink-0 md:flex-shrink basis-1/3 md:basis-auto",children:a.jsx("a",{href:"/",className:"flex items-center",children:a.jsx("img",{src:MP,alt:"E-Co Fisco",className:"h-12 w-auto transition-transform duration-300 hover:scale-105"})})}),a.jsx("div",{className:"hidden md:flex md:items-center md:space-x-4",children:a.jsx(u0,{setMobileMenuOpen:n})}),a.jsxs("div",{className:"flex md:hidden items-center justify-between basis-2/3",children:[a.jsx("div",{className:"flex justify-center w-full",children:a.jsx("button",{onClick:()=>n(!e),className:"text-white hover:text-blue-200 focus:outline-none",children:e?a.jsx(ZI,{size:24}):a.jsx(XI,{size:24})})}),a.jsx("div",{className:"flex justify-end w-full",children:a.jsx("button",{onClick:()=>t("/contact"),className:"inline-block px-4 py-1.5 bg-white text-blue-900 rounded-full text-sm font-medium hover:bg-blue-50 transition-all duration-300",children:"Contact Us"})})]})]})}),e&&a.jsx("div",{className:"md:hidden border-t border-blue-700",children:a.jsx(u0,{setMobileMenuOpen:n})})]}),a.jsx("main",{className:"flex-grow",children:a.jsxs(fI,{children:[a.jsx(xn,{path:"/",element:s()}),a.jsx(xn,{path:"/services",element:a.jsx(nR,{})}),a.jsx(xn,{path:"/guide",element:a.jsx(rR,{})}),a.jsx(xn,{path:"/about",element:a.jsx(iR,{})}),a.jsx(xn,{path:"/contact",element:a.jsx(sR,{})}),a.jsx(xn,{path:"/residence-permit-request",element:a.jsx(oR,{})}),a.jsx(xn,{path:"/book-appointment",element:a.jsx(DP,{})}),a.jsx(xn,{path:"*",element:a.jsx(dI,{to:"/",replace:!0})})]})}),a.jsx(MN,{})]})}function OP(){return a.jsx(Ew,{children:a.jsx(LI,{children:a.jsx(LP,{})})})}tw(document.getElementById("root")).render(a.jsx(P.StrictMode,{children:a.jsx(OP,{})}));
